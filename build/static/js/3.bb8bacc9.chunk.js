/*! For license information please see 3.bb8bacc9.chunk.js.LICENSE.txt */
(this["webpackJsonpamazon-clone"]=this["webpackJsonpamazon-clone"]||[]).push([[3],{1272:function(e,t,r){var n=r(1359);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1274:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"PhantomInjectedProvider",(function(){return U})),r.d(t,"SolanaPrivateKeyProvider",(function(){return V})),r.d(t,"SolanaWallet",(function(){return G})),r.d(t,"TorusInjectedProvider",(function(){return C}));var n=r(157),i=r(4),a=r(5),o=r(10),s=r(11),u=r(14),c=r(1),f=r.n(c),h=r(16),l=r.n(h),p=r(1263),d=r(79),b=r(15),y=r(1296),v=r(1292),g=r(1272),m=r.n(g),w=r(594),k=r(1297),O=r.n(k);function j(e){var t=e.getAccounts;return Object(d.f)(function(){var e=Object(u.a)(f.a.mark((function e(r,n,i){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("getAccounts"===r.method){e.next=3;break}return e.abrupt("return",i());case 3:if(t){e.next=5;break}throw new Error("WalletMiddleware - opts.getAccounts not provided");case 5:return e.next=7,t(r);case 7:return a=e.sent,n.result=a,e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())}function x(e){var t=e.requestAccounts;return Object(d.f)(function(){var e=Object(u.a)(f.a.mark((function e(r,n,i){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("requestAccounts"===r.method){e.next=3;break}return e.abrupt("return",i());case 3:if(t){e.next=5;break}throw new Error("WalletMiddleware - opts.requestAccounts not provided");case 5:return e.next=7,t(r);case 7:return a=e.sent,n.result=a,e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())}function E(e,t){return Object(d.f)(function(){var r=Object(u.a)(f.a.mark((function r(n,i,a){var o;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.method===e){r.next=3;break}return r.abrupt("return",a());case 3:if(t){r.next=5;break}throw new Error("WalletMiddleware - ".concat(e," not provided"));case 5:return r.next=7,t(n);case 7:return o=r.sent,i.result=o,r.abrupt("return",void 0);case 10:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}())}function S(e){var t=e.getAccounts,r=e.requestAccounts,n=e.signTransaction,i=e.signAndSendTransaction,a=e.signAllTransactions,o=e.signMessage,s=e.getPrivateKey;return Object(d.k)([x({requestAccounts:r}),j({getAccounts:t}),E("signTransaction",n),E("signAndSendTransaction",i),E("signAllTransactions",a),E("signMessage",o),E("solanaPrivateKey",s)])}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){return Object(d.f)(function(){var t=Object(u.a)(f.a.mark((function t(r,n,i){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request(P({},r));case 2:a=t.sent,n.result=a;case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}())}var _=function(e){var t={requestAccounts:function(){var t=Object(u.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.publicKey?[m.a.encode(e.publicKey.toBytes())]:[]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getAccounts:function(){var t=Object(u.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.publicKey?[m.a.encode(e.publicKey.toBytes())]:[]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw w.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signTransaction:function(){var t=Object(u.a)(f.a.mark((function t(r){var n,i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m.a.decode(r.params.message),i=v.c.from(n),t.next=4,e.signTransaction(i);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signMessage:function(){var t=Object(u.a)(f.a.mark((function t(r){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request({method:"signMessage",params:{message:null===(n=r.params)||void 0===n?void 0:n.message}});case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signAndSendTransaction:function(){var t=Object(u.a)(f.a.mark((function t(r){var n,i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m.a.decode(r.params.message),i=v.c.from(n),t.next=4,e.signAndSendTransaction(i);case 4:return a=t.sent,t.abrupt("return",{signature:a.signature});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signAllTransactions:function(){var t=Object(u.a)(f.a.mark((function t(r){var n,i,a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=r.params)&&void 0!==n&&n.message&&null!==(i=r.params)&&void 0!==i&&i.message.length){t.next=2;break}throw w.ethErrors.rpc.invalidParams("message");case 2:return a=r.params.message.map((function(e){var t=m.a.decode(e);return v.c.from(t)})),t.next=5,e.signAllTransactions(a);case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return t};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){Object(i.a)(this,r);var n=e.config,a=e.state;return t.call(this,{config:{chainConfig:T(T({},n.chainConfig),{},{chainNamespace:b.f.SOLANA})},state:a})}return Object(a.a)(r,[{key:"switchChain",value:function(){var e=Object(u.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_(t),n=S(r),i=I(t),(a=new d.b).push(n),a.push(i),o=Object(p.i)(a),this.updateProviderEngineProxy(o),e.next=10,this.lookupNetwork(t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.config.chainConfig,this.update({chainId:r.chainId}),e.abrupt("return",r.chainId||"");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(y.a),R=function(t){var r={requestAccounts:function(){var e=Object(u.a)(f.a.mark((function e(){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"solana_requestAccounts",params:{}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAccounts:function(){var e=Object(u.a)(f.a.mark((function e(){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"solana_accounts",params:{}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw w.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signMessage:function(){var e=Object(u.a)(f.a.mark((function e(r){var n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"sign_message",params:{data:null===(n=r.params)||void 0===n?void 0:n.message}});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signTransaction:function(){var r=Object(u.a)(f.a.mark((function r(n){var i,a,o,s,u;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(i=n.params)&&void 0!==i&&i.message){r.next=2;break}throw w.ethErrors.rpc.invalidParams("message");case 2:return a=m.a.decode(n.params.message).toString("hex"),r.next=5,t.request({method:"sign_transaction",params:{message:a}});case 5:return o=r.sent,s=e.from(o,"hex"),u=v.c.from(s),r.abrupt("return",u);case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signAndSendTransaction:function(){var e=Object(u.a)(f.a.mark((function e(r){var n,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=r.params)&&void 0!==n&&n.message){e.next=2;break}throw w.ethErrors.rpc.invalidParams("message");case 2:return i=m.a.decode(r.params.message).toString("hex"),e.next=5,t.request({method:"send_transaction",params:{message:i}});case 5:return a=e.sent,e.abrupt("return",{signature:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signAllTransactions:function(){var e=Object(u.a)(f.a.mark((function e(r){var i,a,o,s,u,c,h,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=r.params)&&void 0!==i&&i.message&&null!==(a=r.params)&&void 0!==a&&a.message.length){e.next=2;break}throw w.ethErrors.rpc.invalidParams("message");case 2:o=[],s=Object(n.a)(r.params.message);try{for(s.s();!(u=s.n()).done;)c=u.value,h=m.a.decode(c).toString("hex"),o.push(h)}catch(f){s.e(f)}finally{s.f()}return e.next=7,t.request({method:"sign_all_transactions",params:{message:o}});case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return r};function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){Object(i.a)(this,r);var n=e.config,a=e.state;return t.call(this,{config:{chainConfig:z(z({},n.chainConfig),{},{chainNamespace:b.f.SOLANA})},state:a})}return Object(a.a)(r,[{key:"switchChain",value:function(){var e=Object(u.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var e=Object(u.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handleInjectedProviderUpdate(t),e.next=3,this.setupEngine(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var e=Object(u.a)(f.a.mark((function e(){var t,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider){e.next=2;break}throw w.ethErrors.provider.custom({message:"Torus solana provider is not initialized",code:4902});case 2:return t=this.config.chainConfig.chainId,e.next=5,this.provider.request({method:"solana_chainId"});case 5:if(r=e.sent,n=Object(b.n)(r.toString())?r:"0x".concat(parseInt(r,10).toString(16)),t===n){e.next=9;break}throw b.j.rpcConnectionError("Invalid network, net_version is: ".concat(n,", expected: ").concat(t));case 9:return this.update({chainId:n}),this.provider.emit("connect",{chainId:this.state.chainId}),this.provider.emit("chainChanged",this.state.chainId),e.abrupt("return",this.state.chainId);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setupEngine",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),n=S(r),i=I(t),(a=new d.b).push(n),a.push(i),o=Object(p.i)(a),this.updateProviderEngineProxy(o),e.next=10,this.lookupNetwork();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleInjectedProviderUpdate",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.on("accountsChanged",function(){var e=Object(u.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.provider.emit("accountsChanged",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("chainChanged",function(){var e=Object(u.a)(f.a.mark((function e(n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(b.n)(n)?n:"0x".concat(parseInt(n,10).toString(16)),r.configure({chainConfig:z(z({},r.config.chainConfig),{},{chainId:i})}),e.next=4,r.setupProvider(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(y.a);function W(e){return function(t,r,n,i){return"solana_chainId"===t.method?(r.result=e,i()):n()}}function K(e){return function(t,r,n,i){return"solana_provider_config"===t.method?(r.result=e,i()):n()}}function L(e){var t=e.chainId,r=e.rpcTarget,n=Object(p.g)({rpcTarget:r});return{networkMiddleware:Object(d.k)([W(t),K(e),n]),fetchMiddleware:n}}function M(e){return D.apply(this,arguments)}function D(){return D=Object(u.a)(f.a.mark((function t(r){var i,a,o,s,c,h;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.privKey,a=r.getProviderEngineProxy,o=function(e){var t=m.a.decode(e);return v.c.populate(v.b.from(t))},s=function(){return v.a.fromSecretKey(e.from(i,"hex"))},"string"===typeof i){t.next=5;break}throw b.j.invalidParams("privKey must be a string");case 5:return c=s(),h={requestAccounts:function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[c.publicKey.toBase58()]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAccounts:function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[c.publicKey.toBase58()]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signTransaction:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.params)&&void 0!==r&&r.message){e.next=2;break}throw w.ethErrors.rpc.invalidParams("message");case 2:return(i=o(null===(n=t.params)||void 0===n?void 0:n.message)).partialSign(c),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signMessage:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.params)&&void 0!==r&&r.message){e.next=2;break}throw w.ethErrors.rpc.invalidParams("message");case 2:return n=O.a.sign.detached(t.params.message,c.secretKey),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signAndSendTransaction:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n,i,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.params)&&void 0!==r&&r.message){e.next=2;break}throw w.ethErrors.rpc.invalidParams("message");case 2:if(i=a()){e.next=5;break}throw w.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 5:return(s=o(null===(n=t.params)||void 0===n?void 0:n.message)).sign(c),e.next=9,i.request({method:"sendTransaction",params:[m.a.encode(s.serialize())]});case 9:return u=e.sent,e.abrupt("return",{signature:u});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signAllTransactions:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,i,a,s,u,h,l,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.params)&&void 0!==r&&r.message&&null!==(i=t.params)&&void 0!==i&&i.message.length){e.next=2;break}throw w.ethErrors.rpc.invalidParams("message");case 2:a=[],s=Object(n.a)((null===(l=t.params)||void 0===l?void 0:l.message)||[]);try{for(s.s();!(u=s.n()).done;)h=u.value,(p=o(h)).partialSign(c),a.push(p)}catch(f){s.e(f)}finally{s.f()}return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},t.abrupt("return",h);case 8:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){Object(i.a)(this,r);var n=e.config,a=e.state;return t.call(this,{config:{chainConfig:F(F({},n.chainConfig),{},{chainNamespace:b.f.SOLANA})},state:a})}return Object(a.a)(r,[{key:"enable",value:function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.privateKey){e.next=2;break}throw w.ethErrors.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});case 2:return e.next=4,this.setupProvider(this.state.privateKey);case 4:return e.abrupt("return",this._providerEngineProxy.request({method:"eth_accounts"}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n,i,a,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({privKey:t,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)});case 2:return r=e.sent,n=S(r),i=new d.b,a=L(this.config.chainConfig),o=a.networkMiddleware,i.push(this.getChainSwitchMiddleware()),i.push(this.getAccountMiddleware()),i.push(n),i.push(o),s=Object(p.i)(i),this.updateProviderEngineProxy(s),e.next=14,this.lookupNetwork();case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccount",value:function(){var e=Object(u.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw w.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return e.next=4,this._providerEngineProxy.request({method:"solanaPrivateKey"});case 4:if(e.sent===t.privateKey){e.next=14;break}return e.next=8,this.setupProvider(t.privateKey);case 8:return e.t0=this._providerEngineProxy,e.next=11,this._providerEngineProxy.request({method:"requestAccounts"});case 11:e.t1=e.sent,e.t2={accounts:e.t1},e.t0.emit.call(e.t0,"accountsChanged",e.t2);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"switchChain",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw w.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return r=this.getChainConfig(t.chainId),this.update({chainId:"loading"}),this.configure({chainConfig:r}),e.next=7,this._providerEngineProxy.request({method:"solanaPrivateKey"});case 7:return n=e.sent,e.next=10,this.setupProvider(n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var e=Object(u.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw w.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return e.next=4,this._providerEngineProxy.request({method:"getHealth",params:[]});case 4:if(t=e.sent,r=this.config.chainConfig,"ok"===t){e.next=8;break}throw b.j.rpcConnectionError("Failed to lookup network for following rpc target: ".concat(r.rpcTarget));case 8:return this.update({chainId:r.chainId}),this.state.chainId!==r.chainId&&(this.provider.emit("chainChanged",this.state.chainId),this.provider.emit("connect",{chainId:this.state.chainId})),e.abrupt("return",this.state.chainId);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChainSwitchMiddleware",value:function(){var e=this,t={addNewChainConfig:function(){var t=Object(u.a)(f.a.mark((function t(r){var n,i,a,o,s,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.params){t.next=2;break}throw w.ethErrors.rpc.invalidParams("Missing request params");case 2:if(n=r.params,i=n.chainId,a=n.chainName,o=n.rpcUrls,s=n.blockExplorerUrls,u=n.nativeCurrency,i){t.next=5;break}throw w.ethErrors.rpc.invalidParams("Missing chainId in chainParams");case 5:if(o&&0!==o.length){t.next=7;break}throw w.ethErrors.rpc.invalidParams("Missing rpcUrls in chainParams");case 7:if(u){t.next=9;break}throw w.ethErrors.rpc.invalidParams("Missing nativeCurrency in chainParams");case 9:e.addChain({chainNamespace:b.f.SOLANA,chainId:i,ticker:(null===u||void 0===u?void 0:u.symbol)||"SOL",tickerName:(null===u||void 0===u?void 0:u.name)||"Solana",displayName:a,rpcTarget:o[0],blockExplorer:(null===s||void 0===s?void 0:s[0])||""});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),switchSolanaChain:function(){var t=Object(u.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.params){t.next=2;break}throw w.ethErrors.rpc.invalidParams("Missing request params");case 2:if(r.params.chainId){t.next=4;break}throw w.ethErrors.rpc.invalidParams("Missing chainId");case 4:return t.next=6,e.switchChain(r.params);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return function(e){var t=e.addNewChainConfig,r=e.switchSolanaChain;return Object(d.k)([E("addSolanaChain",t),E("switchSolanaChain",r)])}(t)}},{key:"getAccountMiddleware",value:function(){var e=this,t={updatePrivatekey:function(){var t=Object(u.a)(f.a.mark((function t(r){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.params){t.next=2;break}throw w.ethErrors.rpc.invalidParams("Missing request params");case 2:if(r.params.privateKey){t.next=4;break}throw w.ethErrors.rpc.invalidParams("Missing privateKey");case 4:return n=r.params.privateKey,t.next=7,e.updateAccount({privateKey:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return function(e){var t=e.updatePrivatekey;return Object(d.k)([E("updateAccount",t)])}(t)}}]),r}(y.a);l()(V,"getProviderInstance",function(){var e=Object(u.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new V({config:{chainConfig:t.chainConfig}}),e.next=3,r.setupProvider(t.privKey);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var G=function(){function e(t){Object(i.a)(this,e),l()(this,"provider",void 0),this.provider=t}return Object(a.a)(e,[{key:"requestAccounts",value:function(){var e=Object(u.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"requestAccounts",params:{}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signAndSendTransaction",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"signAndSendTransaction",params:{message:m.a.encode(t.serialize({requireAllSignatures:!1}))}});case 2:return r=e.sent,n=r.signature,e.abrupt("return",{signature:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"signTransaction",params:{message:m.a.encode(t.serialize({requireAllSignatures:!1}))}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAllTransactions",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){return m.a.encode(e.serialize({requireAllSignatures:!1}))})),e.next=3,this.provider.request({method:"signAllTransactions",params:{message:r}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"signMessage",params:{message:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=Object(u.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()}.call(this,r(23).Buffer)},1292:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return hn})),r.d(t,"b",(function(){return ir})),r.d(t,"c",(function(){return cr}));var n=r(239),i=r(157),a=r(45),o=r(1293),s=r(80),u=r(14),c=r(10),f=r(11),h=r(4),l=r(5),p=r(1),d=r.n(p),b=r(1294),y=r.n(b),v=r(23),g=r(25),m=r.n(g),w=r(1272),k=r.n(w),O=r(1360),j=r(1362),x=r(1448),E=(r(1363),r(1367),r(1369)),S=r.n(E),A=r(191),P=r.n(A),I=function(e){return v.Buffer.isBuffer(e)?e:e instanceof Uint8Array?v.Buffer.from(e.buffer,e.byteOffset,e.byteLength):v.Buffer.from(e)},_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};var B={},T={},U=R;function R(e,t){if(!e)throw new Error(t||"Assertion failed")}R.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var N={exports:{}};"function"===typeof Object.create?N.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:N.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var z=U,C=N.exports;function W(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function K(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function L(e){return 1===e.length?"0"+e:e}function M(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}T.inherits=C,T.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):W(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},T.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=L(e[r].toString(16));return t},T.htonl=K,T.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=K(i)),r+=M(i.toString(16))}return r},T.zero2=L,T.zero8=M,T.join32=function(e,t,r,n){var i=r-t;z(i%4===0);for(var a=new Array(i/4),o=0,s=t;o<a.length;o++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],a[o]=u>>>0}return a},T.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},T.rotr32=function(e,t){return e>>>t|e<<32-t},T.rotl32=function(e,t){return e<<t|e>>>32-t},T.sum32=function(e,t){return e+t>>>0},T.sum32_3=function(e,t,r){return e+t+r>>>0},T.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},T.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},T.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a},T.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},T.sum64_lo=function(e,t,r,n){return t+n>>>0},T.sum64_4_hi=function(e,t,r,n,i,a,o,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+a>>>0)<a?1:0,e+r+i+o+(u+=(c=c+s>>>0)<s?1:0)>>>0},T.sum64_4_lo=function(e,t,r,n,i,a,o,s){return t+n+a+s>>>0},T.sum64_5_hi=function(e,t,r,n,i,a,o,s,u,c){var f=0,h=t;return f+=(h=h+n>>>0)<t?1:0,f+=(h=h+a>>>0)<a?1:0,f+=(h=h+s>>>0)<s?1:0,e+r+i+o+u+(f+=(h=h+c>>>0)<c?1:0)>>>0},T.sum64_5_lo=function(e,t,r,n,i,a,o,s,u,c){return t+n+a+s+c>>>0},T.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},T.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},T.shr64_hi=function(e,t,r){return e>>>r},T.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var D={},q=T,F=U;function V(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}D.BlockHash=V,V.prototype.update=function(e,t){if(e=q.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=q.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},V.prototype.digest=function(e){return this.update(this._pad()),F(null===this.pending),this._digest(e)},V.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var G={},H={},J=T.rotr32;function Z(e,t,r){return e&t^~e&r}function X(e,t,r){return e&t^e&r^t&r}function $(e,t,r){return e^t^r}H.ft_1=function(e,t,r,n){return 0===e?Z(t,r,n):1===e||3===e?$(t,r,n):2===e?X(t,r,n):void 0},H.ch32=Z,H.maj32=X,H.p32=$,H.s0_256=function(e){return J(e,2)^J(e,13)^J(e,22)},H.s1_256=function(e){return J(e,6)^J(e,11)^J(e,25)},H.g0_256=function(e){return J(e,7)^J(e,18)^e>>>3},H.g1_256=function(e){return J(e,17)^J(e,19)^e>>>10};var Y=T,Q=D,ee=H,te=Y.rotl32,re=Y.sum32,ne=Y.sum32_5,ie=ee.ft_1,ae=Q.BlockHash,oe=[1518500249,1859775393,2400959708,3395469782];function se(){if(!(this instanceof se))return new se;ae.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Y.inherits(se,ae);var ue=se;se.blockSize=512,se.outSize=160,se.hmacStrength=80,se.padLength=64,se.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=te(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),f=ne(te(i,5),ie(c,a,o,s),u,r[n],oe[c]);u=s,s=o,o=te(a,30),a=i,i=f}this.h[0]=re(this.h[0],i),this.h[1]=re(this.h[1],a),this.h[2]=re(this.h[2],o),this.h[3]=re(this.h[3],s),this.h[4]=re(this.h[4],u)},se.prototype._digest=function(e){return"hex"===e?Y.toHex32(this.h,"big"):Y.split32(this.h,"big")};var ce=T,fe=D,he=H,le=U,pe=ce.sum32,de=ce.sum32_4,be=ce.sum32_5,ye=he.ch32,ve=he.maj32,ge=he.s0_256,me=he.s1_256,we=he.g0_256,ke=he.g1_256,Oe=fe.BlockHash,je=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xe(){if(!(this instanceof xe))return new xe;Oe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=je,this.W=new Array(64)}ce.inherits(xe,Oe);var Ee=xe;xe.blockSize=512,xe.outSize=256,xe.hmacStrength=192,xe.padLength=64,xe.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=de(ke(r[n-2]),r[n-7],we(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7];for(le(this.k.length===r.length),n=0;n<r.length;n++){var l=be(h,me(u),ye(u,c,f),this.k[n],r[n]),p=pe(ge(i),ve(i,a,o));h=f,f=c,c=u,u=pe(s,l),s=o,o=a,a=i,i=pe(l,p)}this.h[0]=pe(this.h[0],i),this.h[1]=pe(this.h[1],a),this.h[2]=pe(this.h[2],o),this.h[3]=pe(this.h[3],s),this.h[4]=pe(this.h[4],u),this.h[5]=pe(this.h[5],c),this.h[6]=pe(this.h[6],f),this.h[7]=pe(this.h[7],h)},xe.prototype._digest=function(e){return"hex"===e?ce.toHex32(this.h,"big"):ce.split32(this.h,"big")};var Se=T,Ae=Ee;function Pe(){if(!(this instanceof Pe))return new Pe;Ae.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Se.inherits(Pe,Ae);var Ie=Pe;Pe.blockSize=512,Pe.outSize=224,Pe.hmacStrength=192,Pe.padLength=64,Pe.prototype._digest=function(e){return"hex"===e?Se.toHex32(this.h.slice(0,7),"big"):Se.split32(this.h.slice(0,7),"big")};var _e=T,Be=D,Te=U,Ue=_e.rotr64_hi,Re=_e.rotr64_lo,Ne=_e.shr64_hi,ze=_e.shr64_lo,Ce=_e.sum64,We=_e.sum64_hi,Ke=_e.sum64_lo,Le=_e.sum64_4_hi,Me=_e.sum64_4_lo,De=_e.sum64_5_hi,qe=_e.sum64_5_lo,Fe=Be.BlockHash,Ve=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ge(){if(!(this instanceof Ge))return new Ge;Fe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ve,this.W=new Array(160)}_e.inherits(Ge,Fe);var He=Ge;function Je(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function Ze(e,t,r,n,i,a){var o=t&n^~t&a;return o<0&&(o+=4294967296),o}function Xe(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function $e(e,t,r,n,i,a){var o=t&n^t&a^n&a;return o<0&&(o+=4294967296),o}function Ye(e,t){var r=Ue(e,t,28)^Ue(t,e,2)^Ue(t,e,7);return r<0&&(r+=4294967296),r}function Qe(e,t){var r=Re(e,t,28)^Re(t,e,2)^Re(t,e,7);return r<0&&(r+=4294967296),r}function et(e,t){var r=Ue(e,t,14)^Ue(e,t,18)^Ue(t,e,9);return r<0&&(r+=4294967296),r}function tt(e,t){var r=Re(e,t,14)^Re(e,t,18)^Re(t,e,9);return r<0&&(r+=4294967296),r}function rt(e,t){var r=Ue(e,t,1)^Ue(e,t,8)^Ne(e,t,7);return r<0&&(r+=4294967296),r}function nt(e,t){var r=Re(e,t,1)^Re(e,t,8)^ze(e,t,7);return r<0&&(r+=4294967296),r}function it(e,t){var r=Ue(e,t,19)^Ue(t,e,29)^Ne(e,t,6);return r<0&&(r+=4294967296),r}function at(e,t){var r=Re(e,t,19)^Re(t,e,29)^ze(e,t,6);return r<0&&(r+=4294967296),r}Ge.blockSize=1024,Ge.outSize=512,Ge.hmacStrength=192,Ge.padLength=128,Ge.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=it(r[n-4],r[n-3]),a=at(r[n-4],r[n-3]),o=r[n-14],s=r[n-13],u=rt(r[n-30],r[n-29]),c=nt(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=Le(i,a,o,s,u,c,f,h),r[n+1]=Me(i,a,o,s,u,c,f,h)}},Ge.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7],h=this.h[8],l=this.h[9],p=this.h[10],d=this.h[11],b=this.h[12],y=this.h[13],v=this.h[14],g=this.h[15];Te(this.k.length===r.length);for(var m=0;m<r.length;m+=2){var w=v,k=g,O=et(h,l),j=tt(h,l),x=Je(h,l,p,d,b),E=Ze(h,l,p,d,b,y),S=this.k[m],A=this.k[m+1],P=r[m],I=r[m+1],_=De(w,k,O,j,x,E,S,A,P,I),B=qe(w,k,O,j,x,E,S,A,P,I);w=Ye(n,i),k=Qe(n,i),O=Xe(n,i,a,o,s),j=$e(n,i,a,o,s,u);var T=We(w,k,O,j),U=Ke(w,k,O,j);v=b,g=y,b=p,y=d,p=h,d=l,h=We(c,f,_,B),l=Ke(f,f,_,B),c=s,f=u,s=a,u=o,a=n,o=i,n=We(_,B,T,U),i=Ke(_,B,T,U)}Ce(this.h,0,n,i),Ce(this.h,2,a,o),Ce(this.h,4,s,u),Ce(this.h,6,c,f),Ce(this.h,8,h,l),Ce(this.h,10,p,d),Ce(this.h,12,b,y),Ce(this.h,14,v,g)},Ge.prototype._digest=function(e){return"hex"===e?_e.toHex32(this.h,"big"):_e.split32(this.h,"big")};var ot=T,st=He;function ut(){if(!(this instanceof ut))return new ut;st.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ot.inherits(ut,st);var ct=ut;ut.blockSize=1024,ut.outSize=384,ut.hmacStrength=192,ut.padLength=128,ut.prototype._digest=function(e){return"hex"===e?ot.toHex32(this.h.slice(0,12),"big"):ot.split32(this.h.slice(0,12),"big")},G.sha1=ue,G.sha224=Ie,G.sha256=Ee,G.sha384=ct,G.sha512=He;var ft={},ht=T,lt=D,pt=ht.rotl32,dt=ht.sum32,bt=ht.sum32_3,yt=ht.sum32_4,vt=lt.BlockHash;function gt(){if(!(this instanceof gt))return new gt;vt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function mt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function wt(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function kt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}ht.inherits(gt,vt),ft.ripemd160=gt,gt.blockSize=512,gt.outSize=160,gt.hmacStrength=192,gt.padLength=64,gt.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],s=r,u=n,c=i,f=a,h=o,l=0;l<80;l++){var p=dt(pt(yt(r,mt(l,n,i,a),e[Ot[l]+t],wt(l)),xt[l]),o);r=o,o=a,a=pt(i,10),i=n,n=p,p=dt(pt(yt(s,mt(79-l,u,c,f),e[jt[l]+t],kt(l)),Et[l]),h),s=h,h=f,f=pt(c,10),c=u,u=p}p=bt(this.h[1],i,f),this.h[1]=bt(this.h[2],a,h),this.h[2]=bt(this.h[3],o,s),this.h[3]=bt(this.h[4],r,u),this.h[4]=bt(this.h[0],n,c),this.h[0]=p},gt.prototype._digest=function(e){return"hex"===e?ht.toHex32(this.h,"little"):ht.split32(this.h,"little")};var Ot=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],jt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],xt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Et=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],St=T,At=U;function Pt(e,t,r){if(!(this instanceof Pt))return new Pt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(St.toArray(t,r))}var It=Pt;Pt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),At(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Pt.prototype.update=function(e,t){return this.inner.update(e,t),this},Pt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=T,t.common=D,t.sha=G,t.ripemd=ft,t.hmac=It,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(B);var _t=B,Bt=!1,Tt=!1,Ut={debug:1,default:2,info:2,warning:3,error:4,off:5},Rt=Ut.default,Nt=null;var zt,Ct,Wt=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(zt||(zt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Ct||(Ct={}));var Kt="0123456789abcdef",Lt=function(){function e(t){Object(h.a)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return Object(l.a)(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==Ut[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Rt>Ut[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(Tt)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",a=0;a<t.length;a++)r+=Kt[t[a]>>4],r+=Kt[15&t[a]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(o){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var a=t;i.length&&(t+=" ("+i.join(", ")+")");var o=new Error(t);return o.reason=a,o.code=r,Object.keys(n).forEach((function(e){o[e]=n[e]})),o}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){Wt&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Wt})}},{key:"checkSafeUint53",value:function(t,r){"number"===typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return Nt||(Nt=new e("logger/5.5.0")),Nt}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Bt){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Tt=!!t,Bt=!!r}},{key:"setLogLevel",value:function(t){var r=Ut[t.toLowerCase()];null!=r?Rt=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();Lt.errors=Ct,Lt.levels=zt;var Mt=new Lt("bytes/5.5.0");function Dt(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return Dt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function qt(e){return"number"===typeof e&&e==e&&e%1===0}function Ft(e,t){if(t||(t={}),"number"===typeof e){Mt.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),Dt(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":Mt.throwArgumentError("hex data is odd-length","value",e));for(var i=[],a=0;a<n.length;a+=2)i.push(parseInt(n.substring(a,a+2),16));return Dt(new Uint8Array(i))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!qt(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!qt(r)||r<0||r>=256)return!1}return!0}(e)?Dt(new Uint8Array(e)):Mt.throwArgumentError("invalid arrayify value","value",e)}function Vt(e){return"0x"+_t.sha256().update(Ft(e)).digest("hex")}new Lt("sha2/5.5.0");var Gt=function(){function e(t){Object(h.a)(this,e),Object.assign(this,t)}return Object(l.a)(e,[{key:"encode",value:function(){return v.Buffer.from(Object(O.serialize)(Ht,this))}}],[{key:"decode",value:function(e){return Object(O.deserialize)(Ht,this,e)}},{key:"decodeUnchecked",value:function(e){return Object(O.deserializeUnchecked)(Ht,this,e)}}]),e}(),Ht=new Map;var Jt=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(e){var n;if(Object(h.a)(this,r),(n=t.call(this,{}))._bn=void 0,function(e){return void 0!==e._bn}(e))n._bn=e._bn;else{if("string"===typeof e){var i=k.a.decode(e);if(32!=i.length)throw new Error("Invalid public key input");n._bn=new m.a(i)}else n._bn=new m.a(e);if(n._bn.byteLength()>32)throw new Error("Invalid public key input")}return n}return Object(l.a)(r,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return k.a.encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){return this.toBuffer()}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(v.Buffer);if(32===e.length)return e;var t=v.Buffer.alloc(32);return e.copy(t,32-e.length),t}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"createWithSeed",value:function(){var e=Object(u.a)(d.a.mark((function e(t,n,i){var a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.Buffer.concat([t.toBuffer(),v.Buffer.from(n),i.toBuffer()]),o=Vt(new Uint8Array(a)).slice(2),e.abrupt("return",new r(v.Buffer.from(o,"hex")));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"createProgramAddress",value:function(){var e=Object(u.a)(d.a.mark((function e(t,n){var i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.Buffer.alloc(0),t.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");i=v.Buffer.concat([i,I(e)])})),i=v.Buffer.concat([i,n.toBuffer(),v.Buffer.from("ProgramDerivedAddress")]),a=Vt(new Uint8Array(i)).slice(2),!Xt(o=new m.a(a,16).toArray(void 0,32))){e.next=7;break}throw new Error("Invalid seeds, address must fall off the curve");case 7:return e.abrupt("return",new r(o));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"findProgramAddress",value:function(){var e=Object(u.a)(d.a.mark((function e(t,r){var n,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=255;case 1:if(0==n){e.next=18;break}return e.prev=2,a=t.concat(v.Buffer.from([n])),e.next=6,this.createProgramAddress(a,r);case 6:i=e.sent,e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(2),!(e.t0 instanceof TypeError)){e.next=13;break}throw e.t0;case 13:return n--,e.abrupt("continue",1);case 15:return e.abrupt("return",[i,n]);case 18:throw new Error("Unable to find a viable program address nonce");case 19:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"isOnCurve",value:function(e){return 1==Xt(e)}}]),r}(Gt);Jt.default=new Jt("11111111111111111111111111111111"),Ht.set(Jt,{kind:"struct",fields:[["_bn","u256"]]});var Zt=y.a.lowlevel;function Xt(e){var t=[Zt.gf(),Zt.gf(),Zt.gf(),Zt.gf()],r=Zt.gf(),n=Zt.gf(),i=Zt.gf(),a=Zt.gf(),o=Zt.gf(),s=Zt.gf(),u=Zt.gf();return Zt.set25519(t[2],$t),Zt.unpack25519(t[1],e),Zt.S(i,t[1]),Zt.M(a,i,Zt.D),Zt.Z(i,i,t[2]),Zt.A(a,t[2],a),Zt.S(o,a),Zt.S(s,o),Zt.M(u,s,o),Zt.M(r,u,i),Zt.M(r,r,a),Zt.pow2523(r,r),Zt.M(r,r,i),Zt.M(r,r,a),Zt.M(r,r,a),Zt.M(t[0],r,a),Zt.S(n,t[0]),Zt.M(n,n,a),Qt(n,i)&&Zt.M(t[0],t[0],Yt),Zt.S(n,t[0]),Zt.M(n,n,a),Qt(n,i)?0:1}var $t=Zt.gf([1]),Yt=Zt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Qt(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Zt.pack25519(r,e),Zt.pack25519(n,t),Zt.crypto_verify_32(r,0,n,0)}new Jt("BPFLoader1111111111111111111111111111111111");var er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return j.blob(32,e)},tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=j.struct([j.u32("length"),j.u32("lengthPadding"),j.blob(j.offset(j.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=function(e,t){return r(e,t).chars.toString("utf8")},t.encode=function(e,t,r){var i={chars:v.Buffer.from(e,"utf8")};return n(i,t,r)},t.alloc=function(e){return j.u32().span+j.u32().span+v.Buffer.from(e,"utf8").length},t};function rr(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function nr(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}var ir=function(){function e(t){var r=this;Object(h.a)(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new Jt(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return Object(l.a)(e,[{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return Object(s.a)(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];nr(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=k.a.decode(e.data),i=[];nr(i,t.length);var a=[];return nr(a,n.length),{programIdIndex:r,keyIndicesCount:v.Buffer.from(i),keyIndices:v.Buffer.from(t),dataLength:v.Buffer.from(a),data:n}})),n=[];nr(n,r.length);var i=v.Buffer.alloc(sr);v.Buffer.from(n).copy(i);var a=n.length;r.forEach((function(e){var t=j.struct([j.u8("programIdIndex"),j.blob(e.keyIndicesCount.length,"keyIndicesCount"),j.seq(j.u8("keyIndex"),e.keyIndices.length,"keyIndices"),j.blob(e.dataLength.length,"dataLength"),j.seq(j.u8("userdatum"),e.data.length,"data")]).encode(e,i,a);a+=t})),i=i.slice(0,a);var o=j.struct([j.blob(1,"numRequiredSignatures"),j.blob(1,"numReadonlySignedAccounts"),j.blob(1,"numReadonlyUnsignedAccounts"),j.blob(t.length,"keyCount"),j.seq(er("key"),e,"keys"),er("recentBlockhash")]),s={numRequiredSignatures:v.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:v.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:v.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:v.Buffer.from(t),keys:this.accountKeys.map((function(e){return I(e.toBytes())})),recentBlockhash:k.a.decode(this.recentBlockhash)},u=v.Buffer.alloc(2048),c=o.encode(s,u);return i.copy(u,c),u.slice(0,c+i.length)}}],[{key:"from",value:function(t){for(var r=Object(s.a)(t),n=r.shift(),i=r.shift(),a=r.shift(),o=rr(r),u=[],c=0;c<o;c++){var f=r.slice(0,32);r=r.slice(32),u.push(k.a.encode(v.Buffer.from(f)))}for(var h=r.slice(0,32),l=rr(r=r.slice(32)),p=[],d=0;d<l;d++){var b=r.shift(),y=rr(r),g=r.slice(0,y),m=rr(r=r.slice(y)),w=r.slice(0,m),O=k.a.encode(v.Buffer.from(w));r=r.slice(m),p.push({programIdIndex:b,accounts:g,data:O})}return new e({header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:k.a.encode(v.Buffer.from(h)),accountKeys:u,instructions:p})}}]),e}();function ar(e,t){if(!e)throw new Error(t||"Assertion failed")}var or=v.Buffer.alloc(64).fill(0),sr=1232,ur=Object(l.a)((function e(t){Object(h.a)(this,e),this.keys=void 0,this.programId=void 0,this.data=v.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)})),cr=function(){function e(t){Object(h.a)(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,t&&Object.assign(this,t)}return Object(l.a)(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new ur(t))})),this}},{key:"compileMessage",value:function(){var e=this.nonceInfo;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));var t,r=this.recentBlockhash;if(!r)throw new Error("Transaction recentBlockhash required");if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)t=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");t=this.signatures[0].publicKey}for(var n=0;n<this.instructions.length;n++)if(void 0===this.instructions[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var s=[],u=[];this.instructions.forEach((function(e){e.keys.forEach((function(e){u.push(Object(o.a)({},e))}));var t=e.programId.toString();s.includes(t)||s.push(t)})),s.forEach((function(e){u.push({pubkey:new Jt(e),isSigner:!1,isWritable:!1})})),u.sort((function(e,t){var r=e.pubkey.toBase58().localeCompare(t.pubkey.toBase58()),n=e.isSigner===t.isSigner?0:e.isSigner?-1:1,i=e.isWritable===t.isWritable?r:e.isWritable?-1:1;return n||i}));var c=[];u.forEach((function(e){var t=e.pubkey.toString(),r=c.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?c[r].isWritable=c[r].isWritable||e.isWritable:c.push(e)}));var f=c.findIndex((function(e){return e.pubkey.equals(t)}));if(f>-1){var h=c.splice(f,1),l=Object(a.a)(h,1)[0];l.isSigner=!0,l.isWritable=!0,c.unshift(l)}else c.unshift({pubkey:t,isSigner:!0,isWritable:!0});var p,d=Object(i.a)(this.signatures);try{var b=function(){var e=p.value,t=c.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));c[t].isSigner||(c[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(d.s();!(p=d.n()).done;)b()}catch(x){d.e(x)}finally{d.f()}var y=0,v=0,g=0,m=[],w=[];c.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(m.push(t.toString()),y+=1,n||(v+=1)):(w.push(t.toString()),n||(g+=1))}));var O=m.concat(w),j=this.instructions.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:O.indexOf(r.toString()),accounts:e.keys.map((function(e){return O.indexOf(e.pubkey.toString())})),data:k.a.encode(t)}}));return j.forEach((function(e){ar(e.programIdIndex>=0),e.accounts.forEach((function(e){return ar(e>=0)}))})),new ir({header:{numRequiredSignatures:y,numReadonlySignedAccounts:v,numReadonlyUnsignedAccounts:g},accountKeys:O,recentBlockhash:r,instructions:j})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,r){return t[r].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],a=0,o=t;a<o.length;a++){var s=o[a],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(i)),this._verifySignatures(c.serialize(),!0)}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],a=0,o=t;a<o.length;a++){var s=o[a],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];i.forEach((function(e){var n=y.a.sign.detached(r,e.secretKey);t._addSignature(e.publicKey,I(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){ar(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=v.Buffer.from(t)}},{key:"verifySignatures",value:function(){return this._verifySignatures(this.serializeMessage(),!0)}},{key:"_verifySignatures",value:function(e,t){var r,n=Object(i.a)(this.signatures);try{for(n.s();!(r=n.n()).done;){var a=r.value,o=a.signature,s=a.publicKey;if(null===o){if(t)return!1}else if(!y.a.sign.detached.verify(e,o,s.toBuffer()))return!1}}catch(u){n.e(u)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];nr(r,t.length);var n=r.length+64*t.length+e.length,i=v.Buffer.alloc(n);return ar(t.length<256),v.Buffer.from(r).copy(i,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(ar(64===n.length,"signature has invalid length"),v.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),ar(i.length<=sr,"Transaction too large: ".concat(i.length," > ").concat(sr)),i}},{key:"keys",get:function(){return ar(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return ar(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return ar(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=Object(s.a)(t),n=rr(r),i=[],a=0;a<n;a++){var o=r.slice(0,64);r=r.slice(64),i.push(k.a.encode(v.Buffer.from(o)))}return e.populate(ir.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var i={signature:e==k.a.encode(or)?null:k.a.decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new ur({keys:r,programId:t.accountKeys[e.programIdIndex],data:k.a.decode(e.data)}))})),n}}]),e}(),fr=new Jt("SysvarC1ock11111111111111111111111111111111"),hr=(new Jt("SysvarEpochSchedu1e111111111111111111111111"),new Jt("Sysvar1nstructions1111111111111111111111111"),new Jt("SysvarRecentB1ockHashes11111111111111111111")),lr=new Jt("SysvarRent111111111111111111111111111111111"),pr=(new Jt("SysvarRewards111111111111111111111111111111"),new Jt("SysvarS1otHashes111111111111111111111111111"),new Jt("SysvarS1otHistory11111111111111111111111111"),new Jt("SysvarStakeHistory1111111111111111111111111"));function dr(e,t,r,n){return br.apply(this,arguments)}function br(){return(br=Object(u.a)(d.a.mark((function e(t,r,n,i){var a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries},e.next=3,t.sendTransaction(r,n,a);case 3:return o=e.sent,e.next=6,t.confirmTransaction(o,i&&i.commitment);case 6:if(!(s=e.sent.value).err){e.next=9;break}throw new Error("Transaction ".concat(o," failed (").concat(JSON.stringify(s),")"));case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yr(e){return new Promise((function(t){return setTimeout(t,e)}))}function vr(e,t){var r=e.layout.span>=0?e.layout.span:function(e,t){var r=0;return e.layout.fields.forEach((function(e){e.span>=0?r+=e.span:"function"===typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}(e,t),n=v.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}var gr=j.nu64("lamportsPerSignature"),mr=j.struct([j.u32("version"),j.u32("state"),er("authorizedPubkey"),er("nonce"),j.struct([gr],"feeCalculator")]),wr=mr.span,kr=Object.freeze({Create:{index:0,layout:j.struct([j.u32("instruction"),j.ns64("lamports"),j.ns64("space"),er("programId")])},Assign:{index:1,layout:j.struct([j.u32("instruction"),er("programId")])},Transfer:{index:2,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])},CreateWithSeed:{index:3,layout:j.struct([j.u32("instruction"),er("base"),tr("seed"),j.ns64("lamports"),j.ns64("space"),er("programId")])},AdvanceNonceAccount:{index:4,layout:j.struct([j.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:j.struct([j.u32("instruction"),er("authorized")])},AuthorizeNonceAccount:{index:7,layout:j.struct([j.u32("instruction"),er("authorized")])},Allocate:{index:8,layout:j.struct([j.u32("instruction"),j.ns64("space")])},AllocateWithSeed:{index:9,layout:j.struct([j.u32("instruction"),er("base"),tr("seed"),j.ns64("space"),er("programId")])},AssignWithSeed:{index:10,layout:j.struct([j.u32("instruction"),er("base"),tr("seed"),er("programId")])},TransferWithSeed:{index:11,layout:j.struct([j.u32("instruction"),j.ns64("lamports"),tr("seed"),er("programId")])}}),Or=function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"createAccount",value:function(e){var t=vr(kr.Create,{lamports:e.lamports,space:e.space,programId:I(e.programId.toBuffer())});return new ur({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){var t,r;"basePubkey"in e?(t=vr(kr.TransferWithSeed,{lamports:e.lamports,seed:e.seed,programId:I(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=vr(kr.Transfer,{lamports:e.lamports}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]);return new ur({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;"basePubkey"in e?(t=vr(kr.AssignWithSeed,{base:I(e.basePubkey.toBuffer()),seed:e.seed,programId:I(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=vr(kr.Assign,{programId:I(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new ur({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=vr(kr.CreateWithSeed,{base:I(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:I(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ur({keys:r,programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new cr;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:wr,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:wr,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=vr(kr.InitializeNonceAccount,{authorized:I(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new ur(r)}},{key:"nonceAdvance",value:function(e){var t=vr(kr.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new ur(r)}},{key:"nonceWithdraw",value:function(e){var t=vr(kr.WithdrawNonceAccount,{lamports:e.lamports});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=vr(kr.AuthorizeNonceAccount,{authorized:I(e.newAuthorizedPubkey.toBuffer())});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){var t,r;"basePubkey"in e?(t=vr(kr.AllocateWithSeed,{base:I(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:I(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=vr(kr.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new ur({keys:r,programId:this.programId,data:t})}}]),e}();Or.programId=new Jt("11111111111111111111111111111111");var jr=sr-300,xr=function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:function(){var t=Object(u.a)(d.a.mark((function t(r,n,i,a,o){var s,u,c,f,h,l,p,b,y,g,m,w,k,O;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(o.length);case 2:return s=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(u=t.sent,c=null,null===u){t.next=16;break}if(!u.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:u.data.length!==o.length&&(c=c||new cr).add(Or.allocate({accountPubkey:i.publicKey,space:o.length})),u.owner.equals(a)||(c=c||new cr).add(Or.assign({accountPubkey:i.publicKey,programId:a})),u.lamports<s&&(c=c||new cr).add(Or.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:s-u.lamports})),t.next=17;break;case 16:c=(new cr).add(Or.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:s>0?s:1,space:o.length,programId:a}));case 17:if(null===c){t.next=20;break}return t.next=20,dr(r,c,[n,i],{commitment:"confirmed"});case 20:f=j.struct([j.u32("instruction"),j.u32("offset"),j.u32("bytesLength"),j.u32("bytesLengthPadding"),j.seq(j.u8("byte"),j.offset(j.u32(),-8),"bytes")]),h=e.chunkSize,l=0,p=o,b=[];case 25:if(!(p.length>0)){t.next=39;break}if(y=p.slice(0,h),g=v.Buffer.alloc(h+16),f.encode({instruction:0,offset:l,bytes:y},g),m=(new cr).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:a,data:g}),b.push(dr(r,m,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return 4,t.next=35,yr(250);case 35:l+=h,p=p.slice(h),t.next=25;break;case 39:return t.next=41,Promise.all(b);case 41:return w=j.struct([j.u32("instruction")]),k=v.Buffer.alloc(w.span),w.encode({instruction:1},k),O=(new cr).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:a,data:k}),t.next=47,dr(r,O,[n,i],{commitment:"confirmed"});case 47:return t.abrupt("return",!0);case 48:case"end":return t.stop()}}),t)})));return function(e,r,n,i,a){return t.apply(this,arguments)}}()}]),e}();xr.chunkSize=jr;new Jt("BPFLoader2111111111111111111111111111111111");var Er={exports:{}};!function(e,t){var r="undefined"!==typeof self?self:_,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function b(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=c(e),t=f(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[c(e)]},l.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},l.prototype.set=function(e,t){this.map[c(e)]=f(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},n&&(l.prototype[Symbol.iterator]=l.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var r=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function k(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function O(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var j=[301,302,303,307,308];O.redirect=function(e,t){if(-1===j.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,r){return new Promise((function(n,a){var o=new m(e,r);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:k(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;n(new O(t,e))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=l,e.Request=m,e.Response=O),t.Headers=l,t.Request=m,t.Response=O,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Er,Er.exports);Error;var Sr=Object(x.e)(Object(x.g)(Jt),Object(x.m)(),(function(e){return new Jt(e)})),Ar=Object(x.n)([Object(x.m)(),Object(x.h)("base64")]),Pr=Object(x.e)(Object(x.g)(v.Buffer),Ar,(function(e){return v.Buffer.from(e[0],"base64")}));function Ir(e){return Object(x.p)([Object(x.o)({jsonrpc:Object(x.h)("2.0"),id:Object(x.m)(),result:e}),Object(x.o)({jsonrpc:Object(x.h)("2.0"),id:Object(x.m)(),error:Object(x.o)({code:Object(x.q)(),message:Object(x.m)(),data:Object(x.k)(Object(x.a)())})})])}var _r=Ir(Object(x.q)());function Br(e){return Object(x.e)(Ir(e),_r,(function(t){return"error"in t?t:Object(o.a)(Object(o.a)({},t),{},{result:Object(x.f)(t.result,e)})}))}function Tr(e){return Br(Object(x.o)({context:Object(x.o)({slot:Object(x.j)()}),value:e}))}function Ur(e){return Object(x.o)({context:Object(x.o)({slot:Object(x.j)()}),value:e})}var Rr=Object(x.o)({foundation:Object(x.j)(),foundationTerm:Object(x.j)(),initial:Object(x.j)(),taper:Object(x.j)(),terminal:Object(x.j)()}),Nr=(Br(Object(x.b)(Object(x.i)(Object(x.o)({epoch:Object(x.j)(),effectiveSlot:Object(x.j)(),amount:Object(x.j)(),postBalance:Object(x.j)()})))),Object(x.o)({epoch:Object(x.j)(),slotIndex:Object(x.j)(),slotsInEpoch:Object(x.j)(),absoluteSlot:Object(x.j)(),blockHeight:Object(x.k)(Object(x.j)()),transactionCount:Object(x.k)(Object(x.j)())})),zr=Object(x.o)({slotsPerEpoch:Object(x.j)(),leaderScheduleSlotOffset:Object(x.j)(),warmup:Object(x.d)(),firstNormalEpoch:Object(x.j)(),firstNormalSlot:Object(x.j)()}),Cr=Object(x.l)(Object(x.m)(),Object(x.b)(Object(x.j)())),Wr=Object(x.i)(Object(x.p)([Object(x.o)({}),Object(x.m)()])),Kr=Object(x.o)({err:Wr}),Lr=Object(x.h)("receivedSignature");Object(x.o)({"solana-core":Object(x.m)(),"feature-set":Object(x.k)(Object(x.j)())}),Tr(Object(x.o)({err:Object(x.i)(Object(x.p)([Object(x.o)({}),Object(x.m)()])),logs:Object(x.i)(Object(x.b)(Object(x.m)())),accounts:Object(x.k)(Object(x.i)(Object(x.b)(Object(x.i)(Object(x.o)({executable:Object(x.d)(),owner:Object(x.m)(),lamports:Object(x.j)(),data:Object(x.b)(Object(x.m)()),rentEpoch:Object(x.k)(Object(x.j)())}))))),unitsConsumed:Object(x.k)(Object(x.j)())}));Br(Rr),Br(Nr),Br(zr),Br(Cr),Br(Object(x.j)()),Tr(Object(x.o)({total:Object(x.j)(),circulating:Object(x.j)(),nonCirculating:Object(x.j)(),nonCirculatingAccounts:Object(x.b)(Sr)}));var Mr=Object(x.o)({amount:Object(x.m)(),uiAmount:Object(x.i)(Object(x.j)()),decimals:Object(x.j)(),uiAmountString:Object(x.k)(Object(x.m)())}),Dr=(Tr(Object(x.b)(Object(x.o)({address:Sr,amount:Object(x.m)(),uiAmount:Object(x.i)(Object(x.j)()),decimals:Object(x.j)(),uiAmountString:Object(x.k)(Object(x.m)())}))),Tr(Object(x.b)(Object(x.o)({pubkey:Sr,account:Object(x.o)({executable:Object(x.d)(),owner:Sr,lamports:Object(x.j)(),data:Pr,rentEpoch:Object(x.j)()})}))),Object(x.o)({program:Object(x.m)(),parsed:Object(x.q)(),space:Object(x.j)()})),qr=(Tr(Object(x.b)(Object(x.o)({pubkey:Sr,account:Object(x.o)({executable:Object(x.d)(),owner:Sr,lamports:Object(x.j)(),data:Dr,rentEpoch:Object(x.j)()})}))),Tr(Object(x.b)(Object(x.o)({lamports:Object(x.j)(),address:Sr}))),Object(x.o)({executable:Object(x.d)(),owner:Sr,lamports:Object(x.j)(),data:Pr,rentEpoch:Object(x.j)()})),Fr=(Object(x.o)({pubkey:Sr,account:qr}),Object(x.e)(Object(x.p)([Object(x.g)(v.Buffer),Dr]),Object(x.p)([Ar,Dr]),(function(e){return Array.isArray(e)?Object(x.f)(e,Pr):e}))),Vr=Object(x.o)({executable:Object(x.d)(),owner:Sr,lamports:Object(x.j)(),data:Fr,rentEpoch:Object(x.j)()}),Gr=(Object(x.o)({pubkey:Sr,account:Vr}),Object(x.o)({state:Object(x.p)([Object(x.h)("active"),Object(x.h)("inactive"),Object(x.h)("activating"),Object(x.h)("deactivating")]),active:Object(x.j)(),inactive:Object(x.j)()}),Br(Object(x.b)(Object(x.o)({signature:Object(x.m)(),slot:Object(x.j)(),err:Wr,memo:Object(x.i)(Object(x.m)()),blockTime:Object(x.k)(Object(x.i)(Object(x.j)()))}))),Br(Object(x.b)(Object(x.o)({signature:Object(x.m)(),slot:Object(x.j)(),err:Wr,memo:Object(x.i)(Object(x.m)()),blockTime:Object(x.k)(Object(x.i)(Object(x.j)()))}))),Object(x.o)({subscription:Object(x.j)(),result:Ur(qr)}),Object(x.o)({pubkey:Sr,account:qr})),Hr=(Object(x.o)({subscription:Object(x.j)(),result:Ur(Gr)}),Object(x.o)({parent:Object(x.j)(),slot:Object(x.j)(),root:Object(x.j)()})),Jr=(Object(x.o)({subscription:Object(x.j)(),result:Hr}),Object(x.p)([Object(x.o)({type:Object(x.p)([Object(x.h)("firstShredReceived"),Object(x.h)("completed"),Object(x.h)("optimisticConfirmation"),Object(x.h)("root")]),slot:Object(x.j)(),timestamp:Object(x.j)()}),Object(x.o)({type:Object(x.h)("createdBank"),parent:Object(x.j)(),slot:Object(x.j)(),timestamp:Object(x.j)()}),Object(x.o)({type:Object(x.h)("frozen"),slot:Object(x.j)(),timestamp:Object(x.j)(),stats:Object(x.o)({numTransactionEntries:Object(x.j)(),numSuccessfulTransactions:Object(x.j)(),numFailedTransactions:Object(x.j)(),maxTransactionsPerEntry:Object(x.j)()})}),Object(x.o)({type:Object(x.h)("dead"),slot:Object(x.j)(),timestamp:Object(x.j)(),err:Object(x.m)()})])),Zr=(Object(x.o)({subscription:Object(x.j)(),result:Jr}),Object(x.o)({subscription:Object(x.j)(),result:Ur(Object(x.p)([Kr,Lr]))}),Object(x.o)({subscription:Object(x.j)(),result:Object(x.j)()}),Object(x.o)({pubkey:Object(x.m)(),gossip:Object(x.i)(Object(x.m)()),tpu:Object(x.i)(Object(x.m)()),rpc:Object(x.i)(Object(x.m)()),version:Object(x.i)(Object(x.m)())}),Object(x.o)({votePubkey:Object(x.m)(),nodePubkey:Object(x.m)(),activatedStake:Object(x.j)(),epochVoteAccount:Object(x.d)(),epochCredits:Object(x.b)(Object(x.n)([Object(x.j)(),Object(x.j)(),Object(x.j)()])),commission:Object(x.j)(),lastVote:Object(x.j)(),rootSlot:Object(x.i)(Object(x.j)())})),Xr=(Br(Object(x.o)({current:Object(x.b)(Zr),delinquent:Object(x.b)(Zr)})),Object(x.p)([Object(x.h)("processed"),Object(x.h)("confirmed"),Object(x.h)("finalized")])),$r=Object(x.o)({slot:Object(x.j)(),confirmations:Object(x.i)(Object(x.j)()),err:Wr,confirmationStatus:Object(x.k)(Xr)}),Yr=(Tr(Object(x.b)(Object(x.i)($r))),Br(Object(x.j)()),Object(x.o)({signatures:Object(x.b)(Object(x.m)()),message:Object(x.o)({accountKeys:Object(x.b)(Object(x.m)()),header:Object(x.o)({numRequiredSignatures:Object(x.j)(),numReadonlySignedAccounts:Object(x.j)(),numReadonlyUnsignedAccounts:Object(x.j)()}),instructions:Object(x.b)(Object(x.o)({accounts:Object(x.b)(Object(x.j)()),data:Object(x.m)(),programIdIndex:Object(x.j)()})),recentBlockhash:Object(x.m)()})})),Qr=Object(x.o)({parsed:Object(x.q)(),program:Object(x.m)(),programId:Sr}),en=Object(x.o)({accounts:Object(x.b)(Sr),data:Object(x.m)(),programId:Sr}),tn=Object(x.p)([en,Qr]),rn=Object(x.p)([Object(x.o)({parsed:Object(x.q)(),program:Object(x.m)(),programId:Object(x.m)()}),Object(x.o)({accounts:Object(x.b)(Object(x.m)()),data:Object(x.m)(),programId:Object(x.m)()})]),nn=Object(x.e)(tn,rn,(function(e){return"accounts"in e?Object(x.f)(e,en):Object(x.f)(e,Qr)})),an=Object(x.o)({signatures:Object(x.b)(Object(x.m)()),message:Object(x.o)({accountKeys:Object(x.b)(Object(x.o)({pubkey:Sr,signer:Object(x.d)(),writable:Object(x.d)()})),instructions:Object(x.b)(nn),recentBlockhash:Object(x.m)()})}),on=Object(x.o)({accountIndex:Object(x.j)(),mint:Object(x.m)(),owner:Object(x.k)(Object(x.m)()),uiTokenAmount:Mr}),sn=Object(x.o)({err:Wr,fee:Object(x.j)(),innerInstructions:Object(x.k)(Object(x.i)(Object(x.b)(Object(x.o)({index:Object(x.j)(),instructions:Object(x.b)(Object(x.o)({accounts:Object(x.b)(Object(x.j)()),data:Object(x.m)(),programIdIndex:Object(x.j)()}))})))),preBalances:Object(x.b)(Object(x.j)()),postBalances:Object(x.b)(Object(x.j)()),logMessages:Object(x.k)(Object(x.i)(Object(x.b)(Object(x.m)()))),preTokenBalances:Object(x.k)(Object(x.i)(Object(x.b)(on))),postTokenBalances:Object(x.k)(Object(x.i)(Object(x.b)(on)))}),un=Object(x.o)({err:Wr,fee:Object(x.j)(),innerInstructions:Object(x.k)(Object(x.i)(Object(x.b)(Object(x.o)({index:Object(x.j)(),instructions:Object(x.b)(nn)})))),preBalances:Object(x.b)(Object(x.j)()),postBalances:Object(x.b)(Object(x.j)()),logMessages:Object(x.k)(Object(x.i)(Object(x.b)(Object(x.m)()))),preTokenBalances:Object(x.k)(Object(x.i)(Object(x.b)(on))),postTokenBalances:Object(x.k)(Object(x.i)(Object(x.b)(on)))}),cn=(Br(Object(x.i)(Object(x.o)({blockhash:Object(x.m)(),previousBlockhash:Object(x.m)(),parentSlot:Object(x.j)(),transactions:Object(x.b)(Object(x.o)({transaction:Yr,meta:Object(x.i)(sn)})),rewards:Object(x.k)(Object(x.b)(Object(x.o)({pubkey:Object(x.m)(),lamports:Object(x.j)(),postBalance:Object(x.i)(Object(x.j)()),rewardType:Object(x.i)(Object(x.m)())}))),blockTime:Object(x.i)(Object(x.j)()),blockHeight:Object(x.i)(Object(x.j)())}))),Br(Object(x.i)(Object(x.o)({blockhash:Object(x.m)(),previousBlockhash:Object(x.m)(),parentSlot:Object(x.j)(),transactions:Object(x.b)(Object(x.o)({transaction:Yr,meta:Object(x.i)(sn)})),rewards:Object(x.k)(Object(x.b)(Object(x.o)({pubkey:Object(x.m)(),lamports:Object(x.j)(),postBalance:Object(x.i)(Object(x.j)()),rewardType:Object(x.i)(Object(x.m)())}))),blockTime:Object(x.i)(Object(x.j)())}))),Br(Object(x.i)(Object(x.o)({blockhash:Object(x.m)(),previousBlockhash:Object(x.m)(),parentSlot:Object(x.j)(),signatures:Object(x.b)(Object(x.m)()),blockTime:Object(x.i)(Object(x.j)())}))),Br(Object(x.i)(Object(x.o)({slot:Object(x.j)(),meta:sn,blockTime:Object(x.k)(Object(x.i)(Object(x.j)())),transaction:Yr}))),Br(Object(x.i)(Object(x.o)({slot:Object(x.j)(),transaction:an,meta:Object(x.i)(un),blockTime:Object(x.k)(Object(x.i)(Object(x.j)()))}))),Tr(Object(x.o)({blockhash:Object(x.m)(),feeCalculator:Object(x.o)({lamportsPerSignature:Object(x.j)()})})),Tr(Object(x.o)({blockhash:Object(x.m)(),lastValidBlockHeight:Object(x.j)()})),Object(x.o)({slot:Object(x.j)(),numTransactions:Object(x.j)(),numSlots:Object(x.j)(),samplePeriodSecs:Object(x.j)()})),fn=(Br(Object(x.b)(cn)),Tr(Object(x.i)(Object(x.o)({feeCalculator:Object(x.o)({lamportsPerSignature:Object(x.j)()})}))),Br(Object(x.m)()),Br(Object(x.m)()),Object(x.o)({err:Wr,logs:Object(x.b)(Object(x.m)()),signature:Object(x.m)()})),hn=(Object(x.o)({result:Ur(fn),subscription:Object(x.j)()}),function(){function e(t){Object(h.a)(this,e),this._keypair=void 0,this._keypair=t||y.a.sign.keyPair()}return Object(l.a)(e,[{key:"publicKey",get:function(){return new Jt(this._keypair.publicKey)}},{key:"secretKey",get:function(){return this._keypair.secretKey}}],[{key:"generate",value:function(){return new e(y.a.sign.keyPair())}},{key:"fromSecretKey",value:function(t,r){var n=y.a.sign.keyPair.fromSecretKey(t);if(!r||!r.skipValidation){var i=(new TextEncoder).encode("@solana/web3.js-validation-v1"),a=y.a.sign.detached(i,n.secretKey);if(!y.a.sign.detached.verify(i,a,n.publicKey))throw new Error("provided secretKey is invalid")}return new e(n)}},{key:"fromSeed",value:function(t){return new e(y.a.sign.keyPair.fromSeed(t))}}]),e}()),ln=j.struct([j.u8("numSignatures"),j.u8("padding"),j.u16("signatureOffset"),j.u16("signatureInstructionIndex"),j.u16("publicKeyOffset"),j.u16("publicKeyInstructionIndex"),j.u16("messageDataOffset"),j.u16("messageDataSize"),j.u16("messageInstructionIndex")]),pn=function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,a=t.instructionIndex;ar(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),ar(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var o=ln.span,s=o+r.length,u=s+i.length,c=v.Buffer.alloc(u+n.length);return ln.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:a,publicKeyOffset:o,publicKeyInstructionIndex:a,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:a},c),c.fill(r,o),c.fill(i,s),c.fill(n,u),new ur({keys:[],programId:e.programId,data:c})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;ar(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=hn.fromSecretKey(t),a=i.publicKey.toBytes(),o=y.a.sign.detached(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:o,instructionIndex:n})}catch(s){throw new Error("Error creating instruction; ".concat(s))}}}]),e}();pn.programId=new Jt("Ed25519SigVerify111111111111111111111111111");var dn=new Jt("StakeConfig11111111111111111111111111111111"),bn=Object(l.a)((function e(t,r,n){Object(h.a)(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));bn.default=new bn(0,0,Jt.default);var yn=Object.freeze({Initialize:{index:0,layout:j.struct([j.u32("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return j.struct([er("staker"),er("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return j.struct([j.ns64("unixTimestamp"),j.ns64("epoch"),er("custodian")],e)}()])},Authorize:{index:1,layout:j.struct([j.u32("instruction"),er("newAuthorized"),j.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:j.struct([j.u32("instruction")])},Split:{index:3,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])},Withdraw:{index:4,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])},Deactivate:{index:5,layout:j.struct([j.u32("instruction")])},Merge:{index:7,layout:j.struct([j.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:j.struct([j.u32("instruction"),er("newAuthorized"),j.u32("stakeAuthorizationType"),tr("authoritySeed"),er("authorityOwner")])}}),vn=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup||bn.default,i=vr(yn.Initialize,{authorized:{staker:I(r.staker.toBuffer()),withdrawer:I(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:I(n.custodian.toBuffer())}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new ur(a)}},{key:"createAccountWithSeed",value:function(e){var t=new cr;t.add(Or.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new cr;t.add(Or.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=vr(yn.Delegate);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!1},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,a=e.custodianPubkey,o=vr(yn.Authorize,{newAuthorized:I(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:fr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&s.push({pubkey:a,isSigner:!1,isWritable:!1}),(new cr).add({keys:s,programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,a=e.newAuthorizedPubkey,o=e.stakeAuthorizationType,s=e.custodianPubkey,u=vr(yn.AuthorizeWithSeed,{newAuthorized:I(a.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:I(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:fr,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!1,isWritable:!1}),(new cr).add({keys:c,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,a=vr(yn.Split,{lamports:i});return new ur({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"split",value:function(e){var t=new cr;return t.add(Or.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,a=e.seed,o=e.lamports,s=new cr;return s.add(Or.allocate({accountPubkey:n,basePubkey:i,seed:a,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=vr(yn.Merge);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,a=e.custodianPubkey,o=vr(yn.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&s.push({pubkey:a,isSigner:!1,isWritable:!1}),(new cr).add({keys:s,programId:this.programId,data:o})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=vr(yn.Deactivate);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),e}());vn.programId=new Jt("Stake11111111111111111111111111111111111111"),vn.space=200;var gn=S.a.publicKeyCreate,mn=S.a.ecdsaSign,wn=j.struct([j.u8("numSignatures"),j.u16("signatureOffset"),j.u8("signatureInstructionIndex"),j.u16("ethAddressOffset"),j.u8("ethAddressInstructionIndex"),j.u16("messageDataOffset"),j.u16("messageDataSize"),j.u8("messageInstructionIndex"),j.blob(20,"ethAddress"),j.blob(64,"signature"),j.u8("recoveryId")]),kn=function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"publicKeyToEthAddress",value:function(e){ar(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return v.Buffer.from(P.a.keccak_256.update(I(e)).digest()).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,a=t.recoveryId,o=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:a,instructionIndex:o})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,a=t.signature,o=t.recoveryId,s=t.instructionIndex,u=void 0===s?0:s;ar(20===(r="string"===typeof n?n.startsWith("0x")?v.Buffer.from(n.substr(2),"hex"):v.Buffer.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var c=12+r.length,f=c+a.length+1,h=v.Buffer.alloc(wn.span+i.length);return wn.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:u,ethAddressOffset:12,ethAddressInstructionIndex:u,messageDataOffset:f,messageDataSize:i.length,messageInstructionIndex:u,signature:I(a),ethAddress:I(r),recoveryId:o},h),h.fill(I(i),wn.span),new ur({keys:[],programId:e.programId,data:h})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;ar(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{var i=I(t),a=gn(i,!1).slice(1),o=v.Buffer.from(P.a.keccak_256.update(I(r)).digest()),s=mn(o,i),u=s.signature,c=s.recid;return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:u,recoveryId:c,instructionIndex:n})}catch(f){throw new Error("Error creating instruction; ".concat(f))}}}]),e}();kn.programId=new Jt("KeccakSecp256k11111111111111111111111111111");new Jt("Va1idator1nfo111111111111111111111111111111"),Object(x.o)({name:Object(x.m)(),website:Object(x.k)(Object(x.m)()),details:Object(x.k)(Object(x.m)()),keybaseUsername:Object(x.k)(Object(x.m)())}),new Jt("Vote111111111111111111111111111111111111111"),j.struct([er("nodePubkey"),er("authorizedWithdrawer"),j.u8("commission"),j.nu64(),j.seq(j.struct([j.nu64("slot"),j.u32("confirmationCount")]),j.offset(j.u32(),-8),"votes"),j.u8("rootSlotValid"),j.nu64("rootSlot"),j.nu64(),j.seq(j.struct([j.nu64("epoch"),er("authorizedVoter")]),j.offset(j.u32(),-8),"authorizedVoters"),j.struct([j.seq(j.struct([er("authorizedPubkey"),j.nu64("epochOfLastAuthorizedSwitch"),j.nu64("targetEpoch")]),32,"buf"),j.nu64("idx"),j.u8("isEmpty")],"priorVoters"),j.nu64(),j.seq(j.struct([j.nu64("epoch"),j.nu64("credits"),j.nu64("prevCredits")]),j.offset(j.u32(),-8),"epochCredits"),j.struct([j.nu64("slot"),j.nu64("timestamp")],"lastTimestamp")]);var On=Object.freeze({InitializeAccount:{index:0,layout:j.struct([j.u32("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return j.struct([er("nodePubkey"),er("authorizedVoter"),er("authorizedWithdrawer"),j.u8("commission")],e)}()])},Authorize:{index:1,layout:j.struct([j.u32("instruction"),er("newAuthorized"),j.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])}}),jn=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=vr(On.InitializeAccount,{voteInit:{nodePubkey:I(n.nodePubkey.toBuffer()),authorizedVoter:I(n.authorizedVoter.toBuffer()),authorizedWithdrawer:I(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new ur(a)}},{key:"createAccount",value:function(e){var t=new cr;return t.add(Or.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,a=vr(On.Authorize,{newAuthorized:I(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new cr).add({keys:o,programId:this.programId,data:a})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,a=vr(On.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new cr).add({keys:o,programId:this.programId,data:a})}}]),e}());jn.programId=new Jt("Vote111111111111111111111111111111111111111"),jn.space=3731}).call(this,r(39))},1293:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(67);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},1359:function(e,t,r){"use strict";var n=r(30).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==t[o])throw new TypeError(a+" is ambiguous");t[o]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,a=0;e[r]===u;)i++,r++;for(var o=(e.length-r)*c+1>>>0,f=new Uint8Array(o);e[r];){var h=t[e.charCodeAt(r)];if(255===h)return;for(var l=0,p=o-1;(0!==h||l<a)&&-1!==p;p--,l++)h+=s*f[p]>>>0,f[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");a=l,r++}for(var d=o-a;d!==o&&0===f[d];)d++;var b=n.allocUnsafe(i+(o-d));b.fill(0,0,i);for(var y=i;d!==o;)b[y++]=f[d++];return b}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,a=0,o=t.length;a!==o&&0===t[a];)a++,r++;for(var c=(o-a)*f+1>>>0,h=new Uint8Array(c);a!==o;){for(var l=t[a],p=0,d=c-1;(0!==l||p<i)&&-1!==d;d--,p++)l+=256*h[d]>>>0,h[d]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");i=p,a++}for(var b=c-i;b!==c&&0===h[b];)b++;for(var y=u.repeat(r);b<c;++b)y+=e.charAt(h[b]);return y},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},1360:function(e,t,r){"use strict";(function(e,n){var i=r(16).default,a=r(280).default,o=r(234).default,s=r(75).default,u=r(76).default,c=r(83).default,f=r(84).default,h=r(599).default,l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},b=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&l(t,e,r);return p(t,e),t},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;var v=y(r(25)),g=y(r(1272)),m=b(r(1361)),w=new("function"!==typeof e.TextDecoder?m.TextDecoder:e.TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),g.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(g.default.decode(e))};var k=1024,O=function(e){c(r,e);var t=f(r);function r(e){var n;return s(this,r),(n=t.call(this,e)).fieldPath=[],n.originalMessage=e,n}return u(r,[{key:"addToFieldPath",value:function(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}]),r}(h(Error));t.BorshError=O;var j=function(){function e(){s(this,e),this.buf=n.alloc(k),this.length=0}return u(e,[{key:"maybeResize",value:function(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(k)]))}},{key:"writeU8",value:function(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}},{key:"writeU16",value:function(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}},{key:"writeU32",value:function(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}},{key:"writeU64",value:function(e){this.maybeResize(),this.writeBuffer(n.from(new v.default(e).toArray("le",8)))}},{key:"writeU128",value:function(e){this.maybeResize(),this.writeBuffer(n.from(new v.default(e).toArray("le",16)))}},{key:"writeU256",value:function(e){this.maybeResize(),this.writeBuffer(n.from(new v.default(e).toArray("le",32)))}},{key:"writeU512",value:function(e){this.maybeResize(),this.writeBuffer(n.from(new v.default(e).toArray("le",64)))}},{key:"writeBuffer",value:function(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(k)]),this.length+=e.length}},{key:"writeString",value:function(e){this.maybeResize();var t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}},{key:"writeFixedArray",value:function(e){this.writeBuffer(n.from(e))}},{key:"writeArray",value:function(e,t){this.maybeResize(),this.writeU32(e.length);var r,n=o(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.maybeResize(),t(i)}}catch(a){n.e(a)}finally{n.f()}}},{key:"toArray",value:function(){return this.buf.subarray(0,this.length)}}]),e}();function x(e,t,r){var n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(a){if(a instanceof RangeError){var i=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(i)>=0)throw new O("Reached the end of buffer when deserializing")}throw a}}}t.BinaryWriter=j;var E=function(){function e(t){s(this,e),this.buf=t,this.offset=0}return u(e,[{key:"readU8",value:function(){var e=this.buf.readUInt8(this.offset);return this.offset+=1,e}},{key:"readU16",value:function(){var e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}},{key:"readU32",value:function(){var e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}},{key:"readU64",value:function(){var e=this.readBuffer(8);return new v.default(e,"le")}},{key:"readU128",value:function(){var e=this.readBuffer(16);return new v.default(e,"le")}},{key:"readU256",value:function(){var e=this.readBuffer(32);return new v.default(e,"le")}},{key:"readU512",value:function(){var e=this.readBuffer(64);return new v.default(e,"le")}},{key:"readBuffer",value:function(e){if(this.offset+e>this.buf.length)throw new O("Expected buffer length ".concat(e," isn't within bounds"));var t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"readString",value:function(){var e=this.readU32(),t=this.readBuffer(e);try{return w.decode(t)}catch(r){throw new O("Error decoding UTF-8 string: ".concat(r))}}},{key:"readFixedArray",value:function(e){return new Uint8Array(this.readBuffer(e))}},{key:"readArray",value:function(e){for(var t=this.readU32(),r=Array(),n=0;n<t;++n)r.push(e());return r}}]),e}();function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}function A(e,t,r,n,i){try{if("string"===typeof n)i["write".concat(S(n))](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new O("Expecting byte array of length ".concat(n[0],", but got ").concat(r.length," bytes"));i.writeFixedArray(r)}else i.writeArray(r,(function(r){A(e,t,r,n[0],i)}));else if(void 0!==n.kind){if("option"!==n.kind)throw new O("FieldType ".concat(n," unrecognized"));null===r||void 0===r?i.writeU8(0):(i.writeU8(1),A(e,t,r,n.type,i))}else P(e,r,i)}catch(a){throw a instanceof O&&a.addToFieldPath(t),a}}function P(e,t,r){var n=e.get(t.constructor);if(!n)throw new O("Class ".concat(t.constructor.name," is missing in schema"));if("struct"===n.kind)n.fields.map((function(n){var i=a(n,2),o=i[0],s=i[1];A(e,o,t[o],s,r)}));else{if("enum"!==n.kind)throw new O("Unexpected schema kind: ".concat(n.kind," for ").concat(t.constructor.name));for(var i=t[n.field],o=0;o<n.values.length;++o){var s=a(n.values[o],2),u=s[0],c=s[1];if(u===i){r.writeU8(o),A(e,u,t[u],c,r);break}}}}function I(e,t,r,n){try{return"string"===typeof r?n["read".concat(S(r))]():r instanceof Array?"number"===typeof r[0]?n.readFixedArray(r[0]):n.readArray((function(){return I(e,t,r[0],n)})):"option"===r.kind?n.readU8()?I(e,t,r.type,n):void 0:_(e,r,n)}catch(i){throw i instanceof O&&i.addToFieldPath(t),i}}function _(e,t,r){var n=e.get(t);if(!n)throw new O("Class ".concat(t.name," is missing in schema"));if("struct"===n.kind){var s,u={},c=o(e.get(t).fields);try{for(c.s();!(s=c.n()).done;){var f=a(s.value,2),h=f[0],l=f[1];u[h]=I(e,h,l,r)}}catch(v){c.e(v)}finally{c.f()}return new t(u)}if("enum"===n.kind){var p=r.readU8();if(p>=n.values.length)throw new O("Enum index: ".concat(p," is out of range"));var d=a(n.values[p],2),b=d[0],y=I(e,b,d[1],r);return new t(i({},b,y))}throw new O("Unexpected schema kind: ".concat(n.kind," for ").concat(t.constructor.name))}d([x],E.prototype,"readU8",null),d([x],E.prototype,"readU16",null),d([x],E.prototype,"readU32",null),d([x],E.prototype,"readU64",null),d([x],E.prototype,"readU128",null),d([x],E.prototype,"readU256",null),d([x],E.prototype,"readU512",null),d([x],E.prototype,"readString",null),d([x],E.prototype,"readFixedArray",null),d([x],E.prototype,"readArray",null),t.BinaryReader=E,t.serialize=function(e,t){var r=new j;return P(e,t,r),r.toArray()},t.deserialize=function(e,t,r){var n=new E(r),i=_(e,t,n);if(n.offset<r.length)throw new O("Unexpected ".concat(r.length-n.offset," bytes after deserialized data"));return i},t.deserializeUnchecked=function(e,t,r){return _(e,t,new E(r))}}).call(this,r(39),r(23).Buffer)},1361:function(e,t,r){"use strict";function n(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}r.r(t),r.d(t,"TextEncoder",(function(){return f})),r.d(t,"TextDecoder",(function(){return c}));function a(e){this.tokens=[].slice.call(e)}a.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var o=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}var u="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function f(e,t){if(!(this instanceof f))return new f(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(e){var t=e.fatal,r=0,i=0,a=0,u=128,c=191;this.handler=function(e,f){if(-1===f&&0!==a)return a=0,s(t);if(-1===f)return o;if(0===a){if(n(f,0,127))return f;if(n(f,194,223))a=1,r=f-192;else if(n(f,224,239))224===f&&(u=160),237===f&&(c=159),a=2,r=f-224;else{if(!n(f,240,244))return s(t);240===f&&(u=144),244===f&&(c=143),a=3,r=f-240}return r<<=6*a,null}if(!n(f,u,c))return r=a=i=0,u=128,c=191,e.prepend(f),s(t);if(u=128,c=191,r+=f-128<<6*(a-(i+=1)),i!==a)return null;var h=r;return r=a=i=0,h}}function l(e){e.fatal;this.handler=function(e,t){if(-1===t)return o;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var a=[(t>>6*r)+i];r>0;){var s=t>>6*(r-1);a.push(128|63&s),r-=1}return a}}c.prototype={decode:function(e,t){var r;r="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,s=new a(r),u=[];!s.endOfStream()&&(n=this._decoder.handler(s,s.read()))!==o;)null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));if(!this._streaming){do{if((n=this._decoder.handler(s,s.read()))===o)break;null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n))}while(!s.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(u)}},f.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new l(this._options)),this._streaming=Boolean(t.stream);for(var r,n=[],s=new a(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var a=t.charCodeAt(n);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(n===r-1)i.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var s=1023&a,u=1023&o;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!s.endOfStream()&&(r=this._encoder.handler(s,s.read()))!==o;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(s,s.read()))!==o;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}},1362:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();t.__esModule=!0,t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;var i=r(23);function a(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return a(e),i.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=a,t.uint8ArrayToBuffer=o;var s=function(){function e(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}return e.prototype.makeDestinationObject=function(){return{}},e.prototype.decode=function(e,t){throw new Error("Layout is abstract")},e.prototype.encode=function(e,t,r){throw new Error("Layout is abstract")},e.prototype.getSpan=function(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span},e.prototype.replicate=function(e){var t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t},e.prototype.fromArray=function(e){},e}();function u(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=s,t.nameWithProperty=u,t.bindConstructorLayout=function(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof s))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=function(){return new e},Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},t}(s);t.ExternalLayout=c;var f=function(e){function t(t,r){var n=this;if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");return(n=e.call(this,-1,r)||this).elementSpan=t,n}return n(t,e),t.prototype.isCount=function(){return!0},t.prototype.decode=function(e,t){a(e),void 0===t&&(t=0);var r=e.length-t;return Math.floor(r/this.elementSpan)},t.prototype.encode=function(e,t,r){return 0},t}(c);t.GreedyCount=f;var h=function(e){function t(t,r,n){var i=this;if(!(t instanceof s))throw new TypeError("layout must be a Layout");if(void 0===r)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");return(i=e.call(this,t.span,n||t.property)||this).layout=t,i.offset=r,i}return n(t,e),t.prototype.isCount=function(){return this.layout instanceof l||this.layout instanceof p},t.prototype.decode=function(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)},t}(c);t.OffsetLayout=h;var l=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readUIntLE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeUIntLE(e,r,this.span),this.span},t}(s);t.UInt=l;var p=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readUIntBE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeUIntBE(e,r,this.span),this.span},t}(s);t.UIntBE=p;var d=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readIntLE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeIntLE(e,r,this.span),this.span},t}(s);t.Int=d;var b=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readIntBE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeIntBE(e,r,this.span),this.span},t}(s);t.IntBE=b;var y=Math.pow(2,32);function v(e){var t=Math.floor(e/y);return{hi32:t,lo32:e-t*y}}function g(e,t){return e*y+t}var m=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e),n=r.readUInt32LE(t);return g(r.readUInt32LE(t+4),n)},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=v(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8},t}(s);t.NearUInt64=m;var w=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e);return g(r.readUInt32BE(t),r.readUInt32BE(t+4))},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=v(e),i=o(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8},t}(s);t.NearUInt64BE=w;var k=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e),n=r.readUInt32LE(t);return g(r.readInt32LE(t+4),n)},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=v(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8},t}(s);t.NearInt64=k;var O=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e);return g(r.readInt32BE(t),r.readUInt32BE(t+4))},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=v(e),i=o(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8},t}(s);t.NearInt64BE=O;var j=function(e){function t(t){return e.call(this,4,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readFloatLE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeFloatLE(e,r),4},t}(s);t.Float=j;var x=function(e){function t(t){return e.call(this,4,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readFloatBE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeFloatBE(e,r),4},t}(s);t.FloatBE=x;var E=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readDoubleLE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeDoubleLE(e,r),8},t}(s);t.Double=E;var S=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readDoubleBE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeDoubleBE(e,r),8},t}(s);t.DoubleBE=S;var A=function(e){function t(t,r,n){var i=this;if(!(t instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof c&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var a=-1;return!(r instanceof c)&&0<t.span&&(a=r*t.span),(i=e.call(this,a,n)||this).elementLayout=t,i.count=r,i}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else for(var i=0;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i;return r},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=[],n=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.elementLayout,i=e.reduce((function(e,i){return e+n.encode(i,t,r+e)}),0);return this.count instanceof c&&this.count.encode(e.length,t,r),i},t}(s);t.Sequence=A;var P=function(e){function t(t,r,n){var i=this;if(!Array.isArray(t)||!t.reduce((function(e,t){return e&&t instanceof s}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof r&&void 0===n&&(n=r,r=void 0);for(var a=0,o=t;a<o.length;a++){var u=o[a];if(0>u.span&&void 0===u.property)throw new Error("fields cannot contain unnamed variable-length layout")}var c=-1;try{c=t.reduce((function(e,t){return e+t.getSpan()}),0)}catch(f){}return(i=e.call(this,c,r)||this).fields=t,i.decodePrefixes=!!n,i}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0;try{r=this.fields.reduce((function(r,n){var i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r},t.prototype.decode=function(e,t){a(e),void 0===t&&(t=0);for(var r=this.makeDestinationObject(),n=0,i=this.fields;n<i.length;n++){var o=i[n];if(void 0!==o.property&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break}return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);for(var n=r,i=0,a=0,o=0,s=this.fields;o<s.length;o++){var u=s[o],c=u.span;if(a=0<c?c:0,void 0!==u.property){var f=e[u.property];void 0!==f&&(a=u.encode(f,t,r),0>c&&(c=u.getSpan(t,r)))}i=r,r+=c}return i+a-n},t.prototype.fromArray=function(e){for(var t=this.makeDestinationObject(),r=0,n=this.fields;r<n.length;r++){var i=n[r];void 0!==i.property&&0<e.length&&(t[i.property]=e.shift())}return t},t.prototype.layoutFor=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];if(n.property===e)return n}},t.prototype.offsetOf=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=0,n=this.fields;r<n.length;r++){var i=n[r];if(i.property===e)return t;0>i.span?t=-1:0<=t&&(t+=i.span)}},t}(s);t.Structure=P;var I=function(){function e(e){this.property=e}return e.prototype.decode=function(e,t){throw new Error("UnionDiscriminator is abstract")},e.prototype.encode=function(e,t,r){throw new Error("UnionDiscriminator is abstract")},e}();t.UnionDiscriminator=I;var _=function(e){function t(t,r){var n=this;if(!(t instanceof c&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return(n=e.call(this,r||t.property||"variant")||this).layout=t,n}return n(t,e),t.prototype.decode=function(e,t){return this.layout.decode(e,t)},t.prototype.encode=function(e,t,r){return this.layout.encode(e,t,r)},t}(I);t.UnionLayoutDiscriminator=_;var B=function(e){function t(t,r,n){var i,a=this,o=t instanceof l||t instanceof p;if(o)i=new _(new h(t));else if(t instanceof c&&t.isCount())i=new _(t);else{if(!(t instanceof I))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=t}if(void 0===r&&(r=null),!(null===r||r instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==r){if(0>r.span)throw new Error("defaultLayout must have constant span");void 0===r.property&&(r=r.replicate("content"))}var u=-1;r&&0<=(u=r.span)&&o&&(u+=i.layout.span),(a=e.call(this,u,n)||this).discriminator=i,a.usesPrefixDiscriminator=o,a.defaultLayout=r,a.registry={};var f=a.defaultGetSourceVariant.bind(a);return a.getSourceVariant=function(e){return f(e)},a.configGetSourceVariant=function(e){f=e.bind(this)},a}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)},t.prototype.defaultGetSourceVariant=function(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;if((r=this.registry[e[this.discriminator.property]])&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(var t in this.registry){var r;if((r=this.registry[t]).property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")},t.prototype.decode=function(e,t){var r;void 0===t&&(t=0);var n=this.discriminator,i=n.decode(e,t),a=this.registry[i];if(void 0===a){var o=this.defaultLayout,s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=o.decode(e,t+s)}else r=a.decode(e,t);return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.getSourceVariant(e);if(void 0===n){var i=this.discriminator,a=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=i.layout.span),i.encode(e[i.property],t,r),o+a.encode(e[a.property],t,r+o)}return n.encode(e,t,r)},t.prototype.addVariant=function(e,t,r){var n=new T(this,e,t,r);return this.registry[e]=n,n},t.prototype.getVariant=function(e,t){var r;return e instanceof Uint8Array?(void 0===t&&(t=0),r=this.discriminator.decode(e,t)):r=e,this.registry[r]},t}(s);t.Union=B;var T=function(e){function t(t,r,n,i){var a=this;if(!(t instanceof B))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof s))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof i)throw new TypeError("variant must have a String property")}var o=t.span;return 0>t.span&&0<=(o=n?n.span:0)&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span),(a=e.call(this,o,i)||this).union=t,a.variant=r,a.layout=n||null,a}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n},t.prototype.decode=function(e,t){var r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var i=this.property;return this.layout?r[i]=this.layout.decode(e,t+n):i?r[i]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var i=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(e,i))throw new TypeError("variant lacks property "+i);this.union.discriminator.encode(this.variant,t,r);var a=n;if(this.layout&&(this.layout.encode(e[i],t,r+n),a+=this.layout.getSpan(t,r+n),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a},t.prototype.fromArray=function(e){if(this.layout)return this.layout.fromArray(e)},t}(s);function U(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=T;var R=function(e){function t(t,r,n){var i=this;if(!(t instanceof l||t instanceof p))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof r&&void 0===n&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");(i=e.call(this,t.span,n)||this).word=t,i.msb=!!r,i.fields=[];var a=0;return i._packedSetValue=function(e){return a=U(e),this},i._packedGetValue=function(){return a},i}return n(t,e),t.prototype.decode=function(e,t){var r=this.makeDestinationObject();void 0===t&&(t=0);var n=this.word.decode(e,t);this._packedSetValue(n);for(var i=0,a=this.fields;i<a.length;i++){var o=a[i];void 0!==o.property&&(r[o.property]=o.decode(n))}return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.word.decode(t,r);this._packedSetValue(n);for(var i=0,a=this.fields;i<a.length;i++){var o=a[i];if(void 0!==o.property){var s=e[o.property];void 0!==s&&o.encode(s)}}return this.word.encode(this._packedGetValue(),t,r)},t.prototype.addField=function(e,t){var r=new N(this,e,t);return this.fields.push(r),r},t.prototype.addBoolean=function(e){var t=new z(this,e);return this.fields.push(t),t},t.prototype.fieldFor=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];if(n.property===e)return n}},t}(s);t.BitStructure=R;var N=function(){function e(e,t,r){if(!(e instanceof R))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");var n=8*e.span,i=e.fields.reduce((function(e,t){return e+t.bits}),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=U(this.valueMask<<this.start),this.property=r}return e.prototype.decode=function(e,t){return U(this.container._packedGetValue()&this.wordMask)>>>this.start},e.prototype.encode=function(e){if(!Number.isInteger(e)||e!==U(e&this.valueMask))throw new TypeError(u("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var t=this.container._packedGetValue(),r=U(e<<this.start);this.container._packedSetValue(U(t&~this.wordMask)|r)},e}();t.BitField=N;var z=function(e){function t(t,r){return e.call(this,t,1,r)||this}return n(t,e),t.prototype.decode=function(e,t){return!!N.prototype.decode.call(this,e,t)},t.prototype.encode=function(e){return"boolean"===typeof e&&(e=+e),N.prototype.encode.call(this,e)},t}(N);t.Boolean=z;var C=function(e){function t(t,r){var n=this;if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var i=-1;return t instanceof c||(i=t),(n=e.call(this,i,r)||this).length=t,n}return n(t,e),t.prototype.getSpan=function(e,t){var r=this.span;return 0>r&&(r=this.length.decode(e,t)),r},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)},t.prototype.encode=function(e,t,r){var n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(u("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");var i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n},t}(s);t.Blob=C;var W=function(e){function t(t){return e.call(this,-1,t)||this}return n(t,e),t.prototype.getSpan=function(e,t){a(e),void 0===t&&(t=0);for(var r=t;r<e.length&&0!==e[r];)r+=1;return 1+r-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.getSpan(e,t);return o(e).slice(t,t+r-1).toString("utf-8")},t.prototype.encode=function(e,t,r){void 0===r&&(r=0),"string"!==typeof e&&(e=e.toString());var n=i.Buffer.from(e,"utf8"),a=n.length;if(r+a>t.length)throw new RangeError("encoding overruns Buffer");var s=o(t);return n.copy(s,r),s[r+a]=0,a+1},t}(s);t.CString=W;var K=function(e){function t(t,r){var n=this;if("string"===typeof t&&void 0===r&&(r=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");return(n=e.call(this,-1,r)||this).maxSpan=t,n}return n(t,e),t.prototype.getSpan=function(e,t){return a(e),void 0===t&&(t=0),e.length-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+r).toString("utf-8")},t.prototype.encode=function(e,t,r){void 0===r&&(r=0),"string"!==typeof e&&(e=e.toString());var n=i.Buffer.from(e,"utf8"),a=n.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(r+a>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(o(t),r),a},t}(s);t.UTF8=K;var L=function(e){function t(t,r){var n=e.call(this,0,r)||this;return n.value=t,n}return n(t,e),t.prototype.decode=function(e,t){return this.value},t.prototype.encode=function(e,t,r){return 0},t}(s);t.Constant=L,t.greedy=function(e,t){return new f(e,t)},t.offset=function(e,t,r){return new h(e,t,r)},t.u8=function(e){return new l(1,e)},t.u16=function(e){return new l(2,e)},t.u24=function(e){return new l(3,e)},t.u32=function(e){return new l(4,e)},t.u40=function(e){return new l(5,e)},t.u48=function(e){return new l(6,e)},t.nu64=function(e){return new m(e)},t.u16be=function(e){return new p(2,e)},t.u24be=function(e){return new p(3,e)},t.u32be=function(e){return new p(4,e)},t.u40be=function(e){return new p(5,e)},t.u48be=function(e){return new p(6,e)},t.nu64be=function(e){return new w(e)},t.s8=function(e){return new d(1,e)},t.s16=function(e){return new d(2,e)},t.s24=function(e){return new d(3,e)},t.s32=function(e){return new d(4,e)},t.s40=function(e){return new d(5,e)},t.s48=function(e){return new d(6,e)},t.ns64=function(e){return new k(e)},t.s16be=function(e){return new b(2,e)},t.s24be=function(e){return new b(3,e)},t.s32be=function(e){return new b(4,e)},t.s40be=function(e){return new b(5,e)},t.s48be=function(e){return new b(6,e)},t.ns64be=function(e){return new O(e)},t.f32=function(e){return new j(e)},t.f32be=function(e){return new x(e)},t.f64=function(e){return new E(e)},t.f64be=function(e){return new S(e)},t.struct=function(e,t,r){return new P(e,t,r)},t.bits=function(e,t,r){return new R(e,t,r)},t.seq=function(e,t,r){return new A(e,t,r)},t.union=function(e,t,r){return new B(e,t,r)},t.unionLayoutDiscriminator=function(e,t){return new _(e,t)},t.blob=function(e,t){return new C(e,t)},t.cstr=function(e){return new W(e)},t.utf8=function(e,t){return new K(e,t)},t.constant=function(e,t){return new L(e,t)}},1363:function(e,t,r){"use strict";var n=r(1262);Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var i=n(r(75)),a=n(r(83)),o=n(r(595)),s=n(r(197)),u=n(r(1364));function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}var f=function(e){(0,a.default)(r,e);var t=c(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.autoconnect,o=void 0===a||a,s=n.reconnect,c=void 0===s||s,f=n.reconnect_interval,h=void 0===f?1e3:f,l=n.max_reconnects,p=void 0===l?5:l,d=arguments.length>2?arguments[2]:void 0;return(0,i.default)(this,r),t.call(this,u.default,e,{autoconnect:o,reconnect:c,reconnect_interval:h,max_reconnects:p},d)}return r}(n(r(1365)).default);t.Client=f},1364:function(e,t,r){"use strict";var n=r(1262);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new f(e,t)};var i=n(r(75)),a=n(r(76)),o=n(r(83)),s=n(r(595)),u=n(r(197));function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var f=function(e){(0,o.default)(r,e);var t=c(r);function r(e,n,a){var o;return(0,i.default)(this,r),(o=t.call(this)).socket=new window.WebSocket(e,a),o.socket.onopen=function(){return o.emit("open")},o.socket.onmessage=function(e){return o.emit("message",e.data)},o.socket.onerror=function(e){return o.emit("error",e)},o.socket.onclose=function(e){o.emit("close",e.code,e.reason)},o}return(0,a.default)(r,[{key:"send",value:function(e,t,r){var n=r||t;try{this.socket.send(e),n()}catch(i){n(i)}}},{key:"close",value:function(e,t){this.socket.close(e,t)}},{key:"addEventListener",value:function(e,t,r){this.socket.addEventListener(e,t,r)}}]),r}(r(361).EventEmitter)},1365:function(e,t,r){"use strict";(function(e){var n=r(1262);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(1)),a=n(r(93)),o=n(r(596)),s=n(r(75)),u=n(r(76)),c=n(r(83)),f=n(r(595)),h=n(r(197)),l=r(361),p=n(r(1366));function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},y=function(t){(0,c.default)(n,t);var r=d(n);function n(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,n);var u=a.autoconnect,c=void 0===u||u,f=a.reconnect,h=void 0===f||f,l=a.reconnect_interval,p=void 0===l?1e3:l,d=a.max_reconnects,y=void 0===d?5:d,v=b(a,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(t=r.call(this)).webSocketFactory=e,t.queue={},t.rpc_id=0,t.address=i,t.autoconnect=c,t.ready=!1,t.reconnect=h,t.reconnect_interval=p,t.max_reconnects=y,t.rest_options=v,t.current_reconnects=0,t.generate_request_id=o||function(){return++t.rpc_id},t.autoconnect&&t._connect(t.address,Object.assign({autoconnect:t.autoconnect,reconnect:t.reconnect,reconnect_interval:t.reconnect_interval,max_reconnects:t.max_reconnects},t.rest_options)),t}return(0,u.default)(n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(e,t,r,n){var i=this;return n||"object"!==(0,o.default)(r)||(n=r,r=null),new Promise((function(a,o){if(!i.ready)return o(new Error("socket not ready"));var s=i.generate_request_id(e,t),u={jsonrpc:"2.0",method:e,params:t||null,id:s};i.socket.send(JSON.stringify(u),n,(function(e){if(e)return o(e);i.queue[s]={promise:[a,o]},r&&(i.queue[s].timeout=setTimeout((function(){delete i.queue[s],o(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:function(){var e=(0,a.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("rpc.login",t);case 2:if(r=e.sent){e.next=5;break}throw new Error("authentication failed");case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listMethods",value:function(){var e=(0,a.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("__listMethods");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notify",value:function(e,t){var r=this;return new Promise((function(n,i){if(!r.ready)return i(new Error("socket not ready"));var a={jsonrpc:"2.0",method:e,params:t||null};r.socket.send(JSON.stringify(a),(function(e){if(e)return i(e);n()}))}))}},{key:"subscribe",value:function(){var e=(0,a.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof t&&(t=[t]),e.next=3,this.call("rpc.on",t);case 3:if(r=e.sent,"string"!==typeof t||"ok"===r[t]){e.next=6;break}throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=(0,a.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof t&&(t=[t]),e.next=3,this.call("rpc.off",t);case 3:if(r=e.sent,"string"!==typeof t||"ok"===r[t]){e.next=6;break}throw new Error("Failed unsubscribing from an event with: "+r);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(e,t){this.socket.close(e||1e3,t)}},{key:"_connect",value:function(t,r){var n=this;this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",(function(){n.ready=!0,n.emit("open"),n.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var r=t.data;r instanceof ArrayBuffer&&(r=e.from(r).toString());try{r=p.default.parse(r)}catch(o){return}if(r.notification&&n.listeners(r.notification).length){if(!Object.keys(r.params).length)return n.emit(r.notification);var i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(var a=0;a<r.params.length;a++)i.push(r.params[a]);return Promise.resolve().then((function(){n.emit.apply(n,i)}))}if(!n.queue[r.id])return r.method&&r.params?Promise.resolve().then((function(){n.emit(r.method,r.params)})):void 0;"error"in r==="result"in r&&n.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),n.queue[r.id].timeout&&clearTimeout(n.queue[r.id].timeout),r.error?n.queue[r.id].promise[1](r.error):n.queue[r.id].promise[0](r.result),delete n.queue[r.id]})),this.socket.addEventListener("error",(function(e){return n.emit("error",e)})),this.socket.addEventListener("close",(function(e){var i=e.code,a=e.reason;n.ready&&setTimeout((function(){return n.emit("close",i,a)}),0),n.ready=!1,n.socket=void 0,1e3!==i&&(n.current_reconnects++,n.reconnect&&(n.max_reconnects>n.current_reconnects||0===n.max_reconnects)&&setTimeout((function(){return n._connect(t,r)}),n.reconnect_interval))}))}}]),n}(l.EventEmitter);t.default=y}).call(this,r(23).Buffer)},1366:function(e,t){var r="~",n="\\x"+("0"+r.charCodeAt(0).toString(16)).slice(-2),i="\\"+n,a=new RegExp(n,"g"),o=new RegExp(i,"g"),s=new RegExp("(?:^|([^\\\\]))"+i),u=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},c=String;function f(e,t,n){return t instanceof Array?function(e,t,r){for(var n=0,i=t.length;n<i;n++)t[n]=f(e,t[n],r);return t}(e,t,n):t instanceof c?t.length?n.hasOwnProperty(t)?n[t]:n[t]=function(e,t){for(var n=0,i=t.length;n<i;e=e[t[n++].replace(o,r)]);return e}(e,t.split(r)):e:t instanceof Object?function(e,t,r){for(var n in t)t.hasOwnProperty(n)&&(t[n]=f(e,t[n],r));return t}(e,t,n):t}var h={stringify:function(e,t,o,s){return h.parser.stringify(e,function(e,t,o){var s,c,f=!1,h=!!t,l=[],p=[e],d=[e],b=[o?r:"[Circular]"],y=e,v=1;return h&&(c="object"===typeof t?function(e,r){return""!==e&&t.indexOf(e)<0?void 0:r}:t),function(e,t){return h&&(t=c.call(this,e,t)),f?(y!==this&&(s=v-u.call(p,this)-1,v-=s,p.splice(v,p.length),l.splice(v-1,l.length),y=this),"object"===typeof t&&t?(u.call(p,t)<0&&p.push(y=t),v=p.length,(s=u.call(d,t))<0?(s=d.push(t)-1,o?(l.push((""+e).replace(a,n)),b[s]=r+l.join(r)):b[s]=b[0]):t=b[s]):"string"===typeof t&&o&&(t=t.replace(n,i).replace(r,n))):f=!0,t}}(e,t,!s),o)},parse:function(e,t){return h.parser.parse(e,function(e){return function(t,a){var o="string"===typeof a;return o&&a.charAt(0)===r?new c(a.slice(1)):(""===t&&(a=f(a,a,{})),o&&(a=a.replace(s,"$1~").replace(i,n)),e?e.call(this,t,a):a)}}(t))},parser:JSON};e.exports=h},1367:function(e,t,r){"use strict";var n=r(237).v4,i=r(1368),a=function e(t,r){if(!(this instanceof e))return new e(t,r);r||(r={}),this.options={reviver:"undefined"!==typeof r.reviver?r.reviver:null,replacer:"undefined"!==typeof r.replacer?r.replacer:null,generator:"undefined"!==typeof r.generator?r.generator:function(){return n()},version:"undefined"!==typeof r.version?r.version:2,notificationIdNull:"boolean"===typeof r.notificationIdNull&&r.notificationIdNull},this.callServer=t};e.exports=a,a.prototype.request=function(e,t,r,n){var a,o=this,s=null,u=Array.isArray(e)&&"function"===typeof t;if(1===this.options.version&&u)throw new TypeError("JSON-RPC 1.0 does not support batching");if(u||!u&&e&&"object"===typeof e&&"function"===typeof t)n=t,s=e;else{"function"===typeof r&&(n=r,r=void 0);var c="function"===typeof n;try{s=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(c)return n(f);throw f}if(!c)return s}try{a=JSON.stringify(s,this.options.replacer)}catch(f){return n(f)}return this.callServer(a,(function(e,t){o._parseResponse(e,t,n)})),s},a.prototype._parseResponse=function(e,t,r){if(e)r(e);else{if(!t)return r();var n;try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(Array.isArray(n)){var i=function(e){return"undefined"!==typeof e.error};return r(null,n.filter(i),n.filter((function(e){return!i(e)})))}return r(null,n.error,n.result)}r(null,n)}}},1368:function(e,t,r){"use strict";var n=r(237).v4;e.exports=function(e,t,r,i){if("string"!==typeof e)throw new TypeError(e+" must be a string");var a="number"===typeof(i=i||{}).version?i.version:2;if(1!==a&&2!==a)throw new TypeError(a+" must be 1 or 2");var o={method:e};if(2===a&&(o.jsonrpc="2.0"),t){if("object"!==typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if("undefined"===typeof r){var s="function"===typeof i.generator?i.generator:function(){return n()};o.id=s(o,i)}else 2===a&&null===r?i.notificationIdNull&&(o.id=null):o.id=r;return o}},1369:function(e,t,r){e.exports=r(1370)(r(1371))},1370:function(e,t,r){var n=r(234).default,i="Impossible case. Please create issue.",a="The tweak was out of range or the resulted private key is invalid",o="The tweak was out of range or equal to zero",s="Unknow error on context randomization",u="Private Key is invalid",c="Public Key could not be parsed",f="Public Key serialization error",h="The sum of the public keys is not valid",l="Signature could not be parsed",p="The nonce generation function failed, or the private key was invalid",d="Public key could not be recover",b="Scalar was invalid (zero or overflow)";function y(e,t){if(!e)throw new Error(t)}function v(e,t,r){if(y(t instanceof Uint8Array,"Expected ".concat(e," to be an Uint8Array")),void 0!==r)if(Array.isArray(r)){var n=r.join(", "),i="Expected ".concat(e," to be an Uint8Array with length [").concat(n,"]");y(r.includes(t.length),i)}else{var a="Expected ".concat(e," to be an Uint8Array with length ").concat(r);y(t.length===r,a)}}function g(e){y("Boolean"===w(e),"Expected compressed to be a Boolean")}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return new Uint8Array(e)},t=arguments.length>1?arguments[1]:void 0;return"function"===typeof e&&(e=e(t)),v("output",e,t),e}function w(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=function(e){return{contextRandomize:function(t){if(y(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&v("seed",t,32),1===e.contextRandomize(t))throw new Error(s)},privateKeyVerify:function(t){return v("private key",t,32),0===e.privateKeyVerify(t)},privateKeyNegate:function(t){switch(v("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(i)}},privateKeyTweakAdd:function(t,r){switch(v("private key",t,32),v("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(a)}},privateKeyTweakMul:function(t,r){switch(v("private key",t,32),v("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(o)}},publicKeyVerify:function(t){return v("public key",t,[33,65]),0===e.publicKeyVerify(t)},publicKeyCreate:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(v("private key",t,32),g(r),n=m(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(u);case 2:throw new Error(f)}},publicKeyConvert:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(v("public key",t,[33,65]),g(r),n=m(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(f)}},publicKeyNegate:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(v("public key",t,[33,65]),g(r),n=m(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(i);case 3:throw new Error(f)}},publicKeyCombine:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;y(Array.isArray(t),"Expected public keys to be an Array"),y(t.length>0,"Expected public keys array will have more than zero items");var a,o=n(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;v("public key",s,[33,65])}}catch(u){o.e(u)}finally{o.f()}switch(g(r),i=m(i,r?33:65),e.publicKeyCombine(i,t)){case 0:return i;case 1:throw new Error(c);case 2:throw new Error(h);case 3:throw new Error(f)}},publicKeyTweakAdd:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(v("public key",t,[33,65]),v("tweak",r,32),g(n),i=m(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(c);case 2:throw new Error(a)}},publicKeyTweakMul:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(v("public key",t,[33,65]),v("tweak",r,32),g(n),i=m(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(c);case 2:throw new Error(o)}},signatureNormalize:function(t){switch(v("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(l)}},signatureExport:function(t,r){v("signature",t,64);var n={output:r=m(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(l);case 2:throw new Error(i)}},signatureImport:function(t,r){switch(v("signature",t),r=m(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(l);case 2:throw new Error(i)}},ecdsaSign:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;v("message",t,32),v("private key",r,32),y("Object"===w(n),"Expected options to be an Object"),void 0!==n.data&&v("options.data",n.data),void 0!==n.noncefn&&y("Function"===w(n.noncefn),"Expected options.noncefn to be a Function");var o={signature:a=m(a,64),recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(p);case 2:throw new Error(i)}},ecdsaVerify:function(t,r,n){switch(v("signature",t,64),v("message",r,32),v("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(l);case 2:throw new Error(c)}},ecdsaRecover:function(t,r,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0;switch(v("signature",t,64),y("Number"===w(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),v("message",n,32),g(a),o=m(o,a?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(l);case 2:throw new Error(d);case 3:throw new Error(i)}},ecdh:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;switch(v("public key",t,[33,65]),v("private key",r,32),y("Object"===w(n),"Expected options to be an Object"),void 0!==n.data&&v("options.data",n.data),void 0!==n.hashfn?(y("Function"===w(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&v("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&v("options.ybuf",n.ybuf,32),v("output",i)):i=m(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(c);case 2:throw new Error(b)}}}}},1371:function(e,t,r){var n=new(0,r(126).ec)("secp256k1"),i=n.curve,a=i.n.constructor;function o(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new a(t);if(r.cmp(i.p)>=0)return null;var o=(r=r.toRed(i.red)).redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==o.isOdd()&&(o=o.redNeg()),n.keyPair({pub:{x:r,y:o}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var o=new a(t),s=new a(r);if(o.cmp(i.p)>=0||s.cmp(i.p)>=0)return null;if(o=o.toRed(i.red),s=s.toRed(i.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;var u=o.redSqr().redIMul(o);return s.redSqr().redISub(u.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:o,y:s}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function s(e,t){for(var r=t.encode(null,33===e.length),n=0;n<e.length;++n)e[n]=r[n]}e.exports={contextRandomize:function(){return 0},privateKeyVerify:function(e){var t=new a(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate:function(e){var t=new a(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd:function(e,t){var r=new a(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new a(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul:function(e,t){var r=new a(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new a(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:function(e){return null===o(e)?1:0},publicKeyCreate:function(e,t){var r=new a(t);return r.cmp(i.n)>=0||r.isZero()?1:(s(e,n.keyFromPrivate(t).getPublic()),0)},publicKeyConvert:function(e,t){var r=o(t);return null===r?1:(s(e,r.getPublic()),0)},publicKeyNegate:function(e,t){var r=o(t);if(null===r)return 1;var n=r.getPublic();return n.y=n.y.redNeg(),s(e,n),0},publicKeyCombine:function(e,t){for(var r=new Array(t.length),n=0;n<t.length;++n)if(r[n]=o(t[n]),null===r[n])return 1;for(var i=r[0].getPublic(),a=1;a<r.length;++a)i=i.add(r[a].pub);return i.isInfinity()?2:(s(e,i),0)},publicKeyTweakAdd:function(e,t,r){var n=o(t);if(null===n)return 1;if((r=new a(r)).cmp(i.n)>=0)return 2;var u=n.getPublic().add(i.g.mul(r));return u.isInfinity()?2:(s(e,u),0)},publicKeyTweakMul:function(e,t,r){var n=o(t);return null===n?1:(r=new a(r)).cmp(i.n)>=0||r.isZero()?2:(s(e,n.getPublic().mul(r)),0)},signatureNormalize:function(e){var t=new a(e.subarray(0,32)),r=new a(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport:function(e,t){var r=t.subarray(0,32),n=t.subarray(32,64);if(new a(r).cmp(i.n)>=0)return 1;if(new a(n).cmp(i.n)>=0)return 1;var o=e.output,s=o.subarray(4,37);s[0]=0,s.set(r,1);for(var u=33,c=0;u>1&&0===s[c]&&!(128&s[c+1]);--u,++c);if(128&(s=s.subarray(c))[0])return 1;if(u>1&&0===s[0]&&!(128&s[1]))return 1;var f=o.subarray(39,72);f[0]=0,f.set(n,1);for(var h=33,l=0;h>1&&0===f[l]&&!(128&f[l+1]);--h,++l);return 128&(f=f.subarray(l))[0]||h>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+u+h,o[0]=48,o[1]=e.outputlen-2,o[2]=2,o[3]=s.length,o.set(s,4),o[4+u]=2,o[5+u]=f.length,o.set(f,6+u),0)},signatureImport:function(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;var r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;var n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;var o=t.subarray(4,4+r);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;var s=t.subarray(6+r);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");var u=new a(o);u.cmp(i.n)>=0&&(u=new a(0));var c=new a(t.subarray(6+r));return c.cmp(i.n)>=0&&(c=new a(0)),e.set(u.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign:function(e,t,r,o,s){if(s){var u=s;s=function(e){var n=u(t,r,null,o,e);if(!(n instanceof Uint8Array&&32===n.length))throw new Error("This is the way");return new a(n)}}var c,f=new a(r);if(f.cmp(i.n)>=0||f.isZero())return 1;try{c=n.sign(t,r,{canonical:!0,k:s,pers:o})}catch(h){return 1}return e.signature.set(c.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(c.s.toArrayLike(Uint8Array,"be",32),32),e.recid=c.recoveryParam,0},ecdsaVerify:function(e,t,r){var s={r:e.subarray(0,32),s:e.subarray(32,64)},u=new a(s.r),c=new a(s.s);if(u.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(1===c.cmp(n.nh)||u.isZero()||c.isZero())return 3;var f=o(r);if(null===f)return 2;var h=f.getPublic();return n.verify(t,s,h)?0:3},ecdsaRecover:function(e,t,r,o){var u,c={r:t.slice(0,32),s:t.slice(32,64)},f=new a(c.r),h=new a(c.s);if(f.cmp(i.n)>=0||h.cmp(i.n)>=0)return 1;if(f.isZero()||h.isZero())return 2;try{u=n.recoverPubKey(o,c,r)}catch(l){return 2}return s(e,u),0},ecdh:function(e,t,r,s,u,c,f){var h=o(t);if(null===h)return 1;var l=new a(r);if(l.cmp(i.n)>=0||l.isZero())return 2;var p=h.getPublic().mul(l);if(void 0===u)for(var d=p.encode(null,!0),b=n.hash().update(d).digest(),y=0;y<32;++y)e[y]=b[y];else{c||(c=new Uint8Array(32));for(var v=p.getX().toArray("be",32),g=0;g<32;++g)c[g]=v[g];f||(f=new Uint8Array(32));for(var m=p.getY().toArray("be",32),w=0;w<32;++w)f[w]=m[w];var k=u(c,f,s);if(!(k instanceof Uint8Array&&k.length===e.length))return 2;e.set(k)}return 0}}},1448:function(e,t,r){"use strict";r.d(t,"a",(function(){return z})),r.d(t,"b",(function(){return C})),r.d(t,"c",(function(){return B})),r.d(t,"d",(function(){return W})),r.d(t,"e",(function(){return $})),r.d(t,"f",(function(){return T})),r.d(t,"g",(function(){return K})),r.d(t,"h",(function(){return L})),r.d(t,"i",(function(){return D})),r.d(t,"j",(function(){return q})),r.d(t,"k",(function(){return F})),r.d(t,"l",(function(){return V})),r.d(t,"m",(function(){return G})),r.d(t,"n",(function(){return H})),r.d(t,"o",(function(){return J})),r.d(t,"p",(function(){return Z})),r.d(t,"q",(function(){return X}));var n=r(368),i=r(374),a=r(192),o=r(369);var s=r(45),u=r(157),c=r(1293),f=r(80);function h(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=r(5),p=r(4),d=r(12),b=r(10),y=r(11),v=r(239),g=r(1),m=r.n(g),w=["message"],k=m.a.mark(P),O=m.a.mark(I),j=function(e){Object(b.a)(r,e);var t=Object(y.a)(r);function r(e,n){var i,a;Object(p.a)(this,r);var o=e.message,s=h(e,w),u=e.path,c=0===u.length?o:"At path: "+u.join(".")+" -- "+o;return i=t.call(this,c),Object.assign(Object(d.a)(i),s),i.name=i.constructor.name,i.failures=function(){var t;return null!=(t=a)?t:a=[e].concat(Object(f.a)(n()))},i}return Object(l.a)(r)}(Object(v.a)(TypeError));function x(e){return"object"===typeof e&&null!=e}function E(e){return"string"===typeof e?JSON.stringify(e):""+e}function S(e){var t=e.next(),r=t.done,n=t.value;return r?void 0:n}function A(e,t,r,n){if(!0!==e){!1===e?e={}:"string"===typeof e&&(e={message:e});var i=t.path,a=t.branch,o=r.type,s=e,u=s.refinement,f=s.message,h=void 0===f?"Expected a value of type `"+o+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+E(n)+"`":f;return Object(c.a)(Object(c.a)({value:n,type:o,refinement:u,key:i[i.length-1],path:i,branch:a},e),{},{message:h})}}function P(e,t,r,n){var i,a,o,s;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:x(f=e)&&"function"===typeof f[Symbol.iterator]||(e=[e]),i=Object(u.a)(e),c.prev=2,i.s();case 4:if((a=i.n()).done){c.next=12;break}if(o=a.value,!(s=A(o,t,r,n))){c.next=10;break}return c.next=10,s;case 10:c.next=4;break;case 12:c.next=17;break;case 14:c.prev=14,c.t0=c.catch(2),i.e(c.t0);case 17:return c.prev=17,i.f(),c.finish(17);case 20:case"end":return c.stop()}var f}),k,null,[[2,14,17,20]])}function I(e,t){var r,n,i,a,o,c,h,l,p,d,b,y,v,g,w,k,j,E,S,A,P,_,B,T,U,R,N,z,C=arguments;return m.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:if(r=C.length>2&&void 0!==C[2]?C[2]:{},n=r.path,i=void 0===n?[]:n,a=r.branch,o=void 0===a?[e]:a,c=r.coerce,h=void 0!==c&&c,l=r.mask,p=void 0!==l&&l,d={path:i,branch:o},h&&(e=t.coercer(e,d),p&&"type"!==t.type&&x(t.schema)&&x(e)&&!Array.isArray(e)))for(b in e)void 0===t.schema[b]&&delete e[b];y=!0,v=Object(u.a)(t.validator(e,d)),m.prev=6,v.s();case 8:if((g=v.n()).done){m.next=15;break}return w=g.value,y=!1,m.next=13,[w,void 0];case 13:m.next=8;break;case 15:m.next=20;break;case 17:m.prev=17,m.t0=m.catch(6),v.e(m.t0);case 20:return m.prev=20,v.f(),m.finish(20);case 23:k=Object(u.a)(t.entries(e,d)),m.prev=24,k.s();case 26:if((j=k.n()).done){m.next=53;break}E=Object(s.a)(j.value,3),S=E[0],A=E[1],P=E[2],_=I(A,P,{path:void 0===S?i:[].concat(Object(f.a)(i),[S]),branch:void 0===S?o:[].concat(Object(f.a)(o),[A]),coerce:h,mask:p}),B=Object(u.a)(_),m.prev=30,B.s();case 32:if((T=B.n()).done){m.next=43;break}if(!(U=T.value)[0]){m.next=40;break}return y=!1,m.next=38,[U[0],void 0];case 38:m.next=41;break;case 40:h&&(A=U[1],void 0===S?e=A:e instanceof Map?e.set(S,A):e instanceof Set?e.add(A):x(e)&&(e[S]=A));case 41:m.next=32;break;case 43:m.next=48;break;case 45:m.prev=45,m.t1=m.catch(30),B.e(m.t1);case 48:return m.prev=48,B.f(),m.finish(48);case 51:m.next=26;break;case 53:m.next=58;break;case 55:m.prev=55,m.t2=m.catch(24),k.e(m.t2);case 58:return m.prev=58,k.f(),m.finish(58);case 61:if(!y){m.next=80;break}R=Object(u.a)(t.refiner(e,d)),m.prev=63,R.s();case 65:if((N=R.n()).done){m.next=72;break}return z=N.value,y=!1,m.next=70,[z,void 0];case 70:m.next=65;break;case 72:m.next=77;break;case 74:m.prev=74,m.t3=m.catch(63),R.e(m.t3);case 77:return m.prev=77,R.f(),m.finish(77);case 80:if(!y){m.next=83;break}return m.next=83,[void 0,e];case 83:case"end":return m.stop()}}),O,null,[[6,17,20,23],[24,55,58,61],[30,45,48,51],[63,74,77,80]])}var _=function(){function e(t){var r=this;Object(p.a)(this,e);var n=t.type,i=t.schema,a=t.validator,o=t.refiner,s=t.coercer,u=void 0===s?function(e){return e}:s,c=t.entries,f=void 0===c?m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})):c;this.type=n,this.schema=i,this.entries=f,this.coercer=u,this.validator=a?function(e,t){return P(a(e,t),t,r,e)}:function(){return[]},this.refiner=o?function(e,t){return P(o(e,t),t,r,e)}:function(){return[]}}return Object(l.a)(e,[{key:"assert",value:function(e){return B(e,this)}},{key:"create",value:function(e){return T(e,this)}},{key:"is",value:function(e){return U(e,this)}},{key:"mask",value:function(e){return function(e,t){var r=R(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(e,this)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(e,this,t)}}]),e}();function B(e,t){var r=R(e,t);if(r[0])throw r[0]}function T(e,t){var r=R(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function U(e,t){return!R(e,t)[0]}function R(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=I(e,t,r),i=S(n);if(i[0]){var a=new j(i[0],m.a.mark((function e(){var t,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(u.a)(n),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=10;break}if(!(i=r.value)[0]){e.next=8;break}return e.next=8,i[0];case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return[a,void 0]}var o=i[1];return[void 0,o]}function N(e,t){return new _({type:e,schema:null,validator:t})}function z(){return N("any",(function(){return!0}))}function C(e){return new _({type:"array",schema:e,entries:m.a.mark((function t(r){var n,i,a,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!Array.isArray(r)){t.next=18;break}n=Object(u.a)(r.entries()),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=10;break}return a=Object(s.a)(i.value,2),o=a[0],c=a[1],t.next=8,[o,c,e];case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})),coercer:function(e){return Array.isArray(e)?e.slice():e},validator:function(e){return Array.isArray(e)||"Expected an array value, but received: "+E(e)}})}function W(){return N("boolean",(function(e){return"boolean"===typeof e}))}function K(e){return N("instance",(function(t){return t instanceof e||"Expected a `"+e.name+"` instance, but received: "+E(t)}))}function L(e){var t=E(e),r=typeof e;return new _({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:function(r){return r===e||"Expected the literal `"+t+"`, but received: "+E(r)}})}function M(){return N("never",(function(){return!1}))}function D(e){return new _(Object(c.a)(Object(c.a)({},e),{},{validator:function(t,r){return null===t||e.validator(t,r)},refiner:function(t,r){return null===t||e.refiner(t,r)}}))}function q(){return N("number",(function(e){return"number"===typeof e&&!isNaN(e)||"Expected a number, but received: "+E(e)}))}function F(e){return new _(Object(c.a)(Object(c.a)({},e),{},{validator:function(t,r){return void 0===t||e.validator(t,r)},refiner:function(t,r){return void 0===t||e.refiner(t,r)}}))}function V(e,t){return new _({type:"record",schema:null,entries:m.a.mark((function r(n){var i,a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!x(n)){r.next=11;break}r.t0=m.a.keys(n);case 2:if((r.t1=r.t0()).done){r.next=11;break}return i=r.t1.value,a=n[i],r.next=7,[i,i,e];case 7:return r.next=9,[i,a,t];case 9:r.next=2;break;case 11:case"end":return r.stop()}}),r)})),validator:function(e){return x(e)||"Expected an object, but received: "+E(e)}})}function G(){return N("string",(function(e){return"string"===typeof e||"Expected a string, but received: "+E(e)}))}function H(e){var t=M();return new _({type:"tuple",schema:null,entries:m.a.mark((function r(n){var i,a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Array.isArray(n)){r.next=9;break}i=Math.max(e.length,n.length),a=0;case 3:if(!(a<i)){r.next=9;break}return r.next=6,[a,n[a],e[a]||t];case 6:a++,r.next=3;break;case 9:case"end":return r.stop()}}),r)})),validator:function(e){return Array.isArray(e)||"Expected an array, but received: "+E(e)}})}function J(e){var t=Object.keys(e);return new _({type:"type",schema:e,entries:m.a.mark((function r(n){var i,a,o;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!x(n)){r.next=9;break}i=0,a=t;case 2:if(!(i<a.length)){r.next=9;break}return o=a[i],r.next=6,[o,n[o],e[o]];case 6:i++,r.next=2;break;case 9:case"end":return r.stop()}}),r)})),validator:function(e){return x(e)||"Expected an object, but received: "+E(e)}})}function Z(e){var t=e.map((function(e){return e.type})).join(" | ");return new _({type:"union",schema:null,validator:function(r,c){var f,h,l=[],p=Object(u.a)(e);try{for(p.s();!(f=p.n()).done;){var d=I(r,f.value,c),b=(h=d,Object(n.a)(h)||Object(i.a)(h)||Object(a.a)(h)||Object(o.a)()).slice(0);if(!Object(s.a)(b,1)[0][0])return[];var y,v=Object(u.a)(b);try{for(v.s();!(y=v.n()).done;){var g=Object(s.a)(y.value,1)[0];g&&l.push(g)}}catch(m){v.e(m)}finally{v.f()}}}catch(m){p.e(m)}finally{p.f()}return["Expected the value to satisfy a union of `"+t+"`, but received: "+E(r)].concat(l)}})}function X(){return N("unknown",(function(){return!0}))}function $(e,t,r){return new _(Object(c.a)(Object(c.a)({},e),{},{coercer:function(n,i){return U(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)}}))}}}]);
//# sourceMappingURL=3.bb8bacc9.chunk.js.map