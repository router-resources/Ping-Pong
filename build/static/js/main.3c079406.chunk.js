(this["webpackJsonpamazon-clone"]=this["webpackJsonpamazon-clone"]||[]).push([[5],{1003:function(e,t){},1081:function(e,t){},1086:function(e,t){},1099:function(e,t){},1136:function(e,t){},1138:function(e,t){},1144:function(e,t){},1156:function(e,t){},1159:function(e,t){},1165:function(e,t){},1178:function(e,t){},1242:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(274),r=n.n(s),c=(n(613),n(32)),o=n(14),u=n(45),p=n(1),l=n.n(p),y=n(113),d=(n(614),n(615),n(13));var b=function(){var e=Object(a.useState)("login"),t=Object(u.a)(e,2),n=(t[0],t[1],Object(a.useState)("")),i=Object(u.a)(n,2),s=i[0],r=i[1],c=Object(a.useState)(""),p=Object(u.a)(c,2),b=p[0],m=p[1],f=Object(a.useState)(""),x=Object(u.a)(f,2),j=x[0],g=x[1],h=Object(a.useState)(1),v=Object(u.a)(h,2),O=v[0],T=v[1],w=Object(a.useState)("Connect Wallet"),A=Object(u.a)(w,2),k=A[0],F=A[1],C=Object(a.useState)("btn btn-danger"),D=Object(u.a)(C,2),E=D[0],S=D[1],M=[{inputs:[{internalType:"address payable",name:"gatewayAddress",type:"address"},{internalType:"uint64",name:"_destGasLimit",type:"uint64"},{internalType:"uint64",name:"_ackGasLimit",type:"uint64"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"string",name:"message",type:"string"}],name:"CustomError",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"requestId",type:"uint64"},{indexed:!1,internalType:"string",name:"ackMessage",type:"string"}],name:"AckFromDestination",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"eventIdentifier",type:"uint64"},{indexed:!1,internalType:"bool",name:"isSuccess",type:"bool"}],name:"ExecutionStatus",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"requestId",type:"uint64"}],name:"NewPing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"srcChainType",type:"uint64"},{indexed:!0,internalType:"string",name:"srcChainId",type:"string"},{indexed:!0,internalType:"uint64",name:"requestId",type:"uint64"},{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"PingFromSource",type:"event"},{inputs:[{internalType:"uint64",name:"",type:"uint64"}],name:"ackFromDestination",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"ackGasLimit",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentRequestId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"destGasLimit",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"gatewayContract",outputs:[{internalType:"contract IGateway",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"eventIdentifier",type:"uint64"},{internalType:"bool[]",name:"execFlags",type:"bool[]"},{internalType:"bytes[]",name:"execData",type:"bytes[]"}],name:"handleCrossTalkAck",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"srcContractAddress",type:"bytes"},{internalType:"bytes",name:"payload",type:"bytes"},{internalType:"string",name:"srcChainId",type:"string"},{internalType:"uint64",name:"srcChainType",type:"uint64"}],name:"handleRequestFromSource",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"chainType",type:"uint64"},{internalType:"string",name:"chainId",type:"string"},{internalType:"uint64",name:"destGasPrice",type:"uint64"},{internalType:"uint64",name:"ackGasPrice",type:"uint64"},{internalType:"address",name:"destinationContractAddress",type:"address"},{internalType:"string",name:"str",type:"string"},{internalType:"uint64",name:"expiryDurationInSeconds",type:"uint64"}],name:"pingDestination",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint64",name:"",type:"uint64"},{internalType:"string",name:"",type:"string"},{internalType:"uint64",name:"",type:"uint64"}],name:"pingFromSource",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"a",type:"address"}],name:"toBytes",outputs:[{internalType:"bytes",name:"b",type:"bytes"}],stateMutability:"pure",type:"function"}];Object(a.useEffect)(Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.a.providers.JsonRpcProvider("https://rpc.ankr.com/polygon_mumbai"),"0x9fF2c6D8bFf3b87538A156Ea1a768ec5A2d55B32",n=new y.a.Contract("0x9fF2c6D8bFf3b87538A156Ea1a768ec5A2d55B32",M,t),e.next=5,n.currentRequestId();case 5:a=e.sent,T(a);case 7:case"end":return e.stop()}}),e)}))),[]);var I=new y.a.providers.Web3Provider(window.ethereum),B=new y.a.providers.JsonRpcProvider("https://rpc.ankr.com/polygon_mumbai"),P=new y.a.providers.JsonRpcProvider("https://rpc.ankr.com/avalanche_fuji");console.log(B);var q=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"0x9fF2c6D8bFf3b87538A156Ea1a768ec5A2d55B32",t=new y.a.Contract("0x9fF2c6D8bFf3b87538A156Ea1a768ec5A2d55B32",M,B),console.log(t),e.prev=4,e.next=7,t.ackFromDestination(O);case 7:n=e.sent,g(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("calling the function"+e.t0);case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),console.log("outside"+e.t1);case 19:case"end":return e.stop()}}),e,null,[[0,16],[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"button",style:{width:"10em",height:"3em","margin-left":"30em"},class:E,onClick:Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Requesting account..."),!window.ethereum){e.next=17;break}return console.log("detected"),e.prev=3,e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:t=e.sent,alert(t[0]),F("Connected"),S("btn btn-success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("Error connecting...");case 15:e.next=18;break;case 17:alert("Meta Mask not detected");case 18:case"end":return e.stop()}}),e,null,[[3,12]])}))),children:k}),Object(d.jsxs)("div",{class:"main",children:[Object(d.jsxs)("div",{class:"card",style:{width:"20em"},children:[Object(d.jsx)("div",{class:"card-header",children:"Mumbai Testnet"}),Object(d.jsxs)("div",{class:"card-body",children:[Object(d.jsx)("textarea",{class:"form-control",id:"textAreaExample2",rows:"4",onChange:function(e){r(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"button",class:"btn btn-success",onClick:Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=I.getSigner(),"0x9fF2c6D8bFf3b87538A156Ea1a768ec5A2d55B32",new y.a.Contract("0x9fF2c6D8bFf3b87538A156Ea1a768ec5A2d55B32",M,t).pingDestination(0,"43113",2e5,2e5,"0xf7015AD80B60EA4A9e12d90ff00D68fAa8e08df4",s,1e12).then((function(){}));case 4:case"end":return e.stop()}}),e)}))),children:"Send Message"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{value:j,class:"form-control",id:"textAreaExample2",rows:"4",onChange:function(e){r(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"button",class:"btn btn-success",onClick:q,children:"Acknowledgement"})]})]}),Object(d.jsxs)("div",{class:"card",style:{width:"20em"},children:[Object(d.jsx)("div",{class:"card-header",children:"Fuji Testnet"}),Object(d.jsxs)("div",{class:"card-body",children:[Object(d.jsx)("textarea",{value:b,class:"form-control",id:"textAreaExample2",rows:"4",onChange:function(e){r(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"button",class:"btn btn-success",onClick:Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.a.providers.JsonRpcProvider("https://rpc.ankr.com/polygon_mumbai"),"0x9fF2c6D8bFf3b87538A156Ea1a768ec5A2d55B32",n=new y.a.Contract("0x9fF2c6D8bFf3b87538A156Ea1a768ec5A2d55B32",M,t),e.next=5,n.currentRequestId();case 5:a=e.sent,T(a),I.getSigner(),"0xf7015AD80B60EA4A9e12d90ff00D68fAa8e08df4",new y.a.Contract("0xf7015AD80B60EA4A9e12d90ff00D68fAa8e08df4",M,P).pingFromSource(0,"80001",O).then((function(e){m(e)})).catch((function(){alert("connect to Fuji Network")}));case 11:case"end":return e.stop()}}),e)}))),children:"Message Recieved"})]})]})]})]})},m=(n(626),function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(c.c,{children:Object(d.jsx)(c.a,{path:"/",element:Object(d.jsx)(b,{})})})})}),f=function(e){e&&e instanceof Function&&n.e(18).then(n.bind(null,1450)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))},x=n(230),j=n(154),g=n(589);r.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(j.a,{appId:"xxxxx",serverUrl:"xxxxx",children:Object(d.jsx)(g.a,{children:Object(d.jsx)(x.a,{children:Object(d.jsx)(m,{})})})})}),document.getElementById("root")),f()},613:function(e,t,n){},615:function(e,t,n){},617:function(e,t){},626:function(e,t,n){},890:function(e,t){},912:function(e,t){},953:function(e,t){},955:function(e,t){},974:function(e,t){},976:function(e,t){},988:function(e,t){},989:function(e,t){}},[[1242,6,7]]]);
//# sourceMappingURL=main.3c079406.chunk.js.map