{"version":3,"file":"solanaEmbed.esm.js","sources":["../src/messages.ts","../src/interfaces.ts","../src/config.ts","../src/loglevel.ts","../src/utils.ts","../src/baseProvider.ts","../src/embedUtils.ts","../src/PopupHandler.ts","../src/communicationProvider.ts","../src/inPageProvider.ts","../src/siteMetadata.ts","../src/embed.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["errors","disconnected","permanentlyDisconnected","unsupportedSync","method","invalidDuplexStream","invalidOptions","maxEventListeners","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","info","connected","chainId","warnings","PAYMENT_PROVIDER","MOONPAY","WYRE","RAMPNETWORK","XANPOOL","MERCURYO","TRANSAK","TORUS_BUILD_ENV","PRODUCTION","DEVELOPMENT","TESTING","BUTTON_POSITION","BOTTOM_LEFT","TOP_LEFT","BOTTOM_RIGHT","TOP_RIGHT","LOGIN_PROVIDER","GOOGLE","FACEBOOK","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","TWITTER","WEIBO","WECHAT","EMAIL_PASSWORDLESS","translations","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","supportedVerifierList","api","prodTorusUrl","localStorageKey","window","location","hostname","loglevel","getLogger","createErrorMiddleware","req","res","next","error","ethErrors","rpc","invalidRequest","message","data","done","log","logStreamDisconnectWarning","remoteLabel","emitter","warningMsg","stack","warn","listenerCount","emit","getWindowId","Math","random","toString","slice","getTorusUrl","buildEnv","torusUrl","logLevel","getUserLanguage","userLanguage","navigator","language","userLanguages","split","Object","prototype","hasOwnProperty","call","config","FEATURES_PROVIDER_CHANGE_WINDOW","height","width","FEATURES_DEFAULT_WALLET_WINDOW","FEATURES_DEFAULT_POPUP_WINDOW","FEATURES_CONFIRM_WINDOW","storageAvailable","type","storage","x","setItem","removeItem","e","code","name","length","getPopupFeatures","w","h","dualScreenLeft","screenLeft","undefined","screenX","dualScreenTop","screenTop","screenY","innerWidth","document","documentElement","clientWidth","screen","innerHeight","clientHeight","systemZoom","left","abs","top","features","getNetworkConfig","label","blockExplorerUrl","displayName","logo","rpcTarget","ticker","tickerName","BaseProvider","SafeEventEmitter","constructor","connectionStream","jsonRpcStreamName","isDuplexStream","Error","messages","isTorus","setMaxListeners","_handleConnect","bind","_handleDisconnect","_handleStreamDisconnect","_rpcRequest","_initializeState","request","sendAsync","mux","ObjectMultiplex","pump","ignoreStream","jsonRpcConnection","createStreamMiddleware","stream","createStream","rpcEngine","JRPCEngine","push","createIdRemapMiddleware","createLoggerMiddleware","origin","middleware","_rpcEngine","jsonRpcConnectionEvents","events","args","Array","isArray","params","Promise","resolve","reject","getRpcPromiseCallback","send","payload","callback","streamName","handleEvent","handle","eventName","handler","handlerArgs","handlerWrapper","removeEventListener","addEventListener","documentReady","readyState","htmlToElement","html","template","createElement","trimmedHtml","trim","innerHTML","content","firstChild","PopupHandler","url","target","windowTimer","iClosedWindow","_setupTimer","Number","setInterval","closed","clearInterval","open","href","focus","close","redirect","locationReplaceOnRedirect","replace","TorusCommunicationProvider","_state","_defaultState","dappStorageKey","languageTranslations","configuration","embedTranslations","windowRefs","on","isConnected","notificationHandler","COMMUNICATION_NOTIFICATIONS","IFRAME_STATUS","isFullScreen","rid","_displayIframe","isFull","CREATE_WINDOW","windowId","_createPopupBlockAlert","CLOSE_WINDOW","_handleCloseWindow","USER_LOGGED_IN","currentLoginProvider","isLoggedIn","USER_LOGGED_OUT","isIFrameFullScreen","torusAlertContainer","torusIframe","COMMUNICATION_JRPC_METHODS","GET_PROVIDER_STATE","initialized","_handleWindow","finalUrl","URL","hash","handledWindow","OPENED_WINDOW","once","CLOSED_WINDOW","style","display","torusWidgetVisibility","buttonPosition","right","bottom","assign","hideTorusButton","showTorusButton","cb","_payload","jsonrpc","tryWindowHandle","debug","isRecoverable","errorMessage","isPermanentlyDisconnected","EthereumRpcError","logoUrl","getLogoUrl","torusAlert","successAlert","btnContainer","appendChild","bindOnLoad","remove","children","attachOnLoad","hasEmittedConnection","TorusInPageProvider","selectedAddress","_handleAccountsChanged","_handleChainChanged","_handleUnlockStateChanged","jsonRpcNotificationHandler","PROVIDER_NOTIFICATIONS","ACCOUNTS_CHANGED","UNLOCK_STATE_CHANGED","CHAIN_CHANGED","accounts","isUnlocked","PROVIDER_JRPC_METHODS","isInternal","err","result","isEthAccounts","finalAccounts","account","dequal","imgExists","img","onload","onerror","src","getSiteName","siteName","querySelector","metaTitle","title","getSiteIcon","icon","from","querySelectorAll","find","_icon","Boolean","getSiteMetadata","PROVIDER_UNSAFE_METHODS","COMMUNICATION_UNSAFE_METHODS","SET_PROVIDER","isLocalStorageAvailable","preLoadIframe","torusIframeHtml","crossOrigin","rel","relList","supports","head","Torus","modalZIndex","isInitialized","requestedLoginProvider","alertZIndex","communicationProvider","init","enableLogging","network","useLocalStorage","apiKey","extraParams","setAPIKey","setDefaultLevel","enableAll","disableAll","handleDappStorageKey","torusIframeUrl","pathname","endsWith","hashParams","URLSearchParams","append","styleLink","handleSetup","body","dappMetadata","contentWindow","postMessage","_setupWeb3","torus","login","loginProvider","provider","login_hint","logout","LOGOUT","cleanUp","clearInit","isElement","element","Element","Document","contains","setProvider","showWallet","path","instanceId","WALLET_INSTANCE_ID","finalPath","searchParams","keys","forEach","walletWindow","getUserInfo","userInfoResponse","USER_INFO","initiateTopup","topupResponse","TOPUP","sendTransaction","transaction","response","serialize","requireAllSignatures","signTransaction","buf","Buffer","sendTx","Transaction","signAllTransactions","transactions","encodedTransactions","map","allSignedTransaction","msg","signMessage","getGaslessPublicKey","storedKey","localStorage","getItem","generatedKey","providerParams","providerStream","BasePostMessageStream","targetWindow","communicationStream","inPageProvider","includes","detectAccountRequestPrototypeModifier","m","originalMethod","self","providerFunc","then","catch","apply","proxiedInPageProvider","Proxy","deleteProperty","proxiedCommunicationProvider","all"],"mappings":"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"}