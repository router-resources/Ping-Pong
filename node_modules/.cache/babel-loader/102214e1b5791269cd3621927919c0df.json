{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.averageResponseTime = averageResponseTime;\nexports.canBeUsed = canBeUsed;\nexports.close = close;\nexports.create = create;\nexports.microSeconds = exports[\"default\"] = void 0;\nexports.onMessage = onMessage;\nexports.postMessage = postMessage;\nexports.type = void 0;\nvar _util = require(\"../util\");\nvar microSeconds = _util.microSeconds;\nexports.microSeconds = microSeconds;\nvar type = 'native';\nexports.type = type;\nfunction create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n  return state;\n}\nfunction close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nfunction postMessage(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return _util.PROMISE_RESOLVED_VOID;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\nfunction onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed() {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (_util.isNode && typeof window === 'undefined') return false;\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n    return true;\n  } else return false;\n}\nfunction averageResponseTime() {\n  return 150;\n}\nvar _default = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};\nexports[\"default\"] = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","averageResponseTime","canBeUsed","close","create","microSeconds","onMessage","postMessage","type","_util","require","channelName","state","messagesCallback","bc","BroadcastChannel","subFns","onmessage","msg","data","channelState","messageJson","PROMISE_RESOLVED_VOID","err","Promise","reject","fn","isNode","window","_pubkey","Error","_default"],"sources":["/Users/shivamsoni/Desktop/router/pingspong/Ping-Pong/node_modules/broadcast-channel/dist/lib/methods/native.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.averageResponseTime = averageResponseTime;\nexports.canBeUsed = canBeUsed;\nexports.close = close;\nexports.create = create;\nexports.microSeconds = exports[\"default\"] = void 0;\nexports.onMessage = onMessage;\nexports.postMessage = postMessage;\nexports.type = void 0;\n\nvar _util = require(\"../util\");\n\nvar microSeconds = _util.microSeconds;\nexports.microSeconds = microSeconds;\nvar type = 'native';\nexports.type = type;\n\nfunction create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n\n  return state;\n}\n\nfunction close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\n\nfunction postMessage(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return _util.PROMISE_RESOLVED_VOID;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nfunction onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\n\nfunction canBeUsed() {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (_util.isNode && typeof window === 'undefined') return false;\n\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n\n    return true;\n  } else return false;\n}\n\nfunction averageResponseTime() {\n  return 150;\n}\n\nvar _default = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};\nexports[\"default\"] = _default;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,mBAAmB,GAAGA,mBAAmB;AACjDF,OAAO,CAACG,SAAS,GAAGA,SAAS;AAC7BH,OAAO,CAACI,KAAK,GAAGA,KAAK;AACrBJ,OAAO,CAACK,MAAM,GAAGA,MAAM;AACvBL,OAAO,CAACM,YAAY,GAAGN,OAAO,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;AAClDA,OAAO,CAACO,SAAS,GAAGA,SAAS;AAC7BP,OAAO,CAACQ,WAAW,GAAGA,WAAW;AACjCR,OAAO,CAACS,IAAI,GAAG,KAAK,CAAC;AAErB,IAAIC,KAAK,GAAGC,OAAO,CAAC,SAAS,CAAC;AAE9B,IAAIL,YAAY,GAAGI,KAAK,CAACJ,YAAY;AACrCN,OAAO,CAACM,YAAY,GAAGA,YAAY;AACnC,IAAIG,IAAI,GAAG,QAAQ;AACnBT,OAAO,CAACS,IAAI,GAAGA,IAAI;AAEnB,SAASJ,MAAM,CAACO,WAAW,EAAE;EAC3B,IAAIC,KAAK,GAAG;IACVC,gBAAgB,EAAE,IAAI;IACtBC,EAAE,EAAE,IAAIC,gBAAgB,CAACJ,WAAW,CAAC;IACrCK,MAAM,EAAE,EAAE,CAAC;EAEb,CAAC;;EAEDJ,KAAK,CAACE,EAAE,CAACG,SAAS,GAAG,UAAUC,GAAG,EAAE;IAClC,IAAIN,KAAK,CAACC,gBAAgB,EAAE;MAC1BD,KAAK,CAACC,gBAAgB,CAACK,GAAG,CAACC,IAAI,CAAC;IAClC;EACF,CAAC;EAED,OAAOP,KAAK;AACd;AAEA,SAAST,KAAK,CAACiB,YAAY,EAAE;EAC3BA,YAAY,CAACN,EAAE,CAACX,KAAK,EAAE;EACvBiB,YAAY,CAACJ,MAAM,GAAG,EAAE;AAC1B;AAEA,SAAST,WAAW,CAACa,YAAY,EAAEC,WAAW,EAAE;EAC9C,IAAI;IACFD,YAAY,CAACN,EAAE,CAACP,WAAW,CAACc,WAAW,EAAE,KAAK,CAAC;IAC/C,OAAOZ,KAAK,CAACa,qBAAqB;EACpC,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ,OAAOC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;EAC5B;AACF;AAEA,SAASjB,SAAS,CAACc,YAAY,EAAEM,EAAE,EAAE;EACnCN,YAAY,CAACP,gBAAgB,GAAGa,EAAE;AACpC;AAEA,SAASxB,SAAS,GAAG;EACnB;AACF;AACA;AACA;EACE,IAAIO,KAAK,CAACkB,MAAM,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE,OAAO,KAAK;EAE/D,IAAI,OAAOb,gBAAgB,KAAK,UAAU,EAAE;IAC1C,IAAIA,gBAAgB,CAACc,OAAO,EAAE;MAC5B,MAAM,IAAIC,KAAK,CAAC,qGAAqG,CAAC;IACxH;IAEA,OAAO,IAAI;EACb,CAAC,MAAM,OAAO,KAAK;AACrB;AAEA,SAAS7B,mBAAmB,GAAG;EAC7B,OAAO,GAAG;AACZ;AAEA,IAAI8B,QAAQ,GAAG;EACb3B,MAAM,EAAEA,MAAM;EACdD,KAAK,EAAEA,KAAK;EACZG,SAAS,EAAEA,SAAS;EACpBC,WAAW,EAAEA,WAAW;EACxBL,SAAS,EAAEA,SAAS;EACpBM,IAAI,EAAEA,IAAI;EACVP,mBAAmB,EAAEA,mBAAmB;EACxCI,YAAY,EAAEA;AAChB,CAAC;AACDN,OAAO,CAAC,SAAS,CAAC,GAAGgC,QAAQ"},"metadata":{},"sourceType":"script"}