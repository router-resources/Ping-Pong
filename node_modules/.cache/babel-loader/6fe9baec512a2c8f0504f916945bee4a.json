{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storeTransformStream = void 0;\nconst through2_1 = require(\"through2\");\nfunction storeTransformStream(syncTransformFn) {\n  return through2_1.obj((state, _encoding, cb) => {\n    try {\n      const newState = syncTransformFn(state);\n      cb(null, newState);\n      return undefined;\n    } catch (err) {\n      cb(err);\n      return undefined;\n    }\n  });\n}\nexports.storeTransformStream = storeTransformStream;","map":{"version":3,"mappings":";;;;;;AAAA;AAEA,SAAgBA,oBAAoB,CAAOC,eAAgC;EACzE,OAAOC,cAAe,CAAC,CAACC,KAAK,EAAEC,SAAS,EAAEC,EAAE,KAAI;IAC9C,IAAI;MACF,MAAMC,QAAQ,GAAGL,eAAe,CAACE,KAAK,CAAC;MACvCE,EAAE,CAAC,IAAI,EAAEC,QAAQ,CAAC;MAClB,OAAOC,SAAS;KACjB,CAAC,OAAOC,GAAG,EAAE;MACZH,EAAE,CAACG,GAAG,CAAC;MACP,OAAOD,SAAS;;EAEpB,CAAC,CAAC;AACJ;AAXAE","names":["storeTransformStream","syncTransformFn","through2_1","state","_encoding","cb","newState","undefined","err","exports"],"sourceRoot":"","sources":["../src/transform.ts"],"sourcesContent":["import { obj as TransformStream } from 'through2';\n\nexport function storeTransformStream<T, U>(syncTransformFn: (state: T) => U) {\n  return TransformStream((state, _encoding, cb) => {\n    try {\n      const newState = syncTransformFn(state);\n      cb(null, newState);\n      return undefined;\n    } catch (err) {\n      cb(err);\n      return undefined;\n    }\n  });\n}\n"]},"metadata":{},"sourceType":"script"}