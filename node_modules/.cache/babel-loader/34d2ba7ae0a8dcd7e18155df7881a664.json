{"ast":null,"code":"const util = require('util');\nconst EventEmitter = require('events/');\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nmodule.exports = SafeEventEmitter;\nfunction SafeEventEmitter() {\n  EventEmitter.call(this);\n}\nutil.inherits(SafeEventEmitter, EventEmitter);\nSafeEventEmitter.prototype.emit = function (type) {\n  // copied from https://github.com/Gozala/events/blob/master/events.js\n  // modified lines are commented with \"edited:\"\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n  if (typeof handler === 'function') {\n    // edited: using safeApply\n    safeApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n    // edited: using safeApply\n    safeApply(listeners[i], this, args);\n  }\n  return true;\n};\nfunction safeApply(handler, context, args) {\n  try {\n    ReflectApply(handler, context, args);\n  } catch (err) {\n    // throw error after timeout so as not to interupt the stack\n    setTimeout(() => {\n      throw err;\n    });\n  }\n}\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i) copy[i] = arr[i];\n  return copy;\n}","map":{"version":3,"names":["util","require","EventEmitter","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","module","exports","SafeEventEmitter","inherits","emit","type","i","arguments","length","push","doError","events","_events","undefined","error","er","Error","err","message","context","handler","safeApply","len","listeners","arrayClone","setTimeout","arr","n","copy","Array"],"sources":["/Users/shivamsoni/Desktop/router/pingspong/Ping-Pong/node_modules/safe-event-emitter/index.js"],"sourcesContent":["const util = require('util')\nconst EventEmitter = require('events/')\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n}\n\nmodule.exports = SafeEventEmitter\n\n\nfunction SafeEventEmitter() {\n  EventEmitter.call(this)\n}\n\nutil.inherits(SafeEventEmitter, EventEmitter)\n\nSafeEventEmitter.prototype.emit = function (type) {\n  // copied from https://github.com/Gozala/events/blob/master/events.js\n  // modified lines are commented with \"edited:\"\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    // edited: using safeApply\n    safeApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      // edited: using safeApply\n      safeApply(listeners[i], this, args);\n  }\n\n  return true;\n}\n\nfunction safeApply(handler, context, args) {\n  try {\n    ReflectApply(handler, context, args)\n  } catch (err) {\n    // throw error after timeout so as not to interupt the stack\n    setTimeout(() => {\n      throw err\n    })\n  }\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}