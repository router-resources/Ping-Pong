{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar os = require(\"os\");\nvar url = require(\"url\");\nvar progress_event_1 = require(\"./progress-event\");\nvar errors_1 = require(\"./errors\");\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nvar xml_http_request_upload_1 = require(\"./xml-http-request-upload\");\nvar Cookie = require(\"cookiejar\");\nvar XMLHttpRequest = /** @class */function (_super) {\n  __extends(XMLHttpRequest, _super);\n  function XMLHttpRequest(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var _this = _super.call(this) || this;\n    _this.UNSENT = XMLHttpRequest.UNSENT;\n    _this.OPENED = XMLHttpRequest.OPENED;\n    _this.HEADERS_RECEIVED = XMLHttpRequest.HEADERS_RECEIVED;\n    _this.LOADING = XMLHttpRequest.LOADING;\n    _this.DONE = XMLHttpRequest.DONE;\n    _this.onreadystatechange = null;\n    _this.readyState = XMLHttpRequest.UNSENT;\n    _this.response = null;\n    _this.responseText = '';\n    _this.responseType = '';\n    _this.status = 0; // TODO: UNSENT?\n    _this.statusText = '';\n    _this.timeout = 0;\n    _this.upload = new xml_http_request_upload_1.XMLHttpRequestUpload();\n    _this.responseUrl = '';\n    _this.withCredentials = false;\n    _this._method = null;\n    _this._url = null;\n    _this._sync = false;\n    _this._headers = {};\n    _this._loweredHeaders = {};\n    _this._mimeOverride = null; // TODO: is type right?\n    _this._request = null;\n    _this._response = null;\n    _this._responseParts = null;\n    _this._responseHeaders = null;\n    _this._aborting = null; // TODO: type?\n    _this._error = null; // TODO: type?\n    _this._loadedBytes = 0;\n    _this._totalBytes = 0;\n    _this._lengthComputable = false;\n    _this._restrictedMethods = {\n      CONNECT: true,\n      TRACE: true,\n      TRACK: true\n    };\n    _this._restrictedHeaders = {\n      'accept-charset': true,\n      'accept-encoding': true,\n      'access-control-request-headers': true,\n      'access-control-request-method': true,\n      connection: true,\n      'content-length': true,\n      cookie: true,\n      cookie2: true,\n      date: true,\n      dnt: true,\n      expect: true,\n      host: true,\n      'keep-alive': true,\n      origin: true,\n      referer: true,\n      te: true,\n      trailer: true,\n      'transfer-encoding': true,\n      upgrade: true,\n      'user-agent': true,\n      via: true\n    };\n    _this._privateHeaders = {\n      'set-cookie': true,\n      'set-cookie2': true\n    };\n    _this._userAgent = \"Mozilla/5.0 (\" + os.type() + \" \" + os.arch() + \") node.js/\" + process.versions.node + \" v8/\" + process.versions.v8;\n    _this._anonymous = options.anon || false;\n    return _this;\n  }\n  XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n    if (async === void 0) {\n      async = true;\n    }\n    method = method.toUpperCase();\n    if (this._restrictedMethods[method]) {\n      throw new XMLHttpRequest.SecurityError(\"HTTP method \" + method + \" is not allowed in XHR\");\n    }\n    ;\n    var xhrUrl = this._parseUrl(url, user, password);\n    if (this.readyState === XMLHttpRequest.HEADERS_RECEIVED || this.readyState === XMLHttpRequest.LOADING) {\n      // TODO(pwnall): terminate abort(), terminate send()\n    }\n    this._method = method;\n    this._url = xhrUrl;\n    this._sync = !async;\n    this._headers = {};\n    this._loweredHeaders = {};\n    this._mimeOverride = null;\n    this._setReadyState(XMLHttpRequest.OPENED);\n    this._request = null;\n    this._response = null;\n    this.status = 0;\n    this.statusText = '';\n    this._responseParts = [];\n    this._responseHeaders = null;\n    this._loadedBytes = 0;\n    this._totalBytes = 0;\n    this._lengthComputable = false;\n  };\n  XMLHttpRequest.prototype.setRequestHeader = function (name, value) {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n    }\n    var loweredName = name.toLowerCase();\n    if (this._restrictedHeaders[loweredName] || /^sec-/.test(loweredName) || /^proxy-/.test(loweredName)) {\n      console.warn(\"Refused to set unsafe header \\\"\" + name + \"\\\"\");\n      return;\n    }\n    value = value.toString();\n    if (this._loweredHeaders[loweredName] != null) {\n      name = this._loweredHeaders[loweredName];\n      this._headers[name] = this._headers[name] + \", \" + value;\n    } else {\n      this._loweredHeaders[loweredName] = name;\n      this._headers[name] = value;\n    }\n  };\n  XMLHttpRequest.prototype.send = function (data) {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n    }\n    if (this._request) {\n      throw new XMLHttpRequest.InvalidStateError('send() already called');\n    }\n    switch (this._url.protocol) {\n      case 'file:':\n        return this._sendFile(data);\n      case 'http:':\n      case 'https:':\n        return this._sendHttp(data);\n      default:\n        throw new XMLHttpRequest.NetworkError(\"Unsupported protocol \" + this._url.protocol);\n    }\n  };\n  XMLHttpRequest.prototype.abort = function () {\n    if (this._request == null) {\n      return;\n    }\n    this._request.abort();\n    this._setError();\n    this._dispatchProgress('abort');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype.getResponseHeader = function (name) {\n    if (this._responseHeaders == null || name == null) {\n      return null;\n    }\n    var loweredName = name.toLowerCase();\n    return this._responseHeaders.hasOwnProperty(loweredName) ? this._responseHeaders[name.toLowerCase()] : null;\n  };\n  XMLHttpRequest.prototype.getAllResponseHeaders = function () {\n    var _this = this;\n    if (this._responseHeaders == null) {\n      return '';\n    }\n    return Object.keys(this._responseHeaders).map(function (key) {\n      return key + \": \" + _this._responseHeaders[key];\n    }).join('\\r\\n');\n  };\n  XMLHttpRequest.prototype.overrideMimeType = function (mimeType) {\n    if (this.readyState === XMLHttpRequest.LOADING || this.readyState === XMLHttpRequest.DONE) {\n      throw new XMLHttpRequest.InvalidStateError('overrideMimeType() not allowed in LOADING or DONE');\n    }\n    this._mimeOverride = mimeType.toLowerCase();\n  };\n  XMLHttpRequest.prototype.nodejsSet = function (options) {\n    this.nodejsHttpAgent = options.httpAgent || this.nodejsHttpAgent;\n    this.nodejsHttpsAgent = options.httpsAgent || this.nodejsHttpsAgent;\n    if (options.hasOwnProperty('baseUrl')) {\n      if (options.baseUrl != null) {\n        var parsedUrl = url.parse(options.baseUrl, false, true);\n        if (!parsedUrl.protocol) {\n          throw new XMLHttpRequest.SyntaxError(\"baseUrl must be an absolute URL\");\n        }\n      }\n      this.nodejsBaseUrl = options.baseUrl;\n    }\n  };\n  XMLHttpRequest.nodejsSet = function (options) {\n    XMLHttpRequest.prototype.nodejsSet(options);\n  };\n  XMLHttpRequest.prototype._setReadyState = function (readyState) {\n    this.readyState = readyState;\n    this.dispatchEvent(new progress_event_1.ProgressEvent('readystatechange'));\n  };\n  XMLHttpRequest.prototype._sendFile = function (data) {\n    // TODO\n    throw new Error('Protocol file: not implemented');\n  };\n  XMLHttpRequest.prototype._sendHttp = function (data) {\n    if (this._sync) {\n      throw new Error('Synchronous XHR processing not implemented');\n    }\n    if (data && (this._method === 'GET' || this._method === 'HEAD')) {\n      console.warn(\"Discarding entity body for \" + this._method + \" requests\");\n      data = null;\n    } else {\n      data = data || '';\n    }\n    this.upload._setData(data);\n    this._finalizeHeaders();\n    this._sendHxxpRequest();\n  };\n  XMLHttpRequest.prototype._sendHxxpRequest = function () {\n    var _this = this;\n    if (this.withCredentials) {\n      var cookie = XMLHttpRequest.cookieJar.getCookies(Cookie.CookieAccessInfo(this._url.hostname, this._url.pathname, this._url.protocol === 'https:')).toValueString();\n      this._headers.cookie = this._headers.cookie2 = cookie;\n    }\n    var _a = this._url.protocol === 'http:' ? [http, this.nodejsHttpAgent] : [https, this.nodejsHttpsAgent],\n      hxxp = _a[0],\n      agent = _a[1];\n    var requestMethod = hxxp.request.bind(hxxp);\n    var request = requestMethod({\n      hostname: this._url.hostname,\n      port: +this._url.port,\n      path: this._url.path,\n      auth: this._url.auth,\n      method: this._method,\n      headers: this._headers,\n      agent: agent\n    });\n    this._request = request;\n    if (this.timeout) {\n      request.setTimeout(this.timeout, function () {\n        return _this._onHttpTimeout(request);\n      });\n    }\n    request.on('response', function (response) {\n      return _this._onHttpResponse(request, response);\n    });\n    request.on('error', function (error) {\n      return _this._onHttpRequestError(request, error);\n    });\n    this.upload._startUpload(request);\n    if (this._request === request) {\n      this._dispatchProgress('loadstart');\n    }\n  };\n  XMLHttpRequest.prototype._finalizeHeaders = function () {\n    this._headers = __assign({}, this._headers, {\n      Connection: 'keep-alive',\n      Host: this._url.host,\n      'User-Agent': this._userAgent\n    }, this._anonymous ? {\n      Referer: 'about:blank'\n    } : {});\n    this.upload._finalizeHeaders(this._headers, this._loweredHeaders);\n  };\n  XMLHttpRequest.prototype._onHttpResponse = function (request, response) {\n    var _this = this;\n    if (this._request !== request) {\n      return;\n    }\n    if (this.withCredentials && (response.headers['set-cookie'] || response.headers['set-cookie2'])) {\n      XMLHttpRequest.cookieJar.setCookies(response.headers['set-cookie'] || response.headers['set-cookie2']);\n    }\n    if ([301, 302, 303, 307, 308].indexOf(response.statusCode) >= 0) {\n      this._url = this._parseUrl(response.headers.location);\n      this._method = 'GET';\n      if (this._loweredHeaders['content-type']) {\n        delete this._headers[this._loweredHeaders['content-type']];\n        delete this._loweredHeaders['content-type'];\n      }\n      if (this._headers['Content-Type'] != null) {\n        delete this._headers['Content-Type'];\n      }\n      delete this._headers['Content-Length'];\n      this.upload._reset();\n      this._finalizeHeaders();\n      this._sendHxxpRequest();\n      return;\n    }\n    this._response = response;\n    this._response.on('data', function (data) {\n      return _this._onHttpResponseData(response, data);\n    });\n    this._response.on('end', function () {\n      return _this._onHttpResponseEnd(response);\n    });\n    this._response.on('close', function () {\n      return _this._onHttpResponseClose(response);\n    });\n    this.responseUrl = this._url.href.split('#')[0];\n    this.status = response.statusCode;\n    this.statusText = http.STATUS_CODES[this.status];\n    this._parseResponseHeaders(response);\n    var lengthString = this._responseHeaders['content-length'] || '';\n    this._totalBytes = +lengthString;\n    this._lengthComputable = !!lengthString;\n    this._setReadyState(XMLHttpRequest.HEADERS_RECEIVED);\n  };\n  XMLHttpRequest.prototype._onHttpResponseData = function (response, data) {\n    if (this._response !== response) {\n      return;\n    }\n    this._responseParts.push(new Buffer(data));\n    this._loadedBytes += data.length;\n    if (this.readyState !== XMLHttpRequest.LOADING) {\n      this._setReadyState(XMLHttpRequest.LOADING);\n    }\n    this._dispatchProgress('progress');\n  };\n  XMLHttpRequest.prototype._onHttpResponseEnd = function (response) {\n    if (this._response !== response) {\n      return;\n    }\n    this._parseResponse();\n    this._request = null;\n    this._response = null;\n    this._setReadyState(XMLHttpRequest.DONE);\n    this._dispatchProgress('load');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype._onHttpResponseClose = function (response) {\n    if (this._response !== response) {\n      return;\n    }\n    var request = this._request;\n    this._setError();\n    request.abort();\n    this._setReadyState(XMLHttpRequest.DONE);\n    this._dispatchProgress('error');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype._onHttpTimeout = function (request) {\n    if (this._request !== request) {\n      return;\n    }\n    this._setError();\n    request.abort();\n    this._setReadyState(XMLHttpRequest.DONE);\n    this._dispatchProgress('timeout');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype._onHttpRequestError = function (request, error) {\n    if (this._request !== request) {\n      return;\n    }\n    this._setError();\n    request.abort();\n    this._setReadyState(XMLHttpRequest.DONE);\n    this._dispatchProgress('error');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype._dispatchProgress = function (eventType) {\n    var event = new XMLHttpRequest.ProgressEvent(eventType);\n    event.lengthComputable = this._lengthComputable;\n    event.loaded = this._loadedBytes;\n    event.total = this._totalBytes;\n    this.dispatchEvent(event);\n  };\n  XMLHttpRequest.prototype._setError = function () {\n    this._request = null;\n    this._response = null;\n    this._responseHeaders = null;\n    this._responseParts = null;\n  };\n  XMLHttpRequest.prototype._parseUrl = function (urlString, user, password) {\n    var absoluteUrl = this.nodejsBaseUrl == null ? urlString : url.resolve(this.nodejsBaseUrl, urlString);\n    var xhrUrl = url.parse(absoluteUrl, false, true);\n    xhrUrl.hash = null;\n    var _a = (xhrUrl.auth || '').split(':'),\n      xhrUser = _a[0],\n      xhrPassword = _a[1];\n    if (xhrUser || xhrPassword || user || password) {\n      xhrUrl.auth = (user || xhrUser || '') + \":\" + (password || xhrPassword || '');\n    }\n    return xhrUrl;\n  };\n  XMLHttpRequest.prototype._parseResponseHeaders = function (response) {\n    this._responseHeaders = {};\n    for (var name_1 in response.headers) {\n      var loweredName = name_1.toLowerCase();\n      if (this._privateHeaders[loweredName]) {\n        continue;\n      }\n      this._responseHeaders[loweredName] = response.headers[name_1];\n    }\n    if (this._mimeOverride != null) {\n      this._responseHeaders['content-type'] = this._mimeOverride;\n    }\n  };\n  XMLHttpRequest.prototype._parseResponse = function () {\n    var buffer = Buffer.concat(this._responseParts);\n    this._responseParts = null;\n    switch (this.responseType) {\n      case 'json':\n        this.responseText = null;\n        try {\n          this.response = JSON.parse(buffer.toString('utf-8'));\n        } catch (_a) {\n          this.response = null;\n        }\n        return;\n      case 'buffer':\n        this.responseText = null;\n        this.response = buffer;\n        return;\n      case 'arraybuffer':\n        this.responseText = null;\n        var arrayBuffer = new ArrayBuffer(buffer.length);\n        var view = new Uint8Array(arrayBuffer);\n        for (var i = 0; i < buffer.length; i++) {\n          view[i] = buffer[i];\n        }\n        this.response = arrayBuffer;\n        return;\n      case 'text':\n      default:\n        try {\n          this.responseText = buffer.toString(this._parseResponseEncoding());\n        } catch (_b) {\n          this.responseText = buffer.toString('binary');\n        }\n        this.response = this.responseText;\n    }\n  };\n  XMLHttpRequest.prototype._parseResponseEncoding = function () {\n    return /;\\s*charset=(.*)$/.exec(this._responseHeaders['content-type'] || '')[1] || 'utf-8';\n  };\n  XMLHttpRequest.ProgressEvent = progress_event_1.ProgressEvent;\n  XMLHttpRequest.InvalidStateError = errors_1.InvalidStateError;\n  XMLHttpRequest.NetworkError = errors_1.NetworkError;\n  XMLHttpRequest.SecurityError = errors_1.SecurityError;\n  XMLHttpRequest.SyntaxError = errors_1.SyntaxError;\n  XMLHttpRequest.XMLHttpRequestUpload = xml_http_request_upload_1.XMLHttpRequestUpload;\n  XMLHttpRequest.UNSENT = 0;\n  XMLHttpRequest.OPENED = 1;\n  XMLHttpRequest.HEADERS_RECEIVED = 2;\n  XMLHttpRequest.LOADING = 3;\n  XMLHttpRequest.DONE = 4;\n  XMLHttpRequest.cookieJar = Cookie.CookieJar();\n  return XMLHttpRequest;\n}(xml_http_request_event_target_1.XMLHttpRequestEventTarget);\nexports.XMLHttpRequest = XMLHttpRequest;\nXMLHttpRequest.prototype.nodejsHttpAgent = http.globalAgent;\nXMLHttpRequest.prototype.nodejsHttpsAgent = https.globalAgent;\nXMLHttpRequest.prototype.nodejsBaseUrl = null;","map":{"version":3,"mappings":"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","names":["__extends","options","_super","_this","XMLHttpRequest","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","xml_http_request_upload_1","CONNECT","TRACE","TRACK","connection","cookie","cookie2","date","dnt","expect","host","origin","referer","te","trailer","upgrade","via","os","type","arch","process","versions","node","v8","_anonymous","anon","method","url","async","user","password","toUpperCase","_restrictedMethods","SecurityError","xhrUrl","_parseUrl","readyState","_method","_url","_sync","_headers","_loweredHeaders","_mimeOverride","_setReadyState","_request","_response","status","statusText","_responseParts","_responseHeaders","_loadedBytes","_totalBytes","_lengthComputable","name","value","InvalidStateError","loweredName","toLowerCase","_restrictedHeaders","test","console","warn","toString","data","protocol","_sendFile","_sendHttp","NetworkError","abort","_setError","_dispatchProgress","hasOwnProperty","Object","keys","map","key","join","mimeType","nodejsHttpAgent","httpAgent","nodejsHttpsAgent","httpsAgent","baseUrl","parsedUrl","parse","SyntaxError","nodejsBaseUrl","prototype","nodejsSet","dispatchEvent","progress_event_1","Error","upload","_setData","_finalizeHeaders","_sendHxxpRequest","withCredentials","cookieJar","getCookies","Cookie","CookieAccessInfo","hostname","pathname","toValueString","hxxp","agent","requestMethod","request","bind","port","path","auth","headers","timeout","setTimeout","_onHttpTimeout","on","_onHttpResponse","response","_onHttpRequestError","error","_startUpload","Connection","Host","_userAgent","Referer","setCookies","indexOf","statusCode","location","_reset","_onHttpResponseData","_onHttpResponseEnd","_onHttpResponseClose","responseUrl","href","split","http","STATUS_CODES","_parseResponseHeaders","lengthString","push","Buffer","length","_parseResponse","eventType","event","ProgressEvent","lengthComputable","loaded","total","urlString","absoluteUrl","resolve","hash","xhrUser","xhrPassword","name_1","_privateHeaders","buffer","concat","responseType","responseText","JSON","_a","arrayBuffer","ArrayBuffer","view","Uint8Array","i","_parseResponseEncoding","_b","exec","errors_1","CookieJar","xml_http_request_event_target_1","exports","globalAgent","https"],"sourceRoot":"","sources":["../xml-http-request.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}