{"ast":null,"code":"\"use strict\";\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\nvar _Array$from2 = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _set = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/set\"));\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\nvar _keys2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _startsWith = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/starts-with\"));\nvar _keys3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/keys\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\nvar _from = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/from\"));\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\nvar _LocalDatastoreUtils = require(\"./LocalDatastoreUtils\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n  if (!it) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context16;\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = _sliceInstanceProperty(_context16 = Object.prototype.toString.call(o)).call(_context16, 8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from2(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\n/**\n * Provides a local datastore which can be used to store and retrieve <code>Parse.Object</code>. <br />\n * To enable this functionality, call <code>Parse.enableLocalDatastore()</code>.\n *\n * Pin object to add to local datastore\n *\n * <pre>await object.pin();</pre>\n * <pre>await object.pinWithName('pinName');</pre>\n *\n * Query pinned objects\n *\n * <pre>query.fromLocalDatastore();</pre>\n * <pre>query.fromPin();</pre>\n * <pre>query.fromPinWithName();</pre>\n *\n * <pre>const localObjects = await query.find();</pre>\n *\n * @class Parse.LocalDatastore\n * @static\n */\n\nvar LocalDatastore = {\n  isEnabled: false,\n  isSyncing: false,\n  fromPinWithName: function (name\n  /*: string*/) /*: Promise<Array<Object>>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.fromPinWithName(name);\n  },\n  pinWithName: function (name\n  /*: string*/, value\n  /*: any*/) /*: Promise<void>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.pinWithName(name, value);\n  },\n  unPinWithName: function (name\n  /*: string*/) /*: Promise<void>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.unPinWithName(name);\n  },\n  _getAllContents: function () /*: Promise<Object>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.getAllContents();\n  },\n  // Use for testing\n  _getRawStorage: function () /*: Promise<Object>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.getRawStorage();\n  },\n  _clear: function () /*: Promise<void>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n    return controller.clear();\n  },\n  // Pin the object and children recursively\n  // Saves the object and children key to Pin Name\n  _handlePinAllWithName: function (name\n  /*: string*/, objects\n  /*: Array<ParseObject>*/) /*: Promise<void>*/\n  {\n    var _this = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var _context;\n      var pinName, toPinPromises, objectKeys, _iterator, _step, parent, children, parentKey, json, objectKey, fromPinPromise, _yield$Promise$all, _yield$Promise$all2, pinned, toPin;\n      return _regenerator.default.wrap(function (_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              pinName = _this.getPinName(name);\n              toPinPromises = [];\n              objectKeys = [];\n              _iterator = _createForOfIteratorHelper(objects);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  parent = _step.value;\n                  children = _this._getChildren(parent);\n                  parentKey = _this.getKeyForObject(parent);\n                  json = parent._toFullJSON(undefined, true);\n                  if (parent._localId) {\n                    json._localId = parent._localId;\n                  }\n                  children[parentKey] = json;\n                  for (objectKey in children) {\n                    objectKeys.push(objectKey);\n                    toPinPromises.push(_this.pinWithName(objectKey, [children[objectKey]]));\n                  }\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              fromPinPromise = _this.fromPinWithName(pinName);\n              _context2.next = 8;\n              return _promise.default.all([fromPinPromise, toPinPromises]);\n            case 8:\n              _yield$Promise$all = _context2.sent;\n              _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 1);\n              pinned = _yield$Promise$all2[0];\n              toPin = (0, _toConsumableArray2.default)(new _set.default((0, _concat.default)(_context = []).call(_context, (0, _toConsumableArray2.default)(pinned || []), objectKeys)));\n              return _context2.abrupt(\"return\", _this.pinWithName(pinName, toPin));\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  // Removes object and children keys from pin name\n  // Keeps the object and children pinned\n  _handleUnPinAllWithName: function (name\n  /*: string*/, objects\n  /*: Array<ParseObject>*/) {\n    var _this2 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n      var localDatastore, pinName, promises, objectKeys, _iterator2, _step2, _objectKeys, _context3, parent, children, parentKey, pinned, _iterator3, _step3, objectKey, hasReference, key, pinnedObjects;\n      return _regenerator.default.wrap(function (_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _this2._getAllContents();\n            case 2:\n              localDatastore = _context4.sent;\n              pinName = _this2.getPinName(name);\n              promises = [];\n              objectKeys = [];\n              _iterator2 = _createForOfIteratorHelper(objects);\n              try {\n                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                  parent = _step2.value;\n                  children = _this2._getChildren(parent);\n                  parentKey = _this2.getKeyForObject(parent);\n                  (_objectKeys = objectKeys).push.apply(_objectKeys, (0, _concat.default)(_context3 = [parentKey]).call(_context3, (0, _toConsumableArray2.default)((0, _keys2.default)(children))));\n                }\n              } catch (err) {\n                _iterator2.e(err);\n              } finally {\n                _iterator2.f();\n              }\n              objectKeys = (0, _toConsumableArray2.default)(new _set.default(objectKeys));\n              pinned = localDatastore[pinName] || [];\n              pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                return !(0, _includes.default)(objectKeys).call(objectKeys, item);\n              });\n              if (pinned.length === 0) {\n                promises.push(_this2.unPinWithName(pinName));\n                delete localDatastore[pinName];\n              } else {\n                promises.push(_this2.pinWithName(pinName, pinned));\n                localDatastore[pinName] = pinned;\n              }\n              _iterator3 = _createForOfIteratorHelper(objectKeys);\n              _context4.prev = 13;\n              _iterator3.s();\n            case 15:\n              if ((_step3 = _iterator3.n()).done) {\n                _context4.next = 31;\n                break;\n              }\n              objectKey = _step3.value;\n              hasReference = false;\n              _context4.t0 = (0, _keys3.default)(_regenerator.default).call(_regenerator.default, localDatastore);\n            case 19:\n              if ((_context4.t1 = _context4.t0()).done) {\n                _context4.next = 28;\n                break;\n              }\n              key = _context4.t1.value;\n              if (!(key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX))) {\n                _context4.next = 26;\n                break;\n              }\n              pinnedObjects = localDatastore[key] || [];\n              if (!(0, _includes.default)(pinnedObjects).call(pinnedObjects, objectKey)) {\n                _context4.next = 26;\n                break;\n              }\n              hasReference = true;\n              return _context4.abrupt(\"break\", 28);\n            case 26:\n              _context4.next = 19;\n              break;\n            case 28:\n              if (!hasReference) {\n                promises.push(_this2.unPinWithName(objectKey));\n              }\n            case 29:\n              _context4.next = 15;\n              break;\n            case 31:\n              _context4.next = 36;\n              break;\n            case 33:\n              _context4.prev = 33;\n              _context4.t2 = _context4[\"catch\"](13);\n              _iterator3.e(_context4.t2);\n            case 36:\n              _context4.prev = 36;\n              _iterator3.f();\n              return _context4.finish(36);\n            case 39:\n              return _context4.abrupt(\"return\", _promise.default.all(promises));\n            case 40:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee2, null, [[13, 33, 36, 39]]);\n    }))();\n  },\n  // Retrieve all pointer fields from object recursively\n  _getChildren: function (object\n  /*: ParseObject*/) {\n    var encountered = {};\n    var json = object._toFullJSON(undefined, true);\n    for (var key in json) {\n      if (json[key] && json[key].__type && json[key].__type === 'Object') {\n        this._traverse(json[key], encountered);\n      }\n    }\n    return encountered;\n  },\n  _traverse: function (object\n  /*: any*/, encountered\n  /*: any*/) {\n    if (!object.objectId) {\n      return;\n    }\n    var objectKey = this.getKeyForObject(object);\n    if (encountered[objectKey]) {\n      return;\n    }\n    encountered[objectKey] = object;\n    for (var key in object) {\n      var json = object[key];\n      if (!object[key]) {\n        json = object;\n      }\n      if (json.__type && json.__type === 'Object') {\n        this._traverse(json, encountered);\n      }\n    }\n  },\n  // Transform keys in pin name to objects\n  _serializeObjectsFromPinName: function (name\n  /*: string*/) {\n    var _this3 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n      var _ref;\n      var localDatastore, allObjects, key, pinName, pinned, promises, objects;\n      return _regenerator.default.wrap(function (_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _this3._getAllContents();\n            case 2:\n              localDatastore = _context5.sent;\n              allObjects = [];\n              for (key in localDatastore) {\n                if ((0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.OBJECT_PREFIX)) {\n                  allObjects.push(localDatastore[key][0]);\n                }\n              }\n              if (name) {\n                _context5.next = 7;\n                break;\n              }\n              return _context5.abrupt(\"return\", allObjects);\n            case 7:\n              pinName = _this3.getPinName(name);\n              pinned = localDatastore[pinName];\n              if ((0, _isArray.default)(pinned)) {\n                _context5.next = 11;\n                break;\n              }\n              return _context5.abrupt(\"return\", []);\n            case 11:\n              promises = (0, _map.default)(pinned).call(pinned, function (objectKey) {\n                return _this3.fromPinWithName(objectKey);\n              });\n              _context5.next = 14;\n              return _promise.default.all(promises);\n            case 14:\n              objects = _context5.sent;\n              objects = (0, _concat.default)(_ref = []).apply(_ref, (0, _toConsumableArray2.default)(objects));\n              return _context5.abrupt(\"return\", (0, _filter.default)(objects).call(objects, function (object) {\n                return object != null;\n              }));\n            case 17:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  },\n  // Replaces object pointers with pinned pointers\n  // The object pointers may contain old data\n  // Uses Breadth First Search Algorithm\n  _serializeObject: function (objectKey\n  /*: string*/, localDatastore\n  /*: any*/) {\n    var _this4 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n      var LDS, root, queue, meta, uniqueId, nodeId, subTreeRoot, field, value, key, pointer;\n      return _regenerator.default.wrap(function (_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              LDS = localDatastore;\n              if (LDS) {\n                _context6.next = 5;\n                break;\n              }\n              _context6.next = 4;\n              return _this4._getAllContents();\n            case 4:\n              LDS = _context6.sent;\n            case 5:\n              if (!(!LDS[objectKey] || LDS[objectKey].length === 0)) {\n                _context6.next = 7;\n                break;\n              }\n              return _context6.abrupt(\"return\", null);\n            case 7:\n              root = LDS[objectKey][0];\n              queue = [];\n              meta = {};\n              uniqueId = 0;\n              meta[uniqueId] = root;\n              queue.push(uniqueId);\n              while (queue.length !== 0) {\n                nodeId = queue.shift();\n                subTreeRoot = meta[nodeId];\n                for (field in subTreeRoot) {\n                  value = subTreeRoot[field];\n                  if (value.__type && value.__type === 'Object') {\n                    key = _this4.getKeyForObject(value);\n                    if (LDS[key] && LDS[key].length > 0) {\n                      pointer = LDS[key][0];\n                      uniqueId++;\n                      meta[uniqueId] = pointer;\n                      subTreeRoot[field] = pointer;\n                      queue.push(uniqueId);\n                    }\n                  }\n                }\n              }\n              return _context6.abrupt(\"return\", root);\n            case 15:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  },\n  // Called when an object is save / fetched\n  // Update object pin value\n  _updateObjectIfPinned: function (object\n  /*: ParseObject*/) /*: Promise<void>*/\n  {\n    var _this5 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n      var objectKey, pinned;\n      return _regenerator.default.wrap(function (_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (_this5.isEnabled) {\n                _context7.next = 2;\n                break;\n              }\n              return _context7.abrupt(\"return\");\n            case 2:\n              objectKey = _this5.getKeyForObject(object);\n              _context7.next = 5;\n              return _this5.fromPinWithName(objectKey);\n            case 5:\n              pinned = _context7.sent;\n              if (!(!pinned || pinned.length === 0)) {\n                _context7.next = 8;\n                break;\n              }\n              return _context7.abrupt(\"return\");\n            case 8:\n              return _context7.abrupt(\"return\", _this5.pinWithName(objectKey, [object._toFullJSON()]));\n            case 9:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee5);\n    }))();\n  },\n  // Called when object is destroyed\n  // Unpin object and remove all references from pin names\n  // TODO: Destroy children?\n  _destroyObjectIfPinned: function (object\n  /*: ParseObject*/) {\n    var _this6 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n      var localDatastore, objectKey, pin, promises, key, pinned;\n      return _regenerator.default.wrap(function (_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (_this6.isEnabled) {\n                _context8.next = 2;\n                break;\n              }\n              return _context8.abrupt(\"return\");\n            case 2:\n              _context8.next = 4;\n              return _this6._getAllContents();\n            case 4:\n              localDatastore = _context8.sent;\n              objectKey = _this6.getKeyForObject(object);\n              pin = localDatastore[objectKey];\n              if (pin) {\n                _context8.next = 9;\n                break;\n              }\n              return _context8.abrupt(\"return\");\n            case 9:\n              promises = [_this6.unPinWithName(objectKey)];\n              delete localDatastore[objectKey];\n              for (key in localDatastore) {\n                if (key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX)) {\n                  pinned = localDatastore[key] || [];\n                  if ((0, _includes.default)(pinned).call(pinned, objectKey)) {\n                    pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                      return item !== objectKey;\n                    });\n                    if (pinned.length === 0) {\n                      promises.push(_this6.unPinWithName(key));\n                      delete localDatastore[key];\n                    } else {\n                      promises.push(_this6.pinWithName(key, pinned));\n                      localDatastore[key] = pinned;\n                    }\n                  }\n                }\n              }\n              return _context8.abrupt(\"return\", _promise.default.all(promises));\n            case 13:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee6);\n    }))();\n  },\n  // Update pin and references of the unsaved object\n  _updateLocalIdForObject: function (localId\n  /*: string*/, object\n  /*: ParseObject*/) {\n    var _this7 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n      var _context9, _context10;\n      var localKey, objectKey, unsaved, promises, localDatastore, key, pinned;\n      return _regenerator.default.wrap(function (_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              if (_this7.isEnabled) {\n                _context11.next = 2;\n                break;\n              }\n              return _context11.abrupt(\"return\");\n            case 2:\n              localKey = (0, _concat.default)(_context9 = (0, _concat.default)(_context10 = \"\".concat(_LocalDatastoreUtils.OBJECT_PREFIX)).call(_context10, object.className, \"_\")).call(_context9, localId);\n              objectKey = _this7.getKeyForObject(object);\n              _context11.next = 6;\n              return _this7.fromPinWithName(localKey);\n            case 6:\n              unsaved = _context11.sent;\n              if (!(!unsaved || unsaved.length === 0)) {\n                _context11.next = 9;\n                break;\n              }\n              return _context11.abrupt(\"return\");\n            case 9:\n              promises = [_this7.unPinWithName(localKey), _this7.pinWithName(objectKey, unsaved)];\n              _context11.next = 12;\n              return _this7._getAllContents();\n            case 12:\n              localDatastore = _context11.sent;\n              for (key in localDatastore) {\n                if (key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX)) {\n                  pinned = localDatastore[key] || [];\n                  if ((0, _includes.default)(pinned).call(pinned, localKey)) {\n                    pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                      return item !== localKey;\n                    });\n                    pinned.push(objectKey);\n                    promises.push(_this7.pinWithName(key, pinned));\n                    localDatastore[key] = pinned;\n                  }\n                }\n              }\n              return _context11.abrupt(\"return\", _promise.default.all(promises));\n            case 15:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee7);\n    }))();\n  },\n  /**\n   * Updates Local Datastore from Server\n   *\n   * <pre>\n   * await Parse.LocalDatastore.updateFromServer();\n   * </pre>\n   *\n   * @function updateFromServer\n   * @name Parse.LocalDatastore.updateFromServer\n   * @static\n   */\n  updateFromServer: function () {\n    var _this8 = this;\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n      var _context12;\n      var localDatastore, keys, key, pointersHash, _i, _keys, _key, _key$split, _key$split2, className, objectId, queryPromises, responses, objects, pinPromises;\n      return _regenerator.default.wrap(function (_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              if (!(!_this8.checkIfEnabled() || _this8.isSyncing)) {\n                _context13.next = 2;\n                break;\n              }\n              return _context13.abrupt(\"return\");\n            case 2:\n              _context13.next = 4;\n              return _this8._getAllContents();\n            case 4:\n              localDatastore = _context13.sent;\n              keys = [];\n              for (key in localDatastore) {\n                if ((0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.OBJECT_PREFIX)) {\n                  keys.push(key);\n                }\n              }\n              if (!(keys.length === 0)) {\n                _context13.next = 9;\n                break;\n              }\n              return _context13.abrupt(\"return\");\n            case 9:\n              _this8.isSyncing = true;\n              pointersHash = {};\n              _i = 0, _keys = keys;\n            case 12:\n              if (!(_i < _keys.length)) {\n                _context13.next = 23;\n                break;\n              }\n              _key = _keys[_i]; // Ignore the OBJECT_PREFIX\n\n              _key$split = _key.split('_'), _key$split2 = (0, _slicedToArray2.default)(_key$split, 4), className = _key$split2[2], objectId = _key$split2[3]; // User key is split into [ 'Parse', 'LDS', '', 'User', 'objectId' ]\n\n              if (_key.split('_').length === 5 && _key.split('_')[3] === 'User') {\n                className = '_User';\n                objectId = _key.split('_')[4];\n              }\n              if (!(0, _startsWith.default)(objectId).call(objectId, 'local')) {\n                _context13.next = 18;\n                break;\n              }\n              return _context13.abrupt(\"continue\", 20);\n            case 18:\n              if (!(className in pointersHash)) {\n                pointersHash[className] = new _set.default();\n              }\n              pointersHash[className].add(objectId);\n            case 20:\n              _i++;\n              _context13.next = 12;\n              break;\n            case 23:\n              queryPromises = (0, _map.default)(_context12 = (0, _keys2.default)(pointersHash)).call(_context12, function (className) {\n                var objectIds = (0, _from.default)(pointersHash[className]);\n                var query = new _ParseQuery.default(className);\n                query.limit(objectIds.length);\n                if (objectIds.length === 1) {\n                  query.equalTo('objectId', objectIds[0]);\n                } else {\n                  query.containedIn('objectId', objectIds);\n                }\n                return (0, _find.default)(query).call(query);\n              });\n              _context13.prev = 24;\n              _context13.next = 27;\n              return _promise.default.all(queryPromises);\n            case 27:\n              responses = _context13.sent;\n              objects = (0, _concat.default)([]).apply([], responses);\n              pinPromises = (0, _map.default)(objects).call(objects, function (object) {\n                var objectKey = _this8.getKeyForObject(object);\n                return _this8.pinWithName(objectKey, object._toFullJSON());\n              });\n              _context13.next = 32;\n              return _promise.default.all(pinPromises);\n            case 32:\n              _this8.isSyncing = false;\n              _context13.next = 39;\n              break;\n            case 35:\n              _context13.prev = 35;\n              _context13.t0 = _context13[\"catch\"](24); // eslint-disable-next-line no-console\n\n              console.error('Error syncing LocalDatastore: ', _context13.t0);\n              _this8.isSyncing = false;\n            case 39:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee8, null, [[24, 35]]);\n    }))();\n  },\n  getKeyForObject: function (object\n  /*: any*/) {\n    var _context14, _context15;\n    var objectId = object.objectId || object._getId();\n    return (0, _concat.default)(_context14 = (0, _concat.default)(_context15 = \"\".concat(_LocalDatastoreUtils.OBJECT_PREFIX)).call(_context15, object.className, \"_\")).call(_context14, objectId);\n  },\n  getPinName: function (pinName\n  /*: ?string*/) {\n    if (!pinName || pinName === _LocalDatastoreUtils.DEFAULT_PIN) {\n      return _LocalDatastoreUtils.DEFAULT_PIN;\n    }\n    return _LocalDatastoreUtils.PIN_PREFIX + pinName;\n  },\n  checkIfEnabled: function () {\n    if (!this.isEnabled) {\n      // eslint-disable-next-line no-console\n      console.error('Parse.enableLocalDatastore() must be called first');\n    }\n    return this.isEnabled;\n  }\n};\nmodule.exports = LocalDatastore;\n_CoreManager.default.setLocalDatastoreController(require('./LocalDatastoreController'));\n_CoreManager.default.setLocalDatastore(LocalDatastore);","map":{"version":3,"names":["_sliceInstanceProperty","require","_Array$from2","_Symbol","_getIteratorMethod","_Array$isArray2","_interopRequireDefault","_regenerator","_promise","_set","_concat","_filter","_includes","_keys2","_startsWith","_keys3","_isArray","_map","_from","_find","_toConsumableArray2","_slicedToArray2","_asyncToGenerator2","_CoreManager","_ParseQuery","_LocalDatastoreUtils","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","_context16","_arrayLikeToArray","Object","prototype","toString","constructor","name","test","arr","len","arr2","Array","LocalDatastore","isEnabled","isSyncing","fromPinWithName","controller","default","getLocalDatastoreController","pinWithName","unPinWithName","_getAllContents","getAllContents","_getRawStorage","getRawStorage","_clear","clear","_handlePinAllWithName","objects","_this","mark","_callee","_context","pinName","toPinPromises","objectKeys","_iterator","_step","parent","children","parentKey","json","objectKey","fromPinPromise","_yield$Promise$all","_yield$Promise$all2","pinned","toPin","wrap","_context2","prev","getPinName","_getChildren","getKeyForObject","_toFullJSON","undefined","_localId","push","all","sent","abrupt","stop","_handleUnPinAllWithName","_this2","_callee2","localDatastore","promises","_iterator2","_step2","_objectKeys","_context3","_iterator3","_step3","hasReference","key","pinnedObjects","_context4","apply","item","t0","t1","DEFAULT_PIN","PIN_PREFIX","t2","finish","object","encountered","__type","_traverse","objectId","_serializeObjectsFromPinName","_this3","_callee3","_ref","allObjects","_context5","OBJECT_PREFIX","_serializeObject","_this4","_callee4","LDS","root","queue","meta","uniqueId","nodeId","subTreeRoot","field","pointer","_context6","shift","_updateObjectIfPinned","_this5","_callee5","_context7","_destroyObjectIfPinned","_this6","_callee6","pin","_context8","_updateLocalIdForObject","localId","_this7","_callee7","_context9","_context10","localKey","unsaved","_context11","concat","className","updateFromServer","_this8","_callee8","_context12","keys","pointersHash","_i","_keys","_key","_key$split","_key$split2","queryPromises","responses","pinPromises","_context13","checkIfEnabled","split","add","objectIds","query","limit","equalTo","containedIn","console","error","_context14","_context15","_getId","module","exports","setLocalDatastoreController","setLocalDatastore"],"sources":["/Users/shivamsoni/Desktop/router/pingspong/Ping-Pong/node_modules/moralis/lib/browser/LocalDatastore.js"],"sourcesContent":["\"use strict\";\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _Array$from2 = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _set = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/set\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\n\nvar _keys2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _startsWith = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/starts-with\"));\n\nvar _keys3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/keys\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _from = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/from\"));\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _LocalDatastoreUtils = require(\"./LocalDatastoreUtils\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n\n  if (!it) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context16;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context16 = Object.prototype.toString.call(o)).call(_context16, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from2(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n/**\n * Provides a local datastore which can be used to store and retrieve <code>Parse.Object</code>. <br />\n * To enable this functionality, call <code>Parse.enableLocalDatastore()</code>.\n *\n * Pin object to add to local datastore\n *\n * <pre>await object.pin();</pre>\n * <pre>await object.pinWithName('pinName');</pre>\n *\n * Query pinned objects\n *\n * <pre>query.fromLocalDatastore();</pre>\n * <pre>query.fromPin();</pre>\n * <pre>query.fromPinWithName();</pre>\n *\n * <pre>const localObjects = await query.find();</pre>\n *\n * @class Parse.LocalDatastore\n * @static\n */\n\n\nvar LocalDatastore = {\n  isEnabled: false,\n  isSyncing: false,\n  fromPinWithName: function (name\n  /*: string*/\n  )\n  /*: Promise<Array<Object>>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n\n    return controller.fromPinWithName(name);\n  },\n  pinWithName: function (name\n  /*: string*/\n  , value\n  /*: any*/\n  )\n  /*: Promise<void>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n\n    return controller.pinWithName(name, value);\n  },\n  unPinWithName: function (name\n  /*: string*/\n  )\n  /*: Promise<void>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n\n    return controller.unPinWithName(name);\n  },\n  _getAllContents: function ()\n  /*: Promise<Object>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n\n    return controller.getAllContents();\n  },\n  // Use for testing\n  _getRawStorage: function ()\n  /*: Promise<Object>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n\n    return controller.getRawStorage();\n  },\n  _clear: function ()\n  /*: Promise<void>*/\n  {\n    var controller = _CoreManager.default.getLocalDatastoreController();\n\n    return controller.clear();\n  },\n  // Pin the object and children recursively\n  // Saves the object and children key to Pin Name\n  _handlePinAllWithName: function (name\n  /*: string*/\n  , objects\n  /*: Array<ParseObject>*/\n  )\n  /*: Promise<void>*/\n  {\n    var _this = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var _context;\n\n      var pinName, toPinPromises, objectKeys, _iterator, _step, parent, children, parentKey, json, objectKey, fromPinPromise, _yield$Promise$all, _yield$Promise$all2, pinned, toPin;\n\n      return _regenerator.default.wrap(function (_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              pinName = _this.getPinName(name);\n              toPinPromises = [];\n              objectKeys = [];\n              _iterator = _createForOfIteratorHelper(objects);\n\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  parent = _step.value;\n                  children = _this._getChildren(parent);\n                  parentKey = _this.getKeyForObject(parent);\n                  json = parent._toFullJSON(undefined, true);\n\n                  if (parent._localId) {\n                    json._localId = parent._localId;\n                  }\n\n                  children[parentKey] = json;\n\n                  for (objectKey in children) {\n                    objectKeys.push(objectKey);\n                    toPinPromises.push(_this.pinWithName(objectKey, [children[objectKey]]));\n                  }\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n\n              fromPinPromise = _this.fromPinWithName(pinName);\n              _context2.next = 8;\n              return _promise.default.all([fromPinPromise, toPinPromises]);\n\n            case 8:\n              _yield$Promise$all = _context2.sent;\n              _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 1);\n              pinned = _yield$Promise$all2[0];\n              toPin = (0, _toConsumableArray2.default)(new _set.default((0, _concat.default)(_context = []).call(_context, (0, _toConsumableArray2.default)(pinned || []), objectKeys)));\n              return _context2.abrupt(\"return\", _this.pinWithName(pinName, toPin));\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  // Removes object and children keys from pin name\n  // Keeps the object and children pinned\n  _handleUnPinAllWithName: function (name\n  /*: string*/\n  , objects\n  /*: Array<ParseObject>*/\n  ) {\n    var _this2 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n      var localDatastore, pinName, promises, objectKeys, _iterator2, _step2, _objectKeys, _context3, parent, children, parentKey, pinned, _iterator3, _step3, objectKey, hasReference, key, pinnedObjects;\n\n      return _regenerator.default.wrap(function (_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _this2._getAllContents();\n\n            case 2:\n              localDatastore = _context4.sent;\n              pinName = _this2.getPinName(name);\n              promises = [];\n              objectKeys = [];\n              _iterator2 = _createForOfIteratorHelper(objects);\n\n              try {\n                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                  parent = _step2.value;\n                  children = _this2._getChildren(parent);\n                  parentKey = _this2.getKeyForObject(parent);\n\n                  (_objectKeys = objectKeys).push.apply(_objectKeys, (0, _concat.default)(_context3 = [parentKey]).call(_context3, (0, _toConsumableArray2.default)((0, _keys2.default)(children))));\n                }\n              } catch (err) {\n                _iterator2.e(err);\n              } finally {\n                _iterator2.f();\n              }\n\n              objectKeys = (0, _toConsumableArray2.default)(new _set.default(objectKeys));\n              pinned = localDatastore[pinName] || [];\n              pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                return !(0, _includes.default)(objectKeys).call(objectKeys, item);\n              });\n\n              if (pinned.length === 0) {\n                promises.push(_this2.unPinWithName(pinName));\n                delete localDatastore[pinName];\n              } else {\n                promises.push(_this2.pinWithName(pinName, pinned));\n                localDatastore[pinName] = pinned;\n              }\n\n              _iterator3 = _createForOfIteratorHelper(objectKeys);\n              _context4.prev = 13;\n\n              _iterator3.s();\n\n            case 15:\n              if ((_step3 = _iterator3.n()).done) {\n                _context4.next = 31;\n                break;\n              }\n\n              objectKey = _step3.value;\n              hasReference = false;\n              _context4.t0 = (0, _keys3.default)(_regenerator.default).call(_regenerator.default, localDatastore);\n\n            case 19:\n              if ((_context4.t1 = _context4.t0()).done) {\n                _context4.next = 28;\n                break;\n              }\n\n              key = _context4.t1.value;\n\n              if (!(key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX))) {\n                _context4.next = 26;\n                break;\n              }\n\n              pinnedObjects = localDatastore[key] || [];\n\n              if (!(0, _includes.default)(pinnedObjects).call(pinnedObjects, objectKey)) {\n                _context4.next = 26;\n                break;\n              }\n\n              hasReference = true;\n              return _context4.abrupt(\"break\", 28);\n\n            case 26:\n              _context4.next = 19;\n              break;\n\n            case 28:\n              if (!hasReference) {\n                promises.push(_this2.unPinWithName(objectKey));\n              }\n\n            case 29:\n              _context4.next = 15;\n              break;\n\n            case 31:\n              _context4.next = 36;\n              break;\n\n            case 33:\n              _context4.prev = 33;\n              _context4.t2 = _context4[\"catch\"](13);\n\n              _iterator3.e(_context4.t2);\n\n            case 36:\n              _context4.prev = 36;\n\n              _iterator3.f();\n\n              return _context4.finish(36);\n\n            case 39:\n              return _context4.abrupt(\"return\", _promise.default.all(promises));\n\n            case 40:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee2, null, [[13, 33, 36, 39]]);\n    }))();\n  },\n  // Retrieve all pointer fields from object recursively\n  _getChildren: function (object\n  /*: ParseObject*/\n  ) {\n    var encountered = {};\n\n    var json = object._toFullJSON(undefined, true);\n\n    for (var key in json) {\n      if (json[key] && json[key].__type && json[key].__type === 'Object') {\n        this._traverse(json[key], encountered);\n      }\n    }\n\n    return encountered;\n  },\n  _traverse: function (object\n  /*: any*/\n  , encountered\n  /*: any*/\n  ) {\n    if (!object.objectId) {\n      return;\n    }\n\n    var objectKey = this.getKeyForObject(object);\n\n    if (encountered[objectKey]) {\n      return;\n    }\n\n    encountered[objectKey] = object;\n\n    for (var key in object) {\n      var json = object[key];\n\n      if (!object[key]) {\n        json = object;\n      }\n\n      if (json.__type && json.__type === 'Object') {\n        this._traverse(json, encountered);\n      }\n    }\n  },\n  // Transform keys in pin name to objects\n  _serializeObjectsFromPinName: function (name\n  /*: string*/\n  ) {\n    var _this3 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n      var _ref;\n\n      var localDatastore, allObjects, key, pinName, pinned, promises, objects;\n      return _regenerator.default.wrap(function (_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _this3._getAllContents();\n\n            case 2:\n              localDatastore = _context5.sent;\n              allObjects = [];\n\n              for (key in localDatastore) {\n                if ((0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.OBJECT_PREFIX)) {\n                  allObjects.push(localDatastore[key][0]);\n                }\n              }\n\n              if (name) {\n                _context5.next = 7;\n                break;\n              }\n\n              return _context5.abrupt(\"return\", allObjects);\n\n            case 7:\n              pinName = _this3.getPinName(name);\n              pinned = localDatastore[pinName];\n\n              if ((0, _isArray.default)(pinned)) {\n                _context5.next = 11;\n                break;\n              }\n\n              return _context5.abrupt(\"return\", []);\n\n            case 11:\n              promises = (0, _map.default)(pinned).call(pinned, function (objectKey) {\n                return _this3.fromPinWithName(objectKey);\n              });\n              _context5.next = 14;\n              return _promise.default.all(promises);\n\n            case 14:\n              objects = _context5.sent;\n              objects = (0, _concat.default)(_ref = []).apply(_ref, (0, _toConsumableArray2.default)(objects));\n              return _context5.abrupt(\"return\", (0, _filter.default)(objects).call(objects, function (object) {\n                return object != null;\n              }));\n\n            case 17:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  },\n  // Replaces object pointers with pinned pointers\n  // The object pointers may contain old data\n  // Uses Breadth First Search Algorithm\n  _serializeObject: function (objectKey\n  /*: string*/\n  , localDatastore\n  /*: any*/\n  ) {\n    var _this4 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n      var LDS, root, queue, meta, uniqueId, nodeId, subTreeRoot, field, value, key, pointer;\n      return _regenerator.default.wrap(function (_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              LDS = localDatastore;\n\n              if (LDS) {\n                _context6.next = 5;\n                break;\n              }\n\n              _context6.next = 4;\n              return _this4._getAllContents();\n\n            case 4:\n              LDS = _context6.sent;\n\n            case 5:\n              if (!(!LDS[objectKey] || LDS[objectKey].length === 0)) {\n                _context6.next = 7;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", null);\n\n            case 7:\n              root = LDS[objectKey][0];\n              queue = [];\n              meta = {};\n              uniqueId = 0;\n              meta[uniqueId] = root;\n              queue.push(uniqueId);\n\n              while (queue.length !== 0) {\n                nodeId = queue.shift();\n                subTreeRoot = meta[nodeId];\n\n                for (field in subTreeRoot) {\n                  value = subTreeRoot[field];\n\n                  if (value.__type && value.__type === 'Object') {\n                    key = _this4.getKeyForObject(value);\n\n                    if (LDS[key] && LDS[key].length > 0) {\n                      pointer = LDS[key][0];\n                      uniqueId++;\n                      meta[uniqueId] = pointer;\n                      subTreeRoot[field] = pointer;\n                      queue.push(uniqueId);\n                    }\n                  }\n                }\n              }\n\n              return _context6.abrupt(\"return\", root);\n\n            case 15:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  },\n  // Called when an object is save / fetched\n  // Update object pin value\n  _updateObjectIfPinned: function (object\n  /*: ParseObject*/\n  )\n  /*: Promise<void>*/\n  {\n    var _this5 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n      var objectKey, pinned;\n      return _regenerator.default.wrap(function (_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (_this5.isEnabled) {\n                _context7.next = 2;\n                break;\n              }\n\n              return _context7.abrupt(\"return\");\n\n            case 2:\n              objectKey = _this5.getKeyForObject(object);\n              _context7.next = 5;\n              return _this5.fromPinWithName(objectKey);\n\n            case 5:\n              pinned = _context7.sent;\n\n              if (!(!pinned || pinned.length === 0)) {\n                _context7.next = 8;\n                break;\n              }\n\n              return _context7.abrupt(\"return\");\n\n            case 8:\n              return _context7.abrupt(\"return\", _this5.pinWithName(objectKey, [object._toFullJSON()]));\n\n            case 9:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee5);\n    }))();\n  },\n  // Called when object is destroyed\n  // Unpin object and remove all references from pin names\n  // TODO: Destroy children?\n  _destroyObjectIfPinned: function (object\n  /*: ParseObject*/\n  ) {\n    var _this6 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n      var localDatastore, objectKey, pin, promises, key, pinned;\n      return _regenerator.default.wrap(function (_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (_this6.isEnabled) {\n                _context8.next = 2;\n                break;\n              }\n\n              return _context8.abrupt(\"return\");\n\n            case 2:\n              _context8.next = 4;\n              return _this6._getAllContents();\n\n            case 4:\n              localDatastore = _context8.sent;\n              objectKey = _this6.getKeyForObject(object);\n              pin = localDatastore[objectKey];\n\n              if (pin) {\n                _context8.next = 9;\n                break;\n              }\n\n              return _context8.abrupt(\"return\");\n\n            case 9:\n              promises = [_this6.unPinWithName(objectKey)];\n              delete localDatastore[objectKey];\n\n              for (key in localDatastore) {\n                if (key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX)) {\n                  pinned = localDatastore[key] || [];\n\n                  if ((0, _includes.default)(pinned).call(pinned, objectKey)) {\n                    pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                      return item !== objectKey;\n                    });\n\n                    if (pinned.length === 0) {\n                      promises.push(_this6.unPinWithName(key));\n                      delete localDatastore[key];\n                    } else {\n                      promises.push(_this6.pinWithName(key, pinned));\n                      localDatastore[key] = pinned;\n                    }\n                  }\n                }\n              }\n\n              return _context8.abrupt(\"return\", _promise.default.all(promises));\n\n            case 13:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee6);\n    }))();\n  },\n  // Update pin and references of the unsaved object\n  _updateLocalIdForObject: function (localId\n  /*: string*/\n  , object\n  /*: ParseObject*/\n  ) {\n    var _this7 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n      var _context9, _context10;\n\n      var localKey, objectKey, unsaved, promises, localDatastore, key, pinned;\n      return _regenerator.default.wrap(function (_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              if (_this7.isEnabled) {\n                _context11.next = 2;\n                break;\n              }\n\n              return _context11.abrupt(\"return\");\n\n            case 2:\n              localKey = (0, _concat.default)(_context9 = (0, _concat.default)(_context10 = \"\".concat(_LocalDatastoreUtils.OBJECT_PREFIX)).call(_context10, object.className, \"_\")).call(_context9, localId);\n              objectKey = _this7.getKeyForObject(object);\n              _context11.next = 6;\n              return _this7.fromPinWithName(localKey);\n\n            case 6:\n              unsaved = _context11.sent;\n\n              if (!(!unsaved || unsaved.length === 0)) {\n                _context11.next = 9;\n                break;\n              }\n\n              return _context11.abrupt(\"return\");\n\n            case 9:\n              promises = [_this7.unPinWithName(localKey), _this7.pinWithName(objectKey, unsaved)];\n              _context11.next = 12;\n              return _this7._getAllContents();\n\n            case 12:\n              localDatastore = _context11.sent;\n\n              for (key in localDatastore) {\n                if (key === _LocalDatastoreUtils.DEFAULT_PIN || (0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.PIN_PREFIX)) {\n                  pinned = localDatastore[key] || [];\n\n                  if ((0, _includes.default)(pinned).call(pinned, localKey)) {\n                    pinned = (0, _filter.default)(pinned).call(pinned, function (item) {\n                      return item !== localKey;\n                    });\n                    pinned.push(objectKey);\n                    promises.push(_this7.pinWithName(key, pinned));\n                    localDatastore[key] = pinned;\n                  }\n                }\n              }\n\n              return _context11.abrupt(\"return\", _promise.default.all(promises));\n\n            case 15:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee7);\n    }))();\n  },\n\n  /**\n   * Updates Local Datastore from Server\n   *\n   * <pre>\n   * await Parse.LocalDatastore.updateFromServer();\n   * </pre>\n   *\n   * @function updateFromServer\n   * @name Parse.LocalDatastore.updateFromServer\n   * @static\n   */\n  updateFromServer: function () {\n    var _this8 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n      var _context12;\n\n      var localDatastore, keys, key, pointersHash, _i, _keys, _key, _key$split, _key$split2, className, objectId, queryPromises, responses, objects, pinPromises;\n\n      return _regenerator.default.wrap(function (_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              if (!(!_this8.checkIfEnabled() || _this8.isSyncing)) {\n                _context13.next = 2;\n                break;\n              }\n\n              return _context13.abrupt(\"return\");\n\n            case 2:\n              _context13.next = 4;\n              return _this8._getAllContents();\n\n            case 4:\n              localDatastore = _context13.sent;\n              keys = [];\n\n              for (key in localDatastore) {\n                if ((0, _startsWith.default)(key).call(key, _LocalDatastoreUtils.OBJECT_PREFIX)) {\n                  keys.push(key);\n                }\n              }\n\n              if (!(keys.length === 0)) {\n                _context13.next = 9;\n                break;\n              }\n\n              return _context13.abrupt(\"return\");\n\n            case 9:\n              _this8.isSyncing = true;\n              pointersHash = {};\n              _i = 0, _keys = keys;\n\n            case 12:\n              if (!(_i < _keys.length)) {\n                _context13.next = 23;\n                break;\n              }\n\n              _key = _keys[_i]; // Ignore the OBJECT_PREFIX\n\n              _key$split = _key.split('_'), _key$split2 = (0, _slicedToArray2.default)(_key$split, 4), className = _key$split2[2], objectId = _key$split2[3]; // User key is split into [ 'Parse', 'LDS', '', 'User', 'objectId' ]\n\n              if (_key.split('_').length === 5 && _key.split('_')[3] === 'User') {\n                className = '_User';\n                objectId = _key.split('_')[4];\n              }\n\n              if (!(0, _startsWith.default)(objectId).call(objectId, 'local')) {\n                _context13.next = 18;\n                break;\n              }\n\n              return _context13.abrupt(\"continue\", 20);\n\n            case 18:\n              if (!(className in pointersHash)) {\n                pointersHash[className] = new _set.default();\n              }\n\n              pointersHash[className].add(objectId);\n\n            case 20:\n              _i++;\n              _context13.next = 12;\n              break;\n\n            case 23:\n              queryPromises = (0, _map.default)(_context12 = (0, _keys2.default)(pointersHash)).call(_context12, function (className) {\n                var objectIds = (0, _from.default)(pointersHash[className]);\n                var query = new _ParseQuery.default(className);\n                query.limit(objectIds.length);\n\n                if (objectIds.length === 1) {\n                  query.equalTo('objectId', objectIds[0]);\n                } else {\n                  query.containedIn('objectId', objectIds);\n                }\n\n                return (0, _find.default)(query).call(query);\n              });\n              _context13.prev = 24;\n              _context13.next = 27;\n              return _promise.default.all(queryPromises);\n\n            case 27:\n              responses = _context13.sent;\n              objects = (0, _concat.default)([]).apply([], responses);\n              pinPromises = (0, _map.default)(objects).call(objects, function (object) {\n                var objectKey = _this8.getKeyForObject(object);\n\n                return _this8.pinWithName(objectKey, object._toFullJSON());\n              });\n              _context13.next = 32;\n              return _promise.default.all(pinPromises);\n\n            case 32:\n              _this8.isSyncing = false;\n              _context13.next = 39;\n              break;\n\n            case 35:\n              _context13.prev = 35;\n              _context13.t0 = _context13[\"catch\"](24); // eslint-disable-next-line no-console\n\n              console.error('Error syncing LocalDatastore: ', _context13.t0);\n              _this8.isSyncing = false;\n\n            case 39:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee8, null, [[24, 35]]);\n    }))();\n  },\n  getKeyForObject: function (object\n  /*: any*/\n  ) {\n    var _context14, _context15;\n\n    var objectId = object.objectId || object._getId();\n\n    return (0, _concat.default)(_context14 = (0, _concat.default)(_context15 = \"\".concat(_LocalDatastoreUtils.OBJECT_PREFIX)).call(_context15, object.className, \"_\")).call(_context14, objectId);\n  },\n  getPinName: function (pinName\n  /*: ?string*/\n  ) {\n    if (!pinName || pinName === _LocalDatastoreUtils.DEFAULT_PIN) {\n      return _LocalDatastoreUtils.DEFAULT_PIN;\n    }\n\n    return _LocalDatastoreUtils.PIN_PREFIX + pinName;\n  },\n  checkIfEnabled: function () {\n    if (!this.isEnabled) {\n      // eslint-disable-next-line no-console\n      console.error('Parse.enableLocalDatastore() must be called first');\n    }\n\n    return this.isEnabled;\n  }\n};\nmodule.exports = LocalDatastore;\n\n_CoreManager.default.setLocalDatastoreController(require('./LocalDatastoreController'));\n\n_CoreManager.default.setLocalDatastore(LocalDatastore);"],"mappings":"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"},"metadata":{},"sourceType":"script"}