{"ast":null,"code":"'use strict';\n\nconst uuid = require('uuid').v4;\n\n/**\n *  Generates a JSON-RPC 1.0 or 2.0 request\n *  @param {String} method Name of method to call\n *  @param {Array|Object} params Array of parameters passed to the method as specified, or an object of parameter names and corresponding value\n *  @param {String|Number|null} [id] Request ID can be a string, number, null for explicit notification or left out for automatic generation\n *  @param {Object} [options]\n *  @param {Number} [options.version=2] JSON-RPC version to use (1 or 2)\n *  @param {Boolean} [options.notificationIdNull=false] When true, version 2 requests will set id to null instead of omitting it\n *  @param {Function} [options.generator] Passed the request, and the options object and is expected to return a request ID\n *  @throws {TypeError} If any of the parameters are invalid\n *  @return {Object} A JSON-RPC 1.0 or 2.0 request\n *  @memberOf Utils\n */\nconst generateRequest = function (method, params, id, options) {\n  if (typeof method !== 'string') {\n    throw new TypeError(method + ' must be a string');\n  }\n  options = options || {};\n\n  // check valid version provided\n  const version = typeof options.version === 'number' ? options.version : 2;\n  if (version !== 1 && version !== 2) {\n    throw new TypeError(version + ' must be 1 or 2');\n  }\n  const request = {\n    method: method\n  };\n  if (version === 2) {\n    request.jsonrpc = '2.0';\n  }\n  if (params) {\n    // params given, but invalid?\n    if (typeof params !== 'object' && !Array.isArray(params)) {\n      throw new TypeError(params + ' must be an object, array or omitted');\n    }\n    request.params = params;\n  }\n\n  // if id was left out, generate one (null means explicit notification)\n  if (typeof id === 'undefined') {\n    const generator = typeof options.generator === 'function' ? options.generator : function () {\n      return uuid();\n    };\n    request.id = generator(request, options);\n  } else if (version === 2 && id === null) {\n    // we have a version 2 notification\n    if (options.notificationIdNull) {\n      request.id = null; // id will not be set at all unless option provided\n    }\n  } else {\n    request.id = id;\n  }\n  return request;\n};\nmodule.exports = generateRequest;","map":{"version":3,"names":["uuid","require","v4","generateRequest","method","params","id","options","TypeError","version","request","jsonrpc","Array","isArray","generator","notificationIdNull","module","exports"],"sources":["/Users/shivamsoni/Desktop/router/pingspong/Ping-Pong/node_modules/jayson/lib/generateRequest.js"],"sourcesContent":["'use strict';\n\nconst uuid = require('uuid').v4;\n\n/**\n *  Generates a JSON-RPC 1.0 or 2.0 request\n *  @param {String} method Name of method to call\n *  @param {Array|Object} params Array of parameters passed to the method as specified, or an object of parameter names and corresponding value\n *  @param {String|Number|null} [id] Request ID can be a string, number, null for explicit notification or left out for automatic generation\n *  @param {Object} [options]\n *  @param {Number} [options.version=2] JSON-RPC version to use (1 or 2)\n *  @param {Boolean} [options.notificationIdNull=false] When true, version 2 requests will set id to null instead of omitting it\n *  @param {Function} [options.generator] Passed the request, and the options object and is expected to return a request ID\n *  @throws {TypeError} If any of the parameters are invalid\n *  @return {Object} A JSON-RPC 1.0 or 2.0 request\n *  @memberOf Utils\n */\nconst generateRequest = function(method, params, id, options) {\n  if(typeof method !== 'string') {\n    throw new TypeError(method + ' must be a string');\n  }\n\n  options = options || {};\n\n  // check valid version provided\n  const version = typeof options.version === 'number' ? options.version : 2;\n  if (version !== 1 && version !== 2) {\n    throw new TypeError(version + ' must be 1 or 2');\n  }\n\n  const request = {\n    method: method\n  };\n\n  if(version === 2) {\n    request.jsonrpc = '2.0';\n  }\n\n  if(params) {\n    // params given, but invalid?\n    if(typeof params !== 'object' && !Array.isArray(params)) {\n      throw new TypeError(params + ' must be an object, array or omitted');\n    }\n    request.params = params;\n  }\n\n  // if id was left out, generate one (null means explicit notification)\n  if(typeof(id) === 'undefined') {\n    const generator = typeof options.generator === 'function' ? options.generator : function() { return uuid(); };\n    request.id = generator(request, options);\n  } else if (version === 2 && id === null) {\n    // we have a version 2 notification\n    if (options.notificationIdNull) {\n      request.id = null; // id will not be set at all unless option provided\n    }\n  } else {\n    request.id = id;\n  }\n\n  return request;\n};\n\nmodule.exports = generateRequest;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC,CAACC,EAAE;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,eAAe,GAAG,UAASC,MAAM,EAAEC,MAAM,EAAEC,EAAE,EAAEC,OAAO,EAAE;EAC5D,IAAG,OAAOH,MAAM,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAII,SAAS,CAACJ,MAAM,GAAG,mBAAmB,CAAC;EACnD;EAEAG,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;;EAEvB;EACA,MAAME,OAAO,GAAG,OAAOF,OAAO,CAACE,OAAO,KAAK,QAAQ,GAAGF,OAAO,CAACE,OAAO,GAAG,CAAC;EACzE,IAAIA,OAAO,KAAK,CAAC,IAAIA,OAAO,KAAK,CAAC,EAAE;IAClC,MAAM,IAAID,SAAS,CAACC,OAAO,GAAG,iBAAiB,CAAC;EAClD;EAEA,MAAMC,OAAO,GAAG;IACdN,MAAM,EAAEA;EACV,CAAC;EAED,IAAGK,OAAO,KAAK,CAAC,EAAE;IAChBC,OAAO,CAACC,OAAO,GAAG,KAAK;EACzB;EAEA,IAAGN,MAAM,EAAE;IACT;IACA,IAAG,OAAOA,MAAM,KAAK,QAAQ,IAAI,CAACO,KAAK,CAACC,OAAO,CAACR,MAAM,CAAC,EAAE;MACvD,MAAM,IAAIG,SAAS,CAACH,MAAM,GAAG,sCAAsC,CAAC;IACtE;IACAK,OAAO,CAACL,MAAM,GAAGA,MAAM;EACzB;;EAEA;EACA,IAAG,OAAOC,EAAG,KAAK,WAAW,EAAE;IAC7B,MAAMQ,SAAS,GAAG,OAAOP,OAAO,CAACO,SAAS,KAAK,UAAU,GAAGP,OAAO,CAACO,SAAS,GAAG,YAAW;MAAE,OAAOd,IAAI,EAAE;IAAE,CAAC;IAC7GU,OAAO,CAACJ,EAAE,GAAGQ,SAAS,CAACJ,OAAO,EAAEH,OAAO,CAAC;EAC1C,CAAC,MAAM,IAAIE,OAAO,KAAK,CAAC,IAAIH,EAAE,KAAK,IAAI,EAAE;IACvC;IACA,IAAIC,OAAO,CAACQ,kBAAkB,EAAE;MAC9BL,OAAO,CAACJ,EAAE,GAAG,IAAI,CAAC,CAAC;IACrB;EACF,CAAC,MAAM;IACLI,OAAO,CAACJ,EAAE,GAAGA,EAAE;EACjB;EAEA,OAAOI,OAAO;AAChB,CAAC;AAEDM,MAAM,CAACC,OAAO,GAAGd,eAAe"},"metadata":{},"sourceType":"script"}