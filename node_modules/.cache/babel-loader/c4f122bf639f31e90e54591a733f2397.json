{"ast":null,"code":"const BaseFilter = require('./base-filter');\nconst getBlocksForRange = require('./getBlocksForRange');\nconst {\n  incrementHexInt\n} = require('./hexUtils');\nclass BlockFilter extends BaseFilter {\n  constructor(_ref) {\n    let {\n      provider,\n      params\n    } = _ref;\n    super();\n    this.type = 'block';\n    this.provider = provider;\n  }\n  async update(_ref2) {\n    let {\n      oldBlock,\n      newBlock\n    } = _ref2;\n    const toBlock = newBlock;\n    const fromBlock = incrementHexInt(oldBlock);\n    const blockBodies = await getBlocksForRange({\n      provider: this.provider,\n      fromBlock,\n      toBlock\n    });\n    const blockHashes = blockBodies.map(block => block.hash);\n    this.addResults(blockHashes);\n  }\n}\nmodule.exports = BlockFilter;","map":{"version":3,"names":["BaseFilter","require","getBlocksForRange","incrementHexInt","BlockFilter","constructor","provider","params","type","update","oldBlock","newBlock","toBlock","fromBlock","blockBodies","blockHashes","map","block","hash","addResults","module","exports"],"sources":["/Users/shivamsoni/Desktop/router/pingspong/Ping-Pong/node_modules/eth-json-rpc-filters/block-filter.js"],"sourcesContent":["const BaseFilter = require('./base-filter')\nconst getBlocksForRange = require('./getBlocksForRange')\nconst { incrementHexInt } = require('./hexUtils')\n\nclass BlockFilter extends BaseFilter {\n\n  constructor ({ provider, params }) {\n    super()\n    this.type = 'block'\n    this.provider = provider\n  }\n\n  async update ({ oldBlock, newBlock }) {\n    const toBlock = newBlock\n    const fromBlock = incrementHexInt(oldBlock)\n    const blockBodies = await getBlocksForRange({ provider: this.provider, fromBlock, toBlock })\n    const blockHashes = blockBodies.map((block) => block.hash)\n    this.addResults(blockHashes)\n  }\n\n}\n\nmodule.exports = BlockFilter\n"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAe,CAAC;AAC3C,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,qBAAqB,CAAC;AACxD,MAAM;EAAEE;AAAgB,CAAC,GAAGF,OAAO,CAAC,YAAY,CAAC;AAEjD,MAAMG,WAAW,SAASJ,UAAU,CAAC;EAEnCK,WAAW,OAAwB;IAAA,IAAtB;MAAEC,QAAQ;MAAEC;IAAO,CAAC;IAC/B,KAAK,EAAE;IACP,IAAI,CAACC,IAAI,GAAG,OAAO;IACnB,IAAI,CAACF,QAAQ,GAAGA,QAAQ;EAC1B;EAEA,MAAMG,MAAM,QAA0B;IAAA,IAAxB;MAAEC,QAAQ;MAAEC;IAAS,CAAC;IAClC,MAAMC,OAAO,GAAGD,QAAQ;IACxB,MAAME,SAAS,GAAGV,eAAe,CAACO,QAAQ,CAAC;IAC3C,MAAMI,WAAW,GAAG,MAAMZ,iBAAiB,CAAC;MAAEI,QAAQ,EAAE,IAAI,CAACA,QAAQ;MAAEO,SAAS;MAAED;IAAQ,CAAC,CAAC;IAC5F,MAAMG,WAAW,GAAGD,WAAW,CAACE,GAAG,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;IAC1D,IAAI,CAACC,UAAU,CAACJ,WAAW,CAAC;EAC9B;AAEF;AAEAK,MAAM,CAACC,OAAO,GAAGjB,WAAW"},"metadata":{},"sourceType":"script"}