{"ast":null,"code":"\"use strict\";\n\nvar _typeof3 = require(\"@babel/runtime-corejs3/helpers/typeof\");\nvar _Object$keys2 = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\");\nvar _filterInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\");\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\nvar _forEachInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\");\nvar _Object$getOwnPropertyDescriptors = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\");\nvar _Object$defineProperties = require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\");\nvar _Object$defineProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\nvar _WeakMap = require(\"@babel/runtime-corejs3/core-js-stable/weak-map\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty2(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/get-prototype-of\"));\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/create\"));\nvar _defineProperty3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\"));\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nvar _canBeSerialized = _interopRequireDefault(require(\"./canBeSerialized\"));\nvar _decode = _interopRequireDefault(require(\"./decode\"));\nvar _encode = _interopRequireDefault(require(\"./encode\"));\nvar _escape2 = _interopRequireDefault(require(\"./escape\"));\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\nvar _parseDate = _interopRequireDefault(require(\"./parseDate\"));\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\nvar _promiseUtils = require(\"./promiseUtils\");\nvar _LocalDatastoreUtils = require(\"./LocalDatastoreUtils\");\nvar _ParseOp = require(\"./ParseOp\");\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\nvar SingleInstanceStateController = _interopRequireWildcard(require(\"./SingleInstanceStateController\"));\nvar _unique = _interopRequireDefault(require(\"./unique\"));\nvar UniqueInstanceStateController = _interopRequireWildcard(require(\"./UniqueInstanceStateController\"));\nvar _unsavedChildren = _interopRequireDefault(require(\"./unsavedChildren\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof _WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new _WeakMap();\n  var cacheNodeInterop = new _WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = _Object$defineProperty2 && _Object$getOwnPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        _Object$defineProperty2(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n  if (!it) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context21;\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = _sliceInstanceProperty(_context21 = Object.prototype.toString.call(o)).call(_context21, 8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = _Object$keys2(object);\n  if (_Object$getOwnPropertySymbols) {\n    var symbols = _Object$getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) {\n      return _Object$getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var _context19, _context20;\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? _forEachInstanceProperty2(_context19 = ownKeys(Object(source), !0)).call(_context19, function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : _forEachInstanceProperty2(_context20 = ownKeys(Object(source))).call(_context20, function (key) {\n      _Object$defineProperty2(target, key, _Object$getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar _require = require('uuid'),\n  uuidv4 = _require.v4;\n/*:: export type Pointer = {\n  __type: string,\n  className: string,\n  objectId: string,\n};*/\n\n/*:: type SaveParams = {\n  method: string,\n  path: string,\n  body: AttributeMap,\n};*/\n\n/*:: type SaveOptions = FullOptions & {\n  cascadeSave?: boolean,\n  context?: AttributeMap,\n};*/\n// Mapping of class names to constructors, so we can populate objects from the\n// server with appropriate subclasses of ParseObject\n\nvar classMap = {}; // Global counter for generating unique Ids for non-single-instance objects\n\nvar objectCount = 0; // On web clients, objects are single-instance: any two objects with the same Id\n// will have the same attributes. However, this may be dangerous default\n// behavior in a server scenario\n\nvar singleInstance = !_CoreManager.default.get('IS_NODE');\nif (singleInstance) {\n  _CoreManager.default.setObjectStateController(SingleInstanceStateController);\n} else {\n  _CoreManager.default.setObjectStateController(UniqueInstanceStateController);\n}\nfunction getServerUrlPath() {\n  var serverUrl = _CoreManager.default.get('SERVER_URL');\n  if (serverUrl[serverUrl.length - 1] !== '/') {\n    serverUrl += '/';\n  }\n  var url = serverUrl.replace(/https?:\\/\\//, '');\n  return url.substr((0, _indexOf.default)(url).call(url, '/'));\n}\n/**\n * Creates a new model with defined attributes.\n *\n * <p>You won't normally call this method directly.  It is recommended that\n * you use a subclass of <code>Parse.Object</code> instead, created by calling\n * <code>extend</code>.</p>\n *\n * <p>However, if you don't want to use a subclass, or aren't sure which\n * subclass is appropriate, you can use this form:<pre>\n *     var object = new Parse.Object(\"ClassName\");\n * </pre>\n * That is basically equivalent to:<pre>\n *     var MyClass = Parse.Object.extend(\"ClassName\");\n *     var object = new MyClass();\n * </pre></p>\n *\n * @alias Parse.Object\n */\n\nvar ParseObject = /*#__PURE__*/function () {\n  /**\n   * @param {string} className The class name for the object\n   * @param {object} attributes The initial set of data to store in the object.\n   * @param {object} options The options for this object instance.\n   */\n  function ParseObject(className\n  /*: ?string | { className: string, [attr: string]: mixed }*/, attributes\n  /*:: ?: { [attr: string]: mixed }*/, options\n  /*:: ?: { ignoreValidation: boolean }*/) {\n    (0, _classCallCheck2.default)(this, ParseObject);\n    (0, _defineProperty2.default)(this, \"id\", void 0);\n    (0, _defineProperty2.default)(this, \"_localId\", void 0);\n    (0, _defineProperty2.default)(this, \"_objCount\", void 0);\n    (0, _defineProperty2.default)(this, \"className\", void 0); // Enable legacy initializers\n\n    if (typeof this.initialize === 'function') {\n      this.initialize.apply(this, arguments);\n    }\n    var toSet = null;\n    this._objCount = objectCount++;\n    if (typeof className === 'string') {\n      this.className = className;\n      if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n        toSet = attributes;\n      }\n    } else if (className && (0, _typeof2.default)(className) === 'object') {\n      this.className = className.className;\n      toSet = {};\n      for (var _attr in className) {\n        if (_attr !== 'className') {\n          toSet[_attr] = className[_attr];\n        }\n      }\n      if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n        options = attributes;\n      }\n    }\n    if (toSet && !this.set(toSet, options)) {\n      throw new Error(\"Can't create an invalid Parse Object\");\n    }\n  }\n  /**\n   * The ID of this object, unique within its class.\n   *\n   * @property {string} id\n   */\n\n  (0, _createClass2.default)(ParseObject, [{\n    key: \"attributes\",\n    get: /** Prototype getters / setters * */\n    function () /*: AttributeMap*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n      return (0, _freeze.default)(stateController.estimateAttributes(this._getStateIdentifier()));\n    }\n    /**\n     * The first time this object was saved on the server.\n     *\n     * @property {Date} createdAt\n     * @returns {Date}\n     */\n  }, {\n    key: \"createdAt\",\n    get: function () /*: ?Date*/\n    {\n      return this._getServerData().createdAt;\n    }\n    /**\n     * The last time this object was updated on the server.\n     *\n     * @property {Date} updatedAt\n     * @returns {Date}\n     */\n  }, {\n    key: \"updatedAt\",\n    get: function () /*: ?Date*/\n    {\n      return this._getServerData().updatedAt;\n    }\n    /** Private methods * */\n\n    /**\n     * Returns a local or server Id used uniquely identify this object\n     *\n     * @returns {string}\n     */\n  }, {\n    key: \"_getId\",\n    value: function () /*: string*/\n    {\n      if (typeof this.id === 'string') {\n        return this.id;\n      }\n      if (typeof this._localId === 'string') {\n        return this._localId;\n      }\n      var localId = \"local\".concat(uuidv4());\n      this._localId = localId;\n      return localId;\n    }\n    /**\n     * Returns a unique identifier used to pull data from the State Controller.\n     *\n     * @returns {Parse.Object|object}\n     */\n  }, {\n    key: \"_getStateIdentifier\",\n    value: function () /*: ParseObject | { id: string, className: string }*/\n    {\n      if (singleInstance) {\n        var id = this.id;\n        if (!id) {\n          id = this._getId();\n        }\n        return {\n          id: id,\n          className: this.className\n        };\n      }\n      return this;\n    }\n  }, {\n    key: \"_getServerData\",\n    value: function () /*: AttributeMap*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n      return stateController.getServerData(this._getStateIdentifier());\n    }\n  }, {\n    key: \"_clearServerData\",\n    value: function () {\n      var serverData = this._getServerData();\n      var unset = {};\n      for (var _attr2 in serverData) {\n        unset[_attr2] = undefined;\n      }\n      var stateController = _CoreManager.default.getObjectStateController();\n      stateController.setServerData(this._getStateIdentifier(), unset);\n    }\n  }, {\n    key: \"_getPendingOps\",\n    value: function () /*: Array<OpsMap>*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n      return stateController.getPendingOps(this._getStateIdentifier());\n    }\n    /**\n     * @param {Array<string>} [keysToClear] - if specified, only ops matching\n     * these fields will be cleared\n     */\n  }, {\n    key: \"_clearPendingOps\",\n    value: function (keysToClear\n    /*:: ?: Array<string>*/) {\n      var pending = this._getPendingOps();\n      var latest = pending[pending.length - 1];\n      var keys = keysToClear || (0, _keys.default)(latest);\n      (0, _forEach.default)(keys).call(keys, function (key) {\n        delete latest[key];\n      });\n    }\n  }, {\n    key: \"_getDirtyObjectAttributes\",\n    value: function () /*: AttributeMap*/\n    {\n      var attributes = this.attributes;\n      var stateController = _CoreManager.default.getObjectStateController();\n      var objectCache = stateController.getObjectCache(this._getStateIdentifier());\n      var dirty = {};\n      for (var _attr3 in attributes) {\n        var val = attributes[_attr3];\n        if (val && (0, _typeof2.default)(val) === 'object' && !(val instanceof ParseObject) && !(val instanceof _ParseFile.default) && !(val instanceof _ParseRelation.default)) {\n          // Due to the way browsers construct maps, the key order will not change\n          // unless the object is changed\n          try {\n            var json = (0, _encode.default)(val, false, true);\n            var stringified = (0, _stringify.default)(json);\n            if (objectCache[_attr3] !== stringified) {\n              dirty[_attr3] = val;\n            }\n          } catch (e) {\n            // Error occurred, possibly by a nested unsaved pointer in a mutable container\n            // No matter how it happened, it indicates a change in the attribute\n            dirty[_attr3] = val;\n          }\n        }\n      }\n      return dirty;\n    }\n  }, {\n    key: \"_toFullJSON\",\n    value: function (seen\n    /*:: ?: Array<any>*/, offline\n    /*:: ?: boolean*/) /*: AttributeMap*/\n    {\n      var json\n      /*: { [key: string]: mixed }*/ = this.toJSON(seen, offline);\n      json.__type = 'Object';\n      json.className = this.className;\n      return json;\n    }\n  }, {\n    key: \"_getSaveJSON\",\n    value: function () /*: AttributeMap*/\n    {\n      var pending = this._getPendingOps();\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      var json = {};\n      for (var attr in dirtyObjects) {\n        var isDotNotation = false;\n        for (var i = 0; i < pending.length; i += 1) {\n          for (var field in pending[i]) {\n            // Dot notation operations are handled later\n            if ((0, _includes.default)(field).call(field, '.')) {\n              var fieldName = field.split('.')[0];\n              if (fieldName === attr) {\n                isDotNotation = true;\n                break;\n              }\n            }\n          }\n        }\n        if (!isDotNotation) {\n          json[attr] = new _ParseOp.SetOp(dirtyObjects[attr]).toJSON();\n        }\n      }\n      for (attr in pending[0]) {\n        json[attr] = pending[0][attr].toJSON();\n      }\n      return json;\n    }\n  }, {\n    key: \"_getSaveParams\",\n    value: function () /*: SaveParams*/\n    {\n      var method = this.id ? 'PUT' : 'POST';\n      var body = this._getSaveJSON();\n      var path = \"classes/\".concat(this.className);\n      if (this.id) {\n        path += \"/\".concat(this.id);\n      } else if (this.className === '_User') {\n        path = 'users';\n      }\n      return {\n        method: method,\n        body: body,\n        path: path\n      };\n    }\n  }, {\n    key: \"_finishFetch\",\n    value: function (serverData\n    /*: AttributeMap*/) {\n      if (!this.id && serverData.objectId) {\n        this.id = serverData.objectId;\n      }\n      var stateController = _CoreManager.default.getObjectStateController();\n      stateController.initializeState(this._getStateIdentifier());\n      var decoded = {};\n      for (var _attr4 in serverData) {\n        if (_attr4 === 'ACL') {\n          decoded[_attr4] = new _ParseACL.default(serverData[_attr4]);\n        } else if (_attr4 !== 'objectId') {\n          decoded[_attr4] = (0, _decode.default)(serverData[_attr4]);\n          if (decoded[_attr4] instanceof _ParseRelation.default) {\n            decoded[_attr4]._ensureParentAndKey(this, _attr4);\n          }\n        }\n      }\n      if (decoded.createdAt && typeof decoded.createdAt === 'string') {\n        decoded.createdAt = (0, _parseDate.default)(decoded.createdAt);\n      }\n      if (decoded.updatedAt && typeof decoded.updatedAt === 'string') {\n        decoded.updatedAt = (0, _parseDate.default)(decoded.updatedAt);\n      }\n      if (!decoded.updatedAt && decoded.createdAt) {\n        decoded.updatedAt = decoded.createdAt;\n      }\n      stateController.commitServerChanges(this._getStateIdentifier(), decoded);\n    }\n  }, {\n    key: \"_setExisted\",\n    value: function (existed\n    /*: boolean*/) {\n      var stateController = _CoreManager.default.getObjectStateController();\n      var state = stateController.getState(this._getStateIdentifier());\n      if (state) {\n        state.existed = existed;\n      }\n    }\n  }, {\n    key: \"_migrateId\",\n    value: function (serverId\n    /*: string*/) {\n      if (this._localId && serverId) {\n        if (singleInstance) {\n          var stateController = _CoreManager.default.getObjectStateController();\n          var oldState = stateController.removeState(this._getStateIdentifier());\n          this.id = serverId;\n          delete this._localId;\n          if (oldState) {\n            stateController.initializeState(this._getStateIdentifier(), oldState);\n          }\n        } else {\n          this.id = serverId;\n          delete this._localId;\n        }\n      }\n    }\n  }, {\n    key: \"_handleSaveResponse\",\n    value: function (response\n    /*: AttributeMap*/, status\n    /*: number*/) {\n      var changes = {};\n      var stateController = _CoreManager.default.getObjectStateController();\n      var pending = stateController.popPendingState(this._getStateIdentifier());\n      for (var attr in pending) {\n        if (pending[attr] instanceof _ParseOp.RelationOp) {\n          changes[attr] = pending[attr].applyTo(undefined, this, attr);\n        } else if (!(attr in response) && !(0, _includes.default)(attr).call(attr, '.')) {\n          // Only SetOps and UnsetOps should not come back with results\n          changes[attr] = pending[attr].applyTo(undefined);\n        }\n      }\n      for (attr in response) {\n        if ((attr === 'createdAt' || attr === 'updatedAt') && typeof response[attr] === 'string') {\n          changes[attr] = (0, _parseDate.default)(response[attr]);\n        } else if (attr === 'ACL') {\n          changes[attr] = new _ParseACL.default(response[attr]);\n        } else if (attr !== 'objectId') {\n          var val = (0, _decode.default)(response[attr]);\n          if (val && (0, _getPrototypeOf.default)(val) === Object.prototype) {\n            changes[attr] = _objectSpread(_objectSpread({}, this.attributes[attr]), val);\n          } else {\n            changes[attr] = val;\n          }\n          if (changes[attr] instanceof _ParseOp.UnsetOp) {\n            changes[attr] = undefined;\n          }\n        }\n      }\n      if (changes.createdAt && !changes.updatedAt) {\n        changes.updatedAt = changes.createdAt;\n      }\n      this._migrateId(response.objectId);\n      if (status !== 201) {\n        this._setExisted(true);\n      }\n      stateController.commitServerChanges(this._getStateIdentifier(), changes);\n    }\n  }, {\n    key: \"_handleSaveError\",\n    value: function () {\n      var stateController = _CoreManager.default.getObjectStateController();\n      stateController.mergeFirstPendingState(this._getStateIdentifier());\n    }\n    /** Public methods * */\n  }, {\n    key: \"initialize\",\n    value: function () {// NOOP\n    }\n    /**\n     * Returns a JSON version of the object suitable for saving to Parse.\n     *\n     * @param seen\n     * @param offline\n     * @returns {object}\n     */\n  }, {\n    key: \"toJSON\",\n    value: function (seen\n    /*: Array<any> | void*/, offline\n    /*:: ?: boolean*/) /*: AttributeMap*/\n    {\n      var _context;\n      var seenEntry = this.id ? (0, _concat.default)(_context = \"\".concat(this.className, \":\")).call(_context, this.id) : this;\n      seen = seen || [seenEntry];\n      var json = {};\n      var attrs = this.attributes;\n      for (var _attr5 in attrs) {\n        if ((_attr5 === 'createdAt' || _attr5 === 'updatedAt') && attrs[_attr5].toJSON) {\n          json[_attr5] = attrs[_attr5].toJSON();\n        } else {\n          json[_attr5] = (0, _encode.default)(attrs[_attr5], false, false, seen, offline);\n        }\n      }\n      var pending = this._getPendingOps();\n      for (var _attr6 in pending[0]) {\n        json[_attr6] = pending[0][_attr6].toJSON(offline);\n      }\n      if (this.id) {\n        json.objectId = this.id;\n      }\n      return json;\n    }\n    /**\n     * Determines whether this ParseObject is equal to another ParseObject\n     *\n     * @param {object} other - An other object ot compare\n     * @returns {boolean}\n     */\n  }, {\n    key: \"equals\",\n    value: function (other\n    /*: mixed*/) /*: boolean*/\n    {\n      if (this === other) {\n        return true;\n      }\n      return other instanceof ParseObject && this.className === other.className && this.id === other.id && typeof this.id !== 'undefined';\n    }\n    /**\n     * Returns true if this object has been modified since its last\n     * save/refresh.  If an attribute is specified, it returns true only if that\n     * particular attribute has been modified since the last save/refresh.\n     *\n     * @param {string} attr An attribute name (optional).\n     * @returns {boolean}\n     */\n  }, {\n    key: \"dirty\",\n    value: function (attr\n    /*:: ?: string*/) /*: boolean*/\n    {\n      if (!this.id) {\n        return true;\n      }\n      var pendingOps = this._getPendingOps();\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      if (attr) {\n        if (dirtyObjects.hasOwnProperty(attr)) {\n          return true;\n        }\n        for (var i = 0; i < pendingOps.length; i++) {\n          if (pendingOps[i].hasOwnProperty(attr)) {\n            return true;\n          }\n        }\n        return false;\n      }\n      if ((0, _keys.default)(pendingOps[0]).length !== 0) {\n        return true;\n      }\n      if ((0, _keys.default)(dirtyObjects).length !== 0) {\n        return true;\n      }\n      return false;\n    }\n    /**\n     * Returns an array of keys that have been modified since last save/refresh\n     *\n     * @returns {string[]}\n     */\n  }, {\n    key: \"dirtyKeys\",\n    value: function () /*: Array<string>*/\n    {\n      var pendingOps = this._getPendingOps();\n      var keys = {};\n      for (var i = 0; i < pendingOps.length; i++) {\n        for (var _attr7 in pendingOps[i]) {\n          keys[_attr7] = true;\n        }\n      }\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      for (var _attr8 in dirtyObjects) {\n        keys[_attr8] = true;\n      }\n      return (0, _keys.default)(keys);\n    }\n    /**\n     * Returns true if the object has been fetched.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isDataAvailable\",\n    value: function () /*: boolean*/\n    {\n      var serverData = this._getServerData();\n      return !!(0, _keys.default)(serverData).length;\n    }\n    /**\n     * Gets a Pointer referencing this Object.\n     *\n     * @returns {Pointer}\n     */\n  }, {\n    key: \"toPointer\",\n    value: function () /*: Pointer*/\n    {\n      if (!this.id) {\n        throw new Error('Cannot create a pointer to an unsaved ParseObject');\n      }\n      return {\n        __type: 'Pointer',\n        className: this.className,\n        objectId: this.id\n      };\n    }\n    /**\n     * Gets a Pointer referencing this Object.\n     *\n     * @returns {Pointer}\n     */\n  }, {\n    key: \"toOfflinePointer\",\n    value: function () /*: Pointer*/\n    {\n      if (!this._localId) {\n        throw new Error('Cannot create a offline pointer to a saved ParseObject');\n      }\n      return {\n        __type: 'Object',\n        className: this.className,\n        _localId: this._localId\n      };\n    }\n    /**\n     * Gets the value of an attribute.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @returns {*}\n     */\n  }, {\n    key: \"get\",\n    value: function (attr\n    /*: string*/) /*: mixed*/\n    {\n      return this.attributes[attr];\n    }\n    /**\n     * Gets a relation on the given class for the attribute.\n     *\n     * @param {string} attr The attribute to get the relation for.\n     * @returns {Parse.Relation}\n     */\n  }, {\n    key: \"relation\",\n    value: function (attr\n    /*: string*/) /*: ParseRelation*/\n    {\n      var value = this.get(attr);\n      if (value) {\n        if (!(value instanceof _ParseRelation.default)) {\n          throw new Error(\"Called relation() on non-relation field \".concat(attr));\n        }\n        value._ensureParentAndKey(this, attr);\n        return value;\n      }\n      return new _ParseRelation.default(this, attr);\n    }\n    /**\n     * Gets the HTML-escaped value of an attribute.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @returns {string}\n     */\n  }, {\n    key: \"escape\",\n    value: function (attr\n    /*: string*/) /*: string*/\n    {\n      var val = this.attributes[attr];\n      if (val == null) {\n        return '';\n      }\n      if (typeof val !== 'string') {\n        if (typeof val.toString !== 'function') {\n          return '';\n        }\n        val = val.toString();\n      }\n      return (0, _escape2.default)(val);\n    }\n    /**\n     * Returns <code>true</code> if the attribute contains a value that is not\n     * null or undefined.\n     *\n     * @param {string} attr The string name of the attribute.\n     * @returns {boolean}\n     */\n  }, {\n    key: \"has\",\n    value: function (attr\n    /*: string*/) /*: boolean*/\n    {\n      var attributes = this.attributes;\n      if (attributes.hasOwnProperty(attr)) {\n        return attributes[attr] != null;\n      }\n      return false;\n    }\n    /**\n     * Sets a hash of model attributes on the object.\n     *\n     * <p>You can call it with an object containing keys and values, with one\n     * key and value, or dot notation.  For example:<pre>\n     *   gameTurn.set({\n     *     player: player1,\n     *     diceRoll: 2\n     *   }, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"currentPlayer\", player2, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"finished\", true);</pre></p>\n     *\n     *   game.set(\"player.score\", 10);</pre></p>\n     *\n     * @param {(string|object)} key The key to set.\n     * @param {(string|object)} value The value to give it.\n     * @param {object} options A set of options for the set.\n     *     The only supported option is <code>error</code>.\n     * @returns {(ParseObject|boolean)} true if the set succeeded.\n     */\n  }, {\n    key: \"set\",\n    value: function (key\n    /*: mixed*/, value\n    /*: mixed*/, options\n    /*:: ?: mixed*/) /*: ParseObject | boolean*/\n    {\n      var changes = {};\n      var newOps = {};\n      if (key && (0, _typeof2.default)(key) === 'object') {\n        changes = key;\n        options = value;\n      } else if (typeof key === 'string') {\n        changes[key] = value;\n      } else {\n        return this;\n      }\n      options = options || {};\n      var readonly = [];\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = (0, _concat.default)(readonly).call(readonly, this.constructor.readOnlyAttributes());\n      }\n      for (var k in changes) {\n        if (k === 'createdAt' || k === 'updatedAt') {\n          // This property is read-only, but for legacy reasons we silently\n          // ignore it\n          continue;\n        }\n        if ((0, _indexOf.default)(readonly).call(readonly, k) > -1) {\n          throw new Error(\"Cannot modify readonly attribute: \".concat(k));\n        }\n        if (options.unset) {\n          newOps[k] = new _ParseOp.UnsetOp();\n        } else if (changes[k] instanceof _ParseOp.Op) {\n          newOps[k] = changes[k];\n        } else if (changes[k] && (0, _typeof2.default)(changes[k]) === 'object' && typeof changes[k].__op === 'string') {\n          newOps[k] = (0, _ParseOp.opFromJSON)(changes[k]);\n        } else if (k === 'objectId' || k === 'id') {\n          if (typeof changes[k] === 'string') {\n            this.id = changes[k];\n          }\n        } else if (k === 'ACL' && (0, _typeof2.default)(changes[k]) === 'object' && !(changes[k] instanceof _ParseACL.default)) {\n          newOps[k] = new _ParseOp.SetOp(new _ParseACL.default(changes[k]));\n        } else if (changes[k] instanceof _ParseRelation.default) {\n          var relation = new _ParseRelation.default(this, k);\n          relation.targetClassName = changes[k].targetClassName;\n          newOps[k] = new _ParseOp.SetOp(relation);\n        } else {\n          newOps[k] = new _ParseOp.SetOp(changes[k]);\n        }\n      }\n      var currentAttributes = this.attributes; // Only set nested fields if exists\n\n      var serverData = this._getServerData();\n      if (typeof key === 'string' && (0, _includes.default)(key).call(key, '.')) {\n        var field = key.split('.')[0];\n        if (!serverData[field]) {\n          return this;\n        }\n      } // Calculate new values\n\n      var newValues = {};\n      for (var _attr9 in newOps) {\n        if (newOps[_attr9] instanceof _ParseOp.RelationOp) {\n          newValues[_attr9] = newOps[_attr9].applyTo(currentAttributes[_attr9], this, _attr9);\n        } else if (!(newOps[_attr9] instanceof _ParseOp.UnsetOp)) {\n          newValues[_attr9] = newOps[_attr9].applyTo(currentAttributes[_attr9]);\n        }\n      } // Validate changes\n\n      if (!options.ignoreValidation) {\n        var validation = this.validate(newValues);\n        if (validation) {\n          if (typeof options.error === 'function') {\n            options.error(this, validation);\n          }\n          return false;\n        }\n      } // Consolidate Ops\n\n      var pendingOps = this._getPendingOps();\n      var last = pendingOps.length - 1;\n      var stateController = _CoreManager.default.getObjectStateController();\n      for (var _attr10 in newOps) {\n        var nextOp = newOps[_attr10].mergeWith(pendingOps[last][_attr10]);\n        stateController.setPendingOp(this._getStateIdentifier(), _attr10, nextOp);\n      }\n      return this;\n    }\n    /**\n     * Remove an attribute from the model. This is a noop if the attribute doesn't\n     * exist.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @param options\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"unset\",\n    value: function (attr\n    /*: string*/, options\n    /*:: ?: { [opt: string]: mixed }*/) /*: ParseObject | boolean*/\n    {\n      options = options || {};\n      options.unset = true;\n      return this.set(attr, null, options);\n    }\n    /**\n     * Atomically increments the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to increment by (optional).\n     * @returns {(ParseObject|boolean)}\n     */\n  }, {\n    key: \"increment\",\n    value: function (attr\n    /*: string*/, amount\n    /*:: ?: number*/) /*: ParseObject | boolean*/\n    {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot increment by a non-numeric amount.');\n      }\n      return this.set(attr, new _ParseOp.IncrementOp(amount));\n    }\n    /**\n     * Atomically decrements the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to decrement by (optional).\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"decrement\",\n    value: function (attr\n    /*: string*/, amount\n    /*:: ?: number*/) /*: ParseObject | boolean*/\n    {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot decrement by a non-numeric amount.');\n      }\n      return this.set(attr, new _ParseOp.IncrementOp(amount * -1));\n    }\n    /**\n     * Atomically add an object to the end of the array associated with a given\n     * key.\n     *\n     * @param attr {String} The key.\n     * @param item {} The item to add.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"add\",\n    value: function (attr\n    /*: string*/, item\n    /*: mixed*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddOp([item]));\n    }\n    /**\n     * Atomically add the objects to the end of the array associated with a given\n     * key.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The items to add.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"addAll\",\n    value: function (attr\n    /*: string*/, items\n    /*: Array<mixed>*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddOp(items));\n    }\n    /**\n     * Atomically add an object to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param attr {String} The key.\n     * @param item {} The object to add.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"addUnique\",\n    value: function (attr\n    /*: string*/, item\n    /*: mixed*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddUniqueOp([item]));\n    }\n    /**\n     * Atomically add the objects to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The objects to add.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"addAllUnique\",\n    value: function (attr\n    /*: string*/, items\n    /*: Array<mixed>*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddUniqueOp(items));\n    }\n    /**\n     * Atomically remove all instances of an object from the array associated\n     * with a given key.\n     *\n     * @param attr {String} The key.\n     * @param item {} The object to remove.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"remove\",\n    value: function (attr\n    /*: string*/, item\n    /*: mixed*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.RemoveOp([item]));\n    }\n    /**\n     * Atomically remove all instances of the objects from the array associated\n     * with a given key.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The object to remove.\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"removeAll\",\n    value: function (attr\n    /*: string*/, items\n    /*: Array<mixed>*/) /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.RemoveOp(items));\n    }\n    /**\n     * Returns an instance of a subclass of Parse.Op describing what kind of\n     * modification has been performed on this field since the last time it was\n     * saved. For example, after calling object.increment(\"x\"), calling\n     * object.op(\"x\") would return an instance of Parse.Op.Increment.\n     *\n     * @param attr {String} The key.\n     * @returns {Parse.Op} The operation, or undefined if none.\n     */\n  }, {\n    key: \"op\",\n    value: function (attr\n    /*: string*/) /*: ?Op*/\n    {\n      var pending = this._getPendingOps();\n      for (var i = pending.length; i--;) {\n        if (pending[i][attr]) {\n          return pending[i][attr];\n        }\n      }\n    }\n    /**\n     * Creates a new model with identical attributes to this one.\n     *\n     * @returns {Parse.Object}\n     */\n  }, {\n    key: \"clone\",\n    value: function clone() /*: any*/\n    {\n      var clone = new this.constructor();\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n      var attributes = this.attributes;\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        var readonly = this.constructor.readOnlyAttributes() || []; // Attributes are frozen, so we have to rebuild an object,\n        // rather than delete readonly keys\n\n        var copy = {};\n        for (var a in attributes) {\n          if ((0, _indexOf.default)(readonly).call(readonly, a) < 0) {\n            copy[a] = attributes[a];\n          }\n        }\n        attributes = copy;\n      }\n      if (clone.set) {\n        clone.set(attributes);\n      }\n      return clone;\n    }\n    /**\n     * Creates a new instance of this object. Not to be confused with clone()\n     *\n     * @returns {Parse.Object}\n     */\n  }, {\n    key: \"newInstance\",\n    value: function () /*: any*/\n    {\n      var clone = new this.constructor();\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n      clone.id = this.id;\n      if (singleInstance) {\n        // Just return an object with the right id\n        return clone;\n      }\n      var stateController = _CoreManager.default.getObjectStateController();\n      if (stateController) {\n        stateController.duplicateState(this._getStateIdentifier(), clone._getStateIdentifier());\n      }\n      return clone;\n    }\n    /**\n     * Returns true if this object has never been saved to Parse.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isNew\",\n    value: function () /*: boolean*/\n    {\n      return !this.id;\n    }\n    /**\n     * Returns true if this object was created by the Parse server when the\n     * object might have already been there (e.g. in the case of a Facebook\n     * login)\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"existed\",\n    value: function () /*: boolean*/\n    {\n      if (!this.id) {\n        return false;\n      }\n      var stateController = _CoreManager.default.getObjectStateController();\n      var state = stateController.getState(this._getStateIdentifier());\n      if (state) {\n        return state.existed;\n      }\n      return false;\n    }\n    /**\n     * Returns true if this object exists on the Server\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @returns {Promise<boolean>} A boolean promise that is fulfilled if object exists.\n     */\n  }, {\n    key: \"exists\",\n    value: function () {\n      var _exists = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options\n      /*:: ?: RequestOptions*/) {\n        var query;\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this.id) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\", false);\n              case 2:\n                _context2.prev = 2;\n                query = new _ParseQuery.default(this.className);\n                _context2.next = 6;\n                return query.get(this.id, options);\n              case 6:\n                return _context2.abrupt(\"return\", true);\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](2);\n                if (!(_context2.t0.code === _ParseError.default.OBJECT_NOT_FOUND)) {\n                  _context2.next = 13;\n                  break;\n                }\n                return _context2.abrupt(\"return\", false);\n              case 13:\n                throw _context2.t0;\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n      return function () {\n        return _exists.apply(this, arguments);\n      };\n    }()\n    /**\n     * Checks if the model is currently in a valid state.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: \"isValid\",\n    value: function () /*: boolean*/\n    {\n      return !this.validate(this.attributes);\n    }\n    /**\n     * You should not call this function directly unless you subclass\n     * <code>Parse.Object</code>, in which case you can override this method\n     * to provide additional validation on <code>set</code> and\n     * <code>save</code>.  Your implementation should return\n     *\n     * @param {object} attrs The current data to validate.\n     * @returns {Parse.Error|boolean} False if the data is valid.  An error object otherwise.\n     * @see Parse.Object#set\n     */\n  }, {\n    key: \"validate\",\n    value: function (attrs\n    /*: AttributeMap*/) /*: ParseError | boolean*/\n    {\n      if (attrs.hasOwnProperty('ACL') && !(attrs.ACL instanceof _ParseACL.default)) {\n        return new _ParseError.default(_ParseError.default.OTHER_CAUSE, 'ACL must be a Parse ACL.');\n      }\n      for (var _key in attrs) {\n        if (!/^[A-Za-z][0-9A-Za-z_.]*$/.test(_key)) {\n          return new _ParseError.default(_ParseError.default.INVALID_KEY_NAME);\n        }\n      }\n      return false;\n    }\n    /**\n     * Returns the ACL for this object.\n     *\n     * @returns {Parse.ACL} An instance of Parse.ACL.\n     * @see Parse.Object#get\n     */\n  }, {\n    key: \"getACL\",\n    value: function () /*: ?ParseACL*/\n    {\n      var acl = this.get('ACL');\n      if (acl instanceof _ParseACL.default) {\n        return acl;\n      }\n      return null;\n    }\n    /**\n     * Sets the ACL to be used for this object.\n     *\n     * @param {Parse.ACL} acl An instance of Parse.ACL.\n     * @param {object} options\n     * @returns {(ParseObject | boolean)} Whether the set passed validation.\n     * @see Parse.Object#set\n     */\n  }, {\n    key: \"setACL\",\n    value: function (acl\n    /*: ParseACL*/, options\n    /*:: ?: mixed*/) /*: ParseObject | boolean*/\n    {\n      return this.set('ACL', acl, options);\n    }\n    /**\n     * Clears any (or specific) changes to this object made since the last call to save()\n     *\n     * @param {string} [keys] - specify which fields to revert\n     */\n  }, {\n    key: \"revert\",\n    value: function () /*: void*/\n    {\n      var keysToRevert;\n      for (var _len = arguments.length, keys = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        keys[_key2] = arguments[_key2];\n      }\n      if (keys.length) {\n        keysToRevert = [];\n        var _iterator = _createForOfIteratorHelper(keys),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _key3 = _step.value;\n            if (typeof _key3 === 'string') {\n              keysToRevert.push(_key3);\n            } else {\n              throw new Error('Parse.Object#revert expects either no, or a list of string, arguments.');\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      this._clearPendingOps(keysToRevert);\n    }\n    /**\n     * Clears all attributes on a model\n     *\n     * @returns {(ParseObject | boolean)}\n     */\n  }, {\n    key: \"clear\",\n    value: function () /*: ParseObject | boolean*/\n    {\n      var attributes = this.attributes;\n      var erasable = {};\n      var readonly = ['createdAt', 'updatedAt'];\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = (0, _concat.default)(readonly).call(readonly, this.constructor.readOnlyAttributes());\n      }\n      for (var _attr11 in attributes) {\n        if ((0, _indexOf.default)(readonly).call(readonly, _attr11) < 0) {\n          erasable[_attr11] = true;\n        }\n      }\n      return this.set(erasable, {\n        unset: true\n      });\n    }\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>include: The name(s) of the key(s) to include. Can be a string, an array of strings,\n     *       or an array of array of strings.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeFind` trigger.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n  }, {\n    key: \"fetch\",\n    value: function (options\n    /*: RequestOptions*/) /*: Promise*/\n    {\n      options = options || {};\n      var fetchOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        fetchOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        fetchOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        fetchOptions.context = options.context;\n      }\n      if (options.hasOwnProperty('include')) {\n        fetchOptions.include = [];\n        if ((0, _isArray.default)(options.include)) {\n          var _context3;\n          (0, _forEach.default)(_context3 = options.include).call(_context3, function (key) {\n            if ((0, _isArray.default)(key)) {\n              var _context4;\n              fetchOptions.include = (0, _concat.default)(_context4 = fetchOptions.include).call(_context4, key);\n            } else {\n              fetchOptions.include.push(key);\n            }\n          });\n        } else {\n          fetchOptions.include.push(options.include);\n        }\n      }\n      var controller = _CoreManager.default.getObjectController();\n      return controller.fetch(this, true, fetchOptions);\n    }\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n  }, {\n    key: \"fetchWithInclude\",\n    value: function (keys\n    /*: String | Array<string | Array<string>>*/, options\n    /*: RequestOptions*/) /*: Promise*/\n    {\n      options = options || {};\n      options.include = keys;\n      return this.fetch(options);\n    }\n    /**\n     * Set a hash of model attributes, and save the model to the server.\n     * updatedAt will be updated when the request returns.\n     * You can either call it as:<pre>\n     * object.save();</pre>\n     * or<pre>\n     * object.save(attrs);</pre>\n     * or<pre>\n     * object.save(null, options);</pre>\n     * or<pre>\n     * object.save(attrs, options);</pre>\n     * or<pre>\n     * object.save(key, value, options);</pre>\n     *\n     * For example, <pre>\n     * gameTurn.save({\n     * player: \"Jake Cutter\",\n     * diceRoll: 2\n     * }).then(function(gameTurnAgain) {\n     * // The save was successful.\n     * }, function(error) {\n     * // The save failed.  Error is an instance of Parse.Error.\n     * });</pre>\n     *\n     * @param {string | object | null} [arg1]\n     * Valid options are:<ul>\n     * <li>`Object` - Key/value pairs to update on the object.</li>\n     * <li>`String` Key - Key of attribute to update (requires arg2 to also be string)</li>\n     * <li>`null` - Passing null for arg1 allows you to save the object with options passed in arg2.</li>\n     * </ul>\n     * @param {string | object} [arg2]\n     * <ul>\n     * <li>`String` Value - If arg1 was passed as a key, arg2 is the value that should be set on that key.</li>\n     * <li>`Object` Options - Valid options are:\n     * <ul>\n     * <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     * be used for this request.\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * </li>\n     * </ul>\n     * @param {object} [arg3]\n     * Used to pass option parameters to method if arg1 and arg2 were both passed as strings.\n     * Valid options are:\n     * <ul>\n     * <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     * be used for this request.\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the save\n     * completes.\n     */\n  }, {\n    key: \"save\",\n    value: function (arg1\n    /*: ?string | { [attr: string]: mixed }*/, arg2\n    /*: SaveOptions | mixed*/, arg3\n    /*:: ?: SaveOptions*/) /*: Promise*/\n    {\n      var _this = this;\n      var attrs;\n      var options;\n      if ((0, _typeof2.default)(arg1) === 'object' || typeof arg1 === 'undefined') {\n        attrs = arg1;\n        if ((0, _typeof2.default)(arg2) === 'object') {\n          options = arg2;\n        }\n      } else {\n        attrs = {};\n        attrs[arg1] = arg2;\n        options = arg3;\n      }\n      if (attrs) {\n        var validation = this.validate(attrs);\n        if (validation) {\n          return _promise.default.reject(validation);\n        }\n        this.set(attrs, options);\n      }\n      options = options || {};\n      var saveOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = !!options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken') && typeof options.sessionToken === 'string') {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('installationId') && typeof options.installationId === 'string') {\n        saveOptions.installationId = options.installationId;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        saveOptions.context = options.context;\n      }\n      var controller = _CoreManager.default.getObjectController();\n      var unsaved = options.cascadeSave !== false ? (0, _unsavedChildren.default)(this) : null;\n      return controller.save(unsaved, saveOptions).then(function () {\n        return controller.save(_this, saveOptions);\n      });\n    }\n    /**\n     * Destroy this model on the server if it was already persisted.\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeDelete` and `afterDelete` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n  }, {\n    key: \"destroy\",\n    value: function (options\n    /*: RequestOptions*/) /*: Promise*/\n    {\n      options = options || {};\n      var destroyOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        destroyOptions.context = options.context;\n      }\n      if (!this.id) {\n        return _promise.default.resolve();\n      }\n      return _CoreManager.default.getObjectController().destroy(this, destroyOptions);\n    }\n    /**\n     * Asynchronously stores the object and every object it points to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await object.pin();\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPin()</code>\n     *\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     */\n  }, {\n    key: \"pin\",\n    value: function () /*: Promise<void>*/\n    {\n      return ParseObject.pinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, [this]);\n    }\n    /**\n     * Asynchronously removes the object and every object it points to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * <pre>\n     * await object.unPin();\n     * </pre>\n     *\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     */\n  }, {\n    key: \"unPin\",\n    value: function () /*: Promise<void>*/\n    {\n      return ParseObject.unPinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, [this]);\n    }\n    /**\n     * Asynchronously returns if the object is pinned\n     *\n     * <pre>\n     * const isPinned = await object.isPinned();\n     * </pre>\n     *\n     * @returns {Promise<boolean>} A boolean promise that is fulfilled if object is pinned.\n     */\n  }, {\n    key: \"isPinned\",\n    value: function () {\n      var _isPinned = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var localDatastore, objectKey, pin;\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                localDatastore = _CoreManager.default.getLocalDatastore();\n                if (localDatastore.isEnabled) {\n                  _context5.next = 3;\n                  break;\n                }\n                return _context5.abrupt(\"return\", _promise.default.reject('Parse.enableLocalDatastore() must be called first'));\n              case 3:\n                objectKey = localDatastore.getKeyForObject(this);\n                _context5.next = 6;\n                return localDatastore.fromPinWithName(objectKey);\n              case 6:\n                pin = _context5.sent;\n                return _context5.abrupt(\"return\", pin.length > 0);\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      return function () {\n        return _isPinned.apply(this, arguments);\n      };\n    }()\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore, recursively.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await object.pinWithName(name);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPinWithName(name)</code>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     */\n  }, {\n    key: \"pinWithName\",\n    value: function (name\n    /*: string*/) /*: Promise<void>*/\n    {\n      return ParseObject.pinAllWithName(name, [this]);\n    }\n    /**\n     * Asynchronously removes the object and every object it points to in the local datastore, recursively.\n     *\n     * <pre>\n     * await object.unPinWithName(name);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     */\n  }, {\n    key: \"unPinWithName\",\n    value: function (name\n    /*: string*/) /*: Promise<void>*/\n    {\n      return ParseObject.unPinAllWithName(name, [this]);\n    }\n    /**\n     * Asynchronously loads data from the local datastore into this object.\n     *\n     * <pre>\n     * await object.fetchFromLocalDatastore();\n     * </pre>\n     *\n     * You can create an unfetched pointer with <code>Parse.Object.createWithoutData()</code>\n     * and then call <code>fetchFromLocalDatastore()</code> on it.\n     *\n     * @returns {Promise} A promise that is fulfilled when the fetch completes.\n     */\n  }, {\n    key: \"fetchFromLocalDatastore\",\n    value: function () {\n      var _fetchFromLocalDatastore = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        var localDatastore, objectKey, pinned, result;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                localDatastore = _CoreManager.default.getLocalDatastore();\n                if (localDatastore.isEnabled) {\n                  _context6.next = 3;\n                  break;\n                }\n                throw new Error('Parse.enableLocalDatastore() must be called first');\n              case 3:\n                objectKey = localDatastore.getKeyForObject(this);\n                _context6.next = 6;\n                return localDatastore._serializeObject(objectKey);\n              case 6:\n                pinned = _context6.sent;\n                if (pinned) {\n                  _context6.next = 9;\n                  break;\n                }\n                throw new Error('Cannot fetch an unsaved ParseObject');\n              case 9:\n                result = ParseObject.fromJSON(pinned);\n                this._finishFetch(result.toJSON());\n                return _context6.abrupt(\"return\", this);\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      return function () {\n        return _fetchFromLocalDatastore.apply(this, arguments);\n      };\n    }()\n    /** Static methods * */\n  }], [{\n    key: \"_clearAllState\",\n    value: function () {\n      var stateController = _CoreManager.default.getObjectStateController();\n      stateController.clearAllState();\n    }\n    /**\n     * Fetches the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAll([object1, object2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>include: The name(s) of the key(s) to include. Can be a string, an array of strings,\n     *       or an array of array of strings.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"fetchAll\",\n    value: function (list\n    /*: Array<ParseObject>*/) {\n      var options\n      /*: RequestOptions*/ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var queryOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('include')) {\n        queryOptions.include = ParseObject.handleIncludeOptions(options);\n      }\n      return _CoreManager.default.getObjectController().fetch(list, true, queryOptions);\n    }\n    /**\n     * Fetches the given list of Parse.Object.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllWithInclude([object1, object2, ...], [pointer1, pointer2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"fetchAllWithInclude\",\n    value: function (list\n    /*: Array<ParseObject>*/, keys\n    /*: String | Array<string | Array<string>>*/, options\n    /*: RequestOptions*/) {\n      options = options || {};\n      options.include = keys;\n      return ParseObject.fetchAll(list, options);\n    }\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeededWithInclude([object1, object2, ...], [pointer1, pointer2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"fetchAllIfNeededWithInclude\",\n    value: function (list\n    /*: Array<ParseObject>*/, keys\n    /*: String | Array<string | Array<string>>*/, options\n    /*: RequestOptions*/) {\n      options = options || {};\n      options.include = keys;\n      return ParseObject.fetchAllIfNeeded(list, options);\n    }\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeeded([object1, ...])\n     *    .then((list) => {\n     *      // Objects were fetched and updated.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"fetchAllIfNeeded\",\n    value: function (list\n    /*: Array<ParseObject>*/, options) {\n      options = options || {};\n      var queryOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('include')) {\n        queryOptions.include = ParseObject.handleIncludeOptions(options);\n      }\n      return _CoreManager.default.getObjectController().fetch(list, false, queryOptions);\n    }\n  }, {\n    key: \"handleIncludeOptions\",\n    value: function (options) {\n      var include = [];\n      if ((0, _isArray.default)(options.include)) {\n        var _context7;\n        (0, _forEach.default)(_context7 = options.include).call(_context7, function (key) {\n          if ((0, _isArray.default)(key)) {\n            include = (0, _concat.default)(include).call(include, key);\n          } else {\n            include.push(key);\n          }\n        });\n      } else {\n        include.push(options.include);\n      }\n      return include;\n    }\n    /**\n     * Destroy the given list of models on the server if it was already persisted.\n     *\n     * <p>Unlike saveAll, if an error occurs while deleting an individual model,\n     * this method will continue trying to delete the rest of the models if\n     * possible, except in the case of a fatal error like a connection error.\n     *\n     * <p>In particular, the Parse.Error object returned in the case of error may\n     * be one of two types:\n     *\n     * <ul>\n     * <li>A Parse.Error.AGGREGATE_ERROR. This object's \"errors\" property is an\n     * array of other Parse.Error objects. Each error object in this array\n     * has an \"object\" property that references the object that could not be\n     * deleted (for instance, because that object could not be found).</li>\n     * <li>A non-aggregate Parse.Error. This indicates a serious error that\n     * caused the delete operation to be aborted partway through (for\n     * instance, a connection failure in the middle of the delete).</li>\n     * </ul>\n     *\n     * <pre>\n     * Parse.Object.destroyAll([object1, object2, ...])\n     * .then((list) => {\n     * // All the objects were deleted.\n     * }, (error) => {\n     * // An error occurred while deleting one or more of the objects.\n     * // If this is an aggregate error, then we can inspect each error\n     * // object individually to determine the reason why a particular\n     * // object was not deleted.\n     * if (error.code === Parse.Error.AGGREGATE_ERROR) {\n     * for (var i = 0; i < error.errors.length; i++) {\n     * console.log(\"Couldn't delete \" + error.errors[i].object.id +\n     * \"due to \" + error.errors[i].message);\n     * }\n     * } else {\n     * console.log(\"Delete aborted because of \" + error.message);\n     * }\n     * });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Promise} A promise that is fulfilled when the destroyAll\n     * completes.\n     */\n  }, {\n    key: \"destroyAll\",\n    value: function (list\n    /*: Array<ParseObject>*/) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var destroyOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('batchSize') && typeof options.batchSize === 'number') {\n        destroyOptions.batchSize = options.batchSize;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        destroyOptions.context = options.context;\n      }\n      return _CoreManager.default.getObjectController().destroy(list, destroyOptions);\n    }\n    /**\n     * Saves the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     * Parse.Object.saveAll([object1, object2, ...])\n     * .then((list) => {\n     * // All the objects were saved.\n     * }, (error) => {\n     * // An error occurred while saving one of the objects.\n     * });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Parse.Object[]}\n     */\n  }, {\n    key: \"saveAll\",\n    value: function (list\n    /*: Array<ParseObject>*/) {\n      var options\n      /*: RequestOptions*/ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var saveOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n      if (options.hasOwnProperty('batchSize') && typeof options.batchSize === 'number') {\n        saveOptions.batchSize = options.batchSize;\n      }\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        saveOptions.context = options.context;\n      }\n      return _CoreManager.default.getObjectController().save(list, saveOptions);\n    }\n    /**\n     * Creates a reference to a subclass of Parse.Object with the given id. This\n     * does not exist on Parse.Object, only on subclasses.\n     *\n     * <p>A shortcut for: <pre>\n     *  var Foo = Parse.Object.extend(\"Foo\");\n     *  var pointerToFoo = new Foo();\n     *  pointerToFoo.id = \"myObjectId\";\n     * </pre>\n     *\n     * @param {string} id The ID of the object to create a reference to.\n     * @static\n     * @returns {Parse.Object} A Parse.Object reference.\n     */\n  }, {\n    key: \"createWithoutData\",\n    value: function (id\n    /*: string*/) {\n      var obj = new this();\n      obj.id = id;\n      return obj;\n    }\n    /**\n     * Creates a new instance of a Parse Object from a JSON representation.\n     *\n     * @param {object} json The JSON map of the Object's data\n     * @param {boolean} override In single instance mode, all old server data\n     *   is overwritten if this is set to true\n     * @static\n     * @returns {Parse.Object} A Parse.Object reference\n     */\n  }, {\n    key: \"fromJSON\",\n    value: function (json\n    /*: any*/, override\n    /*:: ?: boolean*/) {\n      if (!json.className) {\n        throw new Error('Cannot create an object without a className');\n      }\n      var constructor = classMap[json.className];\n      var o = constructor ? new constructor() : new ParseObject(json.className);\n      var otherAttributes = {};\n      for (var _attr12 in json) {\n        if (_attr12 !== 'className' && _attr12 !== '__type') {\n          otherAttributes[_attr12] = json[_attr12];\n        }\n      }\n      if (override) {\n        // id needs to be set before clearServerData can work\n        if (otherAttributes.objectId) {\n          o.id = otherAttributes.objectId;\n        }\n        var preserved = null;\n        if (typeof o._preserveFieldsOnFetch === 'function') {\n          preserved = o._preserveFieldsOnFetch();\n        }\n        o._clearServerData();\n        if (preserved) {\n          o._finishFetch(preserved);\n        }\n      }\n      o._finishFetch(otherAttributes);\n      if (json.objectId) {\n        o._setExisted(true);\n      }\n      return o;\n    }\n    /**\n     * Registers a subclass of Parse.Object with a specific class name.\n     * When objects of that class are retrieved from a query, they will be\n     * instantiated with this subclass.\n     * This is only necessary when using ES6 subclassing.\n     *\n     * @param {string} className The class name of the subclass\n     * @param {Function} constructor The subclass\n     */\n  }, {\n    key: \"registerSubclass\",\n    value: function (className\n    /*: string*/, constructor\n    /*: any*/) {\n      if (typeof className !== 'string') {\n        throw new TypeError('The first argument must be a valid class name.');\n      }\n      if (typeof constructor === 'undefined') {\n        throw new TypeError('You must supply a subclass constructor.');\n      }\n      if (typeof constructor !== 'function') {\n        throw new TypeError('You must register the subclass constructor. ' + 'Did you attempt to register an instance of the subclass?');\n      }\n      classMap[className] = constructor;\n      if (!constructor.className) {\n        constructor.className = className;\n      }\n    }\n    /**\n     * Creates a new subclass of Parse.Object for the given Parse class name.\n     *\n     * <p>Every extension of a Parse class will inherit from the most recent\n     * previous extension of that class. When a Parse.Object is automatically\n     * created by parsing JSON, it will use the most recent extension of that\n     * class.</p>\n     *\n     * <p>You should call either:<pre>\n     *     var MyClass = Parse.Object.extend(\"MyClass\", {\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre>\n     * or, for Backbone compatibility:<pre>\n     *     var MyClass = Parse.Object.extend({\n     *         className: \"MyClass\",\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre></p>\n     *\n     * @param {string} className The name of the Parse class backing this model.\n     * @param {object} protoProps Instance properties to add to instances of the\n     *     class returned from this method.\n     * @param {object} classProps Class properties to add the class returned from\n     *     this method.\n     * @returns {Parse.Object} A new subclass of Parse.Object.\n     */\n  }, {\n    key: \"extend\",\n    value: function (className\n    /*: any*/, protoProps\n    /*: any*/, classProps\n    /*: any*/) {\n      if (typeof className !== 'string') {\n        if (className && typeof className.className === 'string') {\n          return ParseObject.extend(className.className, className, protoProps);\n        }\n        throw new Error(\"Parse.Object.extend's first argument should be the className.\");\n      }\n      var adjustedClassName = className;\n      if (adjustedClassName === 'User' && _CoreManager.default.get('PERFORM_USER_REWRITE')) {\n        adjustedClassName = '_User';\n      }\n      var parentProto = ParseObject.prototype;\n      if (this.hasOwnProperty('__super__') && this.__super__) {\n        parentProto = this.prototype;\n      } else if (classMap[adjustedClassName]) {\n        parentProto = classMap[adjustedClassName].prototype;\n      }\n      var ParseObjectSubclass = function (attributes, options) {\n        this.className = adjustedClassName;\n        this._objCount = objectCount++; // Enable legacy initializers\n\n        if (typeof this.initialize === 'function') {\n          this.initialize.apply(this, arguments);\n        }\n        if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n          if (!this.set(attributes || {}, options)) {\n            throw new Error(\"Can't create an invalid Parse Object\");\n          }\n        }\n      };\n      ParseObjectSubclass.className = adjustedClassName;\n      ParseObjectSubclass.__super__ = parentProto;\n      ParseObjectSubclass.prototype = (0, _create.default)(parentProto, {\n        constructor: {\n          value: ParseObjectSubclass,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      if (protoProps) {\n        for (var prop in protoProps) {\n          if (prop !== 'className') {\n            (0, _defineProperty3.default)(ParseObjectSubclass.prototype, prop, {\n              value: protoProps[prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n      if (classProps) {\n        for (var _prop in classProps) {\n          if (_prop !== 'className') {\n            (0, _defineProperty3.default)(ParseObjectSubclass, _prop, {\n              value: classProps[_prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n      ParseObjectSubclass.extend = function (name, protoProps, classProps) {\n        if (typeof name === 'string') {\n          return ParseObject.extend.call(ParseObjectSubclass, name, protoProps, classProps);\n        }\n        return ParseObject.extend.call(ParseObjectSubclass, adjustedClassName, name, protoProps);\n      };\n      ParseObjectSubclass.createWithoutData = ParseObject.createWithoutData;\n      classMap[adjustedClassName] = ParseObjectSubclass;\n      return ParseObjectSubclass;\n    }\n    /**\n     * Enable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * This is disabled by default in server environments, since it can lead to\n     * security issues.\n     *\n     * @static\n     */\n  }, {\n    key: \"enableSingleInstance\",\n    value: function () {\n      singleInstance = true;\n      _CoreManager.default.setObjectStateController(SingleInstanceStateController);\n    }\n    /**\n     * Disable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * When disabled, you can have two instances of the same object in memory\n     * without them sharing attributes.\n     *\n     * @static\n     */\n  }, {\n    key: \"disableSingleInstance\",\n    value: function () {\n      singleInstance = false;\n      _CoreManager.default.setObjectStateController(UniqueInstanceStateController);\n    }\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await Parse.Object.pinAll([...]);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPin()</code>\n     *\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     * @static\n     */\n  }, {\n    key: \"pinAll\",\n    value: function (objects\n    /*: Array<ParseObject>*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return ParseObject.pinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, objects);\n    }\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore, recursively.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await Parse.Object.pinAllWithName(name, [obj1, obj2, ...]);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPinWithName(name)</code>\n     *\n     * @param {string} name Name of Pin.\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     * @static\n     */\n  }, {\n    key: \"pinAllWithName\",\n    value: function (name\n    /*: string*/, objects\n    /*: Array<ParseObject>*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return localDatastore._handlePinAllWithName(name, objects);\n    }\n    /**\n     * Asynchronously removes the objects and every object they point to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * <pre>\n     * await Parse.Object.unPinAll([...]);\n     * </pre>\n     *\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n  }, {\n    key: \"unPinAll\",\n    value: function (objects\n    /*: Array<ParseObject>*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return ParseObject.unPinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, objects);\n    }\n    /**\n     * Asynchronously removes the objects and every object they point to in the local datastore, recursively.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllWithName(name, [obj1, obj2, ...]);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n  }, {\n    key: \"unPinAllWithName\",\n    value: function (name\n    /*: string*/, objects\n    /*: Array<ParseObject>*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return localDatastore._handleUnPinAllWithName(name, objects);\n    }\n    /**\n     * Asynchronously removes all objects in the local datastore using a default pin name: _default.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllObjects();\n     * </pre>\n     *\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n  }, {\n    key: \"unPinAllObjects\",\n    value: function () /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return localDatastore.unPinWithName(_LocalDatastoreUtils.DEFAULT_PIN);\n    }\n    /**\n     * Asynchronously removes all objects with the specified pin name.\n     * Deletes the pin name also.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllObjectsWithName(name);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n  }, {\n    key: \"unPinAllObjectsWithName\",\n    value: function (name\n    /*: string*/) /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n      return localDatastore.unPinWithName(_LocalDatastoreUtils.PIN_PREFIX + name);\n    }\n  }]);\n  return ParseObject;\n}();\nvar DefaultController = {\n  fetch: function (target\n  /*: ParseObject | Array<ParseObject>*/, forceFetch\n  /*: boolean*/, options\n  /*: RequestOptions*/) /*: Promise<Array<void> | ParseObject>*/\n  {\n    var localDatastore = _CoreManager.default.getLocalDatastore();\n    if ((0, _isArray.default)(target)) {\n      if (target.length < 1) {\n        return _promise.default.resolve([]);\n      }\n      var objs = [];\n      var ids = [];\n      var className = null;\n      var results = [];\n      var error = null;\n      (0, _forEach.default)(target).call(target, function (el) {\n        if (error) {\n          return;\n        }\n        if (!className) {\n          // eslint-disable-next-line prefer-destructuring\n          className = el.className;\n        }\n        if (className !== el.className) {\n          error = new _ParseError.default(_ParseError.default.INVALID_CLASS_NAME, 'All objects should be of the same class');\n        }\n        if (!el.id) {\n          error = new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'All objects must have an ID');\n        }\n        if (forceFetch || !el.isDataAvailable()) {\n          ids.push(el.id);\n          objs.push(el);\n        }\n        results.push(el);\n      });\n      if (error) {\n        return _promise.default.reject(error);\n      }\n      var query = new _ParseQuery.default(className);\n      query.containedIn('objectId', ids);\n      if (options && options.include) {\n        query.include(options.include);\n      }\n      query._limit = ids.length;\n      return (0, _find.default)(query).call(query, options).then( /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(objects) {\n          var idMap, i, obj, _i, _obj, id, _iterator2, _step2, object;\n          return _regenerator.default.wrap(function (_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  idMap = {};\n                  (0, _forEach.default)(objects).call(objects, function (o) {\n                    idMap[o.id] = o;\n                  });\n                  i = 0;\n                case 3:\n                  if (!(i < objs.length)) {\n                    _context8.next = 11;\n                    break;\n                  }\n                  obj = objs[i];\n                  if (!(!obj || !obj.id || !idMap[obj.id])) {\n                    _context8.next = 8;\n                    break;\n                  }\n                  if (!forceFetch) {\n                    _context8.next = 8;\n                    break;\n                  }\n                  return _context8.abrupt(\"return\", _promise.default.reject(new _ParseError.default(_ParseError.default.OBJECT_NOT_FOUND, 'All objects must exist on the server.')));\n                case 8:\n                  i++;\n                  _context8.next = 3;\n                  break;\n                case 11:\n                  if (!singleInstance) {\n                    // If single instance objects are disabled, we need to replace the\n                    for (_i = 0; _i < results.length; _i++) {\n                      _obj = results[_i];\n                      if (_obj && _obj.id && idMap[_obj.id]) {\n                        id = _obj.id;\n                        _obj._finishFetch(idMap[id].toJSON());\n                        results[_i] = idMap[id];\n                      }\n                    }\n                  }\n                  _iterator2 = _createForOfIteratorHelper(results);\n                  _context8.prev = 13;\n                  _iterator2.s();\n                case 15:\n                  if ((_step2 = _iterator2.n()).done) {\n                    _context8.next = 21;\n                    break;\n                  }\n                  object = _step2.value;\n                  _context8.next = 19;\n                  return localDatastore._updateObjectIfPinned(object);\n                case 19:\n                  _context8.next = 15;\n                  break;\n                case 21:\n                  _context8.next = 26;\n                  break;\n                case 23:\n                  _context8.prev = 23;\n                  _context8.t0 = _context8[\"catch\"](13);\n                  _iterator2.e(_context8.t0);\n                case 26:\n                  _context8.prev = 26;\n                  _iterator2.f();\n                  return _context8.finish(26);\n                case 29:\n                  return _context8.abrupt(\"return\", _promise.default.resolve(results));\n                case 30:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee4, null, [[13, 23, 26, 29]]);\n        }));\n        return function () {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n    if (target instanceof ParseObject) {\n      var _context9;\n      if (!target.id) {\n        return _promise.default.reject(new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'Object does not have an ID'));\n      }\n      var RESTController = _CoreManager.default.getRESTController();\n      var params = {};\n      if (options && options.include) {\n        params.include = options.include.join();\n      }\n      return RESTController.request('GET', (0, _concat.default)(_context9 = \"classes/\".concat(target.className, \"/\")).call(_context9, target._getId()), params, options).then( /*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(response) {\n          return _regenerator.default.wrap(function (_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  target._clearPendingOps();\n                  target._clearServerData();\n                  target._finishFetch(response);\n                  _context10.next = 5;\n                  return localDatastore._updateObjectIfPinned(target);\n                case 5:\n                  return _context10.abrupt(\"return\", target);\n                case 6:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee5);\n        }));\n        return function () {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n    return _promise.default.resolve();\n  },\n  destroy: function (target\n  /*: ParseObject | Array<ParseObject>*/, options\n  /*: RequestOptions*/) /*: Promise<Array<void> | ParseObject>*/\n  {\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n      var batchSize, localDatastore, RESTController, batches, deleteCompleted, errors, _context14;\n      return _regenerator.default.wrap(function (_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n              batchSize = options && options.batchSize ? options.batchSize : _CoreManager.default.get('REQUEST_BATCH_SIZE');\n              localDatastore = _CoreManager.default.getLocalDatastore();\n              RESTController = _CoreManager.default.getRESTController();\n              if (!(0, _isArray.default)(target)) {\n                _context16.next = 13;\n                break;\n              }\n              if (!(target.length < 1)) {\n                _context16.next = 6;\n                break;\n              }\n              return _context16.abrupt(\"return\", _promise.default.resolve([]));\n            case 6:\n              batches = [[]];\n              (0, _forEach.default)(target).call(target, function (obj) {\n                if (!obj.id) {\n                  return;\n                }\n                batches[batches.length - 1].push(obj);\n                if (batches[batches.length - 1].length >= batchSize) {\n                  batches.push([]);\n                }\n              });\n              if (batches[batches.length - 1].length === 0) {\n                // If the last batch is empty, remove it\n                batches.pop();\n              }\n              deleteCompleted = _promise.default.resolve();\n              errors = [];\n              (0, _forEach.default)(batches).call(batches, function (batch) {\n                deleteCompleted = deleteCompleted.then(function () {\n                  return RESTController.request('POST', 'batch', {\n                    requests: (0, _map.default)(batch).call(batch, function (obj) {\n                      var _context11, _context12;\n                      return {\n                        method: 'DELETE',\n                        path: (0, _concat.default)(_context11 = (0, _concat.default)(_context12 = \"\".concat(getServerUrlPath(), \"classes/\")).call(_context12, obj.className, \"/\")).call(_context11, obj._getId()),\n                        body: {}\n                      };\n                    })\n                  }, options).then(function (results) {\n                    for (var i = 0; i < results.length; i++) {\n                      if (results[i] && results[i].hasOwnProperty('error')) {\n                        var err = new _ParseError.default(results[i].error.code, results[i].error.error);\n                        err.object = batch[i];\n                        errors.push(err);\n                      }\n                    }\n                  });\n                });\n              });\n              return _context16.abrupt(\"return\", deleteCompleted.then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n                var aggregate, _iterator3, _step3, object;\n                return _regenerator.default.wrap(function (_context13) {\n                  while (1) {\n                    switch (_context13.prev = _context13.next) {\n                      case 0:\n                        if (!errors.length) {\n                          _context13.next = 4;\n                          break;\n                        }\n                        aggregate = new _ParseError.default(_ParseError.default.AGGREGATE_ERROR);\n                        aggregate.errors = errors;\n                        return _context13.abrupt(\"return\", _promise.default.reject(aggregate));\n                      case 4:\n                        _iterator3 = _createForOfIteratorHelper(target);\n                        _context13.prev = 5;\n                        _iterator3.s();\n                      case 7:\n                        if ((_step3 = _iterator3.n()).done) {\n                          _context13.next = 13;\n                          break;\n                        }\n                        object = _step3.value;\n                        _context13.next = 11;\n                        return localDatastore._destroyObjectIfPinned(object);\n                      case 11:\n                        _context13.next = 7;\n                        break;\n                      case 13:\n                        _context13.next = 18;\n                        break;\n                      case 15:\n                        _context13.prev = 15;\n                        _context13.t0 = _context13[\"catch\"](5);\n                        _iterator3.e(_context13.t0);\n                      case 18:\n                        _context13.prev = 18;\n                        _iterator3.f();\n                        return _context13.finish(18);\n                      case 21:\n                        return _context13.abrupt(\"return\", _promise.default.resolve(target));\n                      case 22:\n                      case \"end\":\n                        return _context13.stop();\n                    }\n                  }\n                }, _callee6, null, [[5, 15, 18, 21]]);\n              }))));\n            case 13:\n              if (!(target instanceof ParseObject)) {\n                _context16.next = 15;\n                break;\n              }\n              return _context16.abrupt(\"return\", RESTController.request('DELETE', (0, _concat.default)(_context14 = \"classes/\".concat(target.className, \"/\")).call(_context14, target._getId()), {}, options).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n                return _regenerator.default.wrap(function (_context15) {\n                  while (1) {\n                    switch (_context15.prev = _context15.next) {\n                      case 0:\n                        _context15.next = 2;\n                        return localDatastore._destroyObjectIfPinned(target);\n                      case 2:\n                        return _context15.abrupt(\"return\", _promise.default.resolve(target));\n                      case 3:\n                      case \"end\":\n                        return _context15.stop();\n                    }\n                  }\n                }, _callee7);\n              }))));\n            case 15:\n              return _context16.abrupt(\"return\", _promise.default.resolve(target));\n            case 16:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, _callee8);\n    }))();\n  },\n  save: function (target\n  /*: ParseObject | Array<ParseObject | ParseFile>*/, options\n  /*: RequestOptions*/) {\n    var batchSize = options && options.batchSize ? options.batchSize : _CoreManager.default.get('REQUEST_BATCH_SIZE');\n    var localDatastore = _CoreManager.default.getLocalDatastore();\n    var mapIdForPin = {};\n    var RESTController = _CoreManager.default.getRESTController();\n    var stateController = _CoreManager.default.getObjectStateController();\n    options = options || {};\n    options.returnStatus = options.returnStatus || true;\n    if ((0, _isArray.default)(target)) {\n      if (target.length < 1) {\n        return _promise.default.resolve([]);\n      }\n      var unsaved = (0, _concat.default)(target).call(target);\n      for (var i = 0; i < target.length; i++) {\n        if (target[i] instanceof ParseObject) {\n          unsaved = (0, _concat.default)(unsaved).call(unsaved, (0, _unsavedChildren.default)(target[i], true));\n        }\n      }\n      unsaved = (0, _unique.default)(unsaved);\n      var filesSaved\n      /*: Array<ParseFile>*/ = [];\n      var pending\n      /*: Array<ParseObject>*/ = [];\n      (0, _forEach.default)(unsaved).call(unsaved, function (el) {\n        if (el instanceof _ParseFile.default) {\n          filesSaved.push(el.save(options));\n        } else if (el instanceof ParseObject) {\n          pending.push(el);\n        }\n      });\n      return _promise.default.all(filesSaved).then(function () {\n        var objectError = null;\n        return (0, _promiseUtils.continueWhile)(function () {\n          return pending.length > 0;\n        }, function () {\n          var batch = [];\n          var nextPending = [];\n          (0, _forEach.default)(pending).call(pending, function (el) {\n            if (batch.length < batchSize && (0, _canBeSerialized.default)(el)) {\n              batch.push(el);\n            } else {\n              nextPending.push(el);\n            }\n          });\n          pending = nextPending;\n          if (batch.length < 1) {\n            return _promise.default.reject(new _ParseError.default(_ParseError.default.OTHER_CAUSE, 'Tried to save a batch with a cycle.'));\n          } // Queue up tasks for each object in the batch.\n          // When every task is ready, the API request will execute\n\n          var batchReturned = new _promiseUtils.resolvingPromise();\n          var batchReady = [];\n          var batchTasks = [];\n          (0, _forEach.default)(batch).call(batch, function (obj, index) {\n            var ready = new _promiseUtils.resolvingPromise();\n            batchReady.push(ready);\n            stateController.pushPendingState(obj._getStateIdentifier());\n            batchTasks.push(stateController.enqueueTask(obj._getStateIdentifier(), function () {\n              ready.resolve();\n              return batchReturned.then(function (responses) {\n                if (responses[index].hasOwnProperty('success')) {\n                  var objectId = responses[index].success.objectId;\n                  var status = responses[index]._status;\n                  delete responses[index]._status;\n                  mapIdForPin[objectId] = obj._localId;\n                  obj._handleSaveResponse(responses[index].success, status);\n                } else {\n                  if (!objectError && responses[index].hasOwnProperty('error')) {\n                    var serverError = responses[index].error;\n                    objectError = new _ParseError.default(serverError.code, serverError.error); // Cancel the rest of the save\n\n                    pending = [];\n                  }\n                  obj._handleSaveError();\n                }\n              });\n            }));\n          });\n          (0, _promiseUtils.when)(batchReady).then(function () {\n            // Kick off the batch request\n            return RESTController.request('POST', 'batch', {\n              requests: (0, _map.default)(batch).call(batch, function (obj) {\n                var params = obj._getSaveParams();\n                params.path = getServerUrlPath() + params.path;\n                return params;\n              })\n            }, options);\n          }).then(batchReturned.resolve, function (error) {\n            batchReturned.reject(new _ParseError.default(_ParseError.default.INCORRECT_TYPE, error.message));\n          });\n          return (0, _promiseUtils.when)(batchTasks);\n        }).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {\n          var _iterator4, _step4, object;\n          return _regenerator.default.wrap(function (_context17) {\n            while (1) {\n              switch (_context17.prev = _context17.next) {\n                case 0:\n                  if (!objectError) {\n                    _context17.next = 2;\n                    break;\n                  }\n                  return _context17.abrupt(\"return\", _promise.default.reject(objectError));\n                case 2:\n                  _iterator4 = _createForOfIteratorHelper(target);\n                  _context17.prev = 3;\n                  _iterator4.s();\n                case 5:\n                  if ((_step4 = _iterator4.n()).done) {\n                    _context17.next = 13;\n                    break;\n                  }\n                  object = _step4.value;\n                  _context17.next = 9;\n                  return localDatastore._updateLocalIdForObject(mapIdForPin[object.id], object);\n                case 9:\n                  _context17.next = 11;\n                  return localDatastore._updateObjectIfPinned(object);\n                case 11:\n                  _context17.next = 5;\n                  break;\n                case 13:\n                  _context17.next = 18;\n                  break;\n                case 15:\n                  _context17.prev = 15;\n                  _context17.t0 = _context17[\"catch\"](3);\n                  _iterator4.e(_context17.t0);\n                case 18:\n                  _context17.prev = 18;\n                  _iterator4.f();\n                  return _context17.finish(18);\n                case 21:\n                  return _context17.abrupt(\"return\", _promise.default.resolve(target));\n                case 22:\n                case \"end\":\n                  return _context17.stop();\n              }\n            }\n          }, _callee9, null, [[3, 15, 18, 21]]);\n        })));\n      });\n    }\n    if (target instanceof ParseObject) {\n      // generate _localId in case if cascadeSave=false\n      target._getId();\n      var localId = target._localId; // copying target lets Flow guarantee the pointer isn't modified elsewhere\n\n      var targetCopy = target;\n      var task = function () {\n        var params = targetCopy._getSaveParams();\n        return RESTController.request(params.method, params.path, params.body, options).then(function (response) {\n          var status = response._status;\n          delete response._status;\n          targetCopy._handleSaveResponse(response, status);\n        }, function (error) {\n          targetCopy._handleSaveError();\n          return _promise.default.reject(error);\n        });\n      };\n      stateController.pushPendingState(target._getStateIdentifier());\n      return stateController.enqueueTask(target._getStateIdentifier(), task).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n        return _regenerator.default.wrap(function (_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                _context18.next = 2;\n                return localDatastore._updateLocalIdForObject(localId, target);\n              case 2:\n                _context18.next = 4;\n                return localDatastore._updateObjectIfPinned(target);\n              case 4:\n                return _context18.abrupt(\"return\", target);\n              case 5:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee10);\n      })), function (error) {\n        return _promise.default.reject(error);\n      });\n    }\n    return _promise.default.resolve();\n  }\n};\n_CoreManager.default.setObjectController(DefaultController);\nvar _default = ParseObject;\nexports.default = _default;","map":{"version":3,"names":["_typeof3","require","_Object$keys2","_Object$getOwnPropertySymbols","_filterInstanceProperty","_Object$getOwnPropertyDescriptor","_forEachInstanceProperty2","_Object$getOwnPropertyDescriptors","_Object$defineProperties","_Object$defineProperty2","_sliceInstanceProperty","_Array$from","_Symbol","_getIteratorMethod","_Array$isArray2","_WeakMap","_interopRequireDefault","exports","value","default","_regenerator","_asyncToGenerator2","_typeof2","_classCallCheck2","_createClass2","_defineProperty2","_indexOf","_freeze","_keys","_forEach","_stringify","_includes","_getPrototypeOf","_concat","_isArray","_promise","_create","_defineProperty3","_find","_map","_CoreManager","_canBeSerialized","_decode","_encode","_escape2","_ParseACL","_parseDate","_ParseError","_ParseFile","_promiseUtils","_LocalDatastoreUtils","_ParseOp","_ParseQuery","_ParseRelation","SingleInstanceStateController","_interopRequireWildcard","_unique","UniqueInstanceStateController","_unsavedChildren","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","key","Object","prototype","hasOwnProperty","call","desc","set","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","minLen","_context21","_arrayLikeToArray","toString","constructor","name","test","arr","len","arr2","Array","ownKeys","object","enumerableOnly","keys","symbols","sym","enumerable","push","apply","_objectSpread","target","arguments","_context19","_context20","source","_require","uuidv4","v4","classMap","objectCount","singleInstance","setObjectStateController","getServerUrlPath","serverUrl","url","replace","substr","ParseObject","className","attributes","options","initialize","toSet","_objCount","_attr","Error","stateController","getObjectStateController","estimateAttributes","_getStateIdentifier","_getServerData","createdAt","updatedAt","id","_localId","localId","concat","_getId","getServerData","serverData","unset","_attr2","undefined","setServerData","getPendingOps","keysToClear","pending","_getPendingOps","latest","objectCache","getObjectCache","dirty","_attr3","val","json","stringified","seen","offline","toJSON","__type","dirtyObjects","_getDirtyObjectAttributes","attr","isDotNotation","field","fieldName","split","SetOp","method","body","_getSaveJSON","path","objectId","initializeState","decoded","_attr4","_ensureParentAndKey","commitServerChanges","existed","state","getState","serverId","oldState","removeState","response","status","changes","popPendingState","RelationOp","applyTo","UnsetOp","_migrateId","_setExisted","mergeFirstPendingState","_context","seenEntry","attrs","_attr5","_attr6","other","pendingOps","_attr7","_attr8","newOps","readonly","readOnlyAttributes","k","Op","__op","opFromJSON","relation","targetClassName","currentAttributes","newValues","_attr9","ignoreValidation","validation","validate","error","last","_attr10","nextOp","mergeWith","setPendingOp","amount","IncrementOp","item","AddOp","items","AddUniqueOp","RemoveOp","clone","copy","a","duplicateState","_exists","mark","_callee","query","wrap","_context2","prev","abrupt","t0","code","OBJECT_NOT_FOUND","stop","ACL","OTHER_CAUSE","_key","INVALID_KEY_NAME","acl","keysToRevert","_len","_key2","_iterator","_step","_key3","_clearPendingOps","erasable","_attr11","fetchOptions","useMasterKey","sessionToken","context","include","_context3","_context4","controller","getObjectController","fetch","arg1","arg2","arg3","_this","reject","saveOptions","installationId","unsaved","cascadeSave","save","then","destroyOptions","resolve","destroy","pinAllWithName","DEFAULT_PIN","unPinAllWithName","_isPinned","_callee2","localDatastore","objectKey","pin","_context5","getLocalDatastore","isEnabled","getKeyForObject","fromPinWithName","sent","_fetchFromLocalDatastore","_callee3","pinned","result","_context6","_serializeObject","fromJSON","_finishFetch","clearAllState","list","queryOptions","handleIncludeOptions","fetchAll","fetchAllIfNeeded","_context7","batchSize","override","otherAttributes","_attr12","preserved","_preserveFieldsOnFetch","_clearServerData","protoProps","classProps","extend","adjustedClassName","parentProto","__super__","ParseObjectSubclass","writable","configurable","prop","_prop","createWithoutData","objects","_handlePinAllWithName","_handleUnPinAllWithName","unPinWithName","PIN_PREFIX","DefaultController","forceFetch","objs","ids","results","el","INVALID_CLASS_NAME","MISSING_OBJECT_ID","isDataAvailable","containedIn","_limit","_ref","_callee4","idMap","_i","_obj","_iterator2","_step2","_context8","_updateObjectIfPinned","finish","_context9","RESTController","getRESTController","params","join","request","_ref2","_callee5","_context10","_callee8","batches","deleteCompleted","errors","_context14","_context16","pop","batch","requests","_context11","_context12","_callee6","aggregate","_iterator3","_step3","_context13","AGGREGATE_ERROR","_destroyObjectIfPinned","_callee7","_context15","mapIdForPin","returnStatus","filesSaved","all","objectError","continueWhile","nextPending","batchReturned","resolvingPromise","batchReady","batchTasks","index","ready","pushPendingState","enqueueTask","responses","success","_status","_handleSaveResponse","serverError","_handleSaveError","when","_getSaveParams","INCORRECT_TYPE","message","_callee9","_iterator4","_step4","_context17","_updateLocalIdForObject","targetCopy","task","_callee10","_context18","setObjectController","_default"],"sources":["/Users/shivamsoni/Desktop/router/pingspong/Ping-Pong/node_modules/moralis/lib/browser/ParseObject.js"],"sourcesContent":["\"use strict\";\n\nvar _typeof3 = require(\"@babel/runtime-corejs3/helpers/typeof\");\n\nvar _Object$keys2 = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\n\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\");\n\nvar _filterInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\n\nvar _forEachInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\");\n\nvar _Object$getOwnPropertyDescriptors = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\");\n\nvar _Object$defineProperties = require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\");\n\nvar _Object$defineProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _WeakMap = require(\"@babel/runtime-corejs3/core-js-stable/weak-map\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty2(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\n\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/get-prototype-of\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/create\"));\n\nvar _defineProperty3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\"));\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\n\nvar _canBeSerialized = _interopRequireDefault(require(\"./canBeSerialized\"));\n\nvar _decode = _interopRequireDefault(require(\"./decode\"));\n\nvar _encode = _interopRequireDefault(require(\"./encode\"));\n\nvar _escape2 = _interopRequireDefault(require(\"./escape\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _parseDate = _interopRequireDefault(require(\"./parseDate\"));\n\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _promiseUtils = require(\"./promiseUtils\");\n\nvar _LocalDatastoreUtils = require(\"./LocalDatastoreUtils\");\n\nvar _ParseOp = require(\"./ParseOp\");\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n\nvar SingleInstanceStateController = _interopRequireWildcard(require(\"./SingleInstanceStateController\"));\n\nvar _unique = _interopRequireDefault(require(\"./unique\"));\n\nvar UniqueInstanceStateController = _interopRequireWildcard(require(\"./UniqueInstanceStateController\"));\n\nvar _unsavedChildren = _interopRequireDefault(require(\"./unsavedChildren\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof _WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new _WeakMap();\n  var cacheNodeInterop = new _WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = _Object$defineProperty2 && _Object$getOwnPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        _Object$defineProperty2(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n\n  if (!it) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context21;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context21 = Object.prototype.toString.call(o)).call(_context21, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = _Object$keys2(object);\n\n  if (_Object$getOwnPropertySymbols) {\n    var symbols = _Object$getOwnPropertySymbols(object);\n\n    enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) {\n      return _Object$getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var _context19, _context20;\n\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? _forEachInstanceProperty2(_context19 = ownKeys(Object(source), !0)).call(_context19, function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : _forEachInstanceProperty2(_context20 = ownKeys(Object(source))).call(_context20, function (key) {\n      _Object$defineProperty2(target, key, _Object$getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar _require = require('uuid'),\n    uuidv4 = _require.v4;\n/*:: export type Pointer = {\n  __type: string,\n  className: string,\n  objectId: string,\n};*/\n\n/*:: type SaveParams = {\n  method: string,\n  path: string,\n  body: AttributeMap,\n};*/\n\n/*:: type SaveOptions = FullOptions & {\n  cascadeSave?: boolean,\n  context?: AttributeMap,\n};*/\n// Mapping of class names to constructors, so we can populate objects from the\n// server with appropriate subclasses of ParseObject\n\n\nvar classMap = {}; // Global counter for generating unique Ids for non-single-instance objects\n\nvar objectCount = 0; // On web clients, objects are single-instance: any two objects with the same Id\n// will have the same attributes. However, this may be dangerous default\n// behavior in a server scenario\n\nvar singleInstance = !_CoreManager.default.get('IS_NODE');\n\nif (singleInstance) {\n  _CoreManager.default.setObjectStateController(SingleInstanceStateController);\n} else {\n  _CoreManager.default.setObjectStateController(UniqueInstanceStateController);\n}\n\nfunction getServerUrlPath() {\n  var serverUrl = _CoreManager.default.get('SERVER_URL');\n\n  if (serverUrl[serverUrl.length - 1] !== '/') {\n    serverUrl += '/';\n  }\n\n  var url = serverUrl.replace(/https?:\\/\\//, '');\n  return url.substr((0, _indexOf.default)(url).call(url, '/'));\n}\n/**\n * Creates a new model with defined attributes.\n *\n * <p>You won't normally call this method directly.  It is recommended that\n * you use a subclass of <code>Parse.Object</code> instead, created by calling\n * <code>extend</code>.</p>\n *\n * <p>However, if you don't want to use a subclass, or aren't sure which\n * subclass is appropriate, you can use this form:<pre>\n *     var object = new Parse.Object(\"ClassName\");\n * </pre>\n * That is basically equivalent to:<pre>\n *     var MyClass = Parse.Object.extend(\"ClassName\");\n *     var object = new MyClass();\n * </pre></p>\n *\n * @alias Parse.Object\n */\n\n\nvar ParseObject = /*#__PURE__*/function () {\n  /**\n   * @param {string} className The class name for the object\n   * @param {object} attributes The initial set of data to store in the object.\n   * @param {object} options The options for this object instance.\n   */\n  function ParseObject(className\n  /*: ?string | { className: string, [attr: string]: mixed }*/\n  , attributes\n  /*:: ?: { [attr: string]: mixed }*/\n  , options\n  /*:: ?: { ignoreValidation: boolean }*/\n  ) {\n    (0, _classCallCheck2.default)(this, ParseObject);\n    (0, _defineProperty2.default)(this, \"id\", void 0);\n    (0, _defineProperty2.default)(this, \"_localId\", void 0);\n    (0, _defineProperty2.default)(this, \"_objCount\", void 0);\n    (0, _defineProperty2.default)(this, \"className\", void 0); // Enable legacy initializers\n\n    if (typeof this.initialize === 'function') {\n      this.initialize.apply(this, arguments);\n    }\n\n    var toSet = null;\n    this._objCount = objectCount++;\n\n    if (typeof className === 'string') {\n      this.className = className;\n\n      if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n        toSet = attributes;\n      }\n    } else if (className && (0, _typeof2.default)(className) === 'object') {\n      this.className = className.className;\n      toSet = {};\n\n      for (var _attr in className) {\n        if (_attr !== 'className') {\n          toSet[_attr] = className[_attr];\n        }\n      }\n\n      if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n        options = attributes;\n      }\n    }\n\n    if (toSet && !this.set(toSet, options)) {\n      throw new Error(\"Can't create an invalid Parse Object\");\n    }\n  }\n  /**\n   * The ID of this object, unique within its class.\n   *\n   * @property {string} id\n   */\n\n\n  (0, _createClass2.default)(ParseObject, [{\n    key: \"attributes\",\n    get:\n    /** Prototype getters / setters * */\n    function ()\n    /*: AttributeMap*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      return (0, _freeze.default)(stateController.estimateAttributes(this._getStateIdentifier()));\n    }\n    /**\n     * The first time this object was saved on the server.\n     *\n     * @property {Date} createdAt\n     * @returns {Date}\n     */\n\n  }, {\n    key: \"createdAt\",\n    get: function ()\n    /*: ?Date*/\n    {\n      return this._getServerData().createdAt;\n    }\n    /**\n     * The last time this object was updated on the server.\n     *\n     * @property {Date} updatedAt\n     * @returns {Date}\n     */\n\n  }, {\n    key: \"updatedAt\",\n    get: function ()\n    /*: ?Date*/\n    {\n      return this._getServerData().updatedAt;\n    }\n    /** Private methods * */\n\n    /**\n     * Returns a local or server Id used uniquely identify this object\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: \"_getId\",\n    value: function ()\n    /*: string*/\n    {\n      if (typeof this.id === 'string') {\n        return this.id;\n      }\n\n      if (typeof this._localId === 'string') {\n        return this._localId;\n      }\n\n      var localId = \"local\".concat(uuidv4());\n      this._localId = localId;\n      return localId;\n    }\n    /**\n     * Returns a unique identifier used to pull data from the State Controller.\n     *\n     * @returns {Parse.Object|object}\n     */\n\n  }, {\n    key: \"_getStateIdentifier\",\n    value: function ()\n    /*: ParseObject | { id: string, className: string }*/\n    {\n      if (singleInstance) {\n        var id = this.id;\n\n        if (!id) {\n          id = this._getId();\n        }\n\n        return {\n          id: id,\n          className: this.className\n        };\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_getServerData\",\n    value: function ()\n    /*: AttributeMap*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      return stateController.getServerData(this._getStateIdentifier());\n    }\n  }, {\n    key: \"_clearServerData\",\n    value: function () {\n      var serverData = this._getServerData();\n\n      var unset = {};\n\n      for (var _attr2 in serverData) {\n        unset[_attr2] = undefined;\n      }\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      stateController.setServerData(this._getStateIdentifier(), unset);\n    }\n  }, {\n    key: \"_getPendingOps\",\n    value: function ()\n    /*: Array<OpsMap>*/\n    {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      return stateController.getPendingOps(this._getStateIdentifier());\n    }\n    /**\n     * @param {Array<string>} [keysToClear] - if specified, only ops matching\n     * these fields will be cleared\n     */\n\n  }, {\n    key: \"_clearPendingOps\",\n    value: function (keysToClear\n    /*:: ?: Array<string>*/\n    ) {\n      var pending = this._getPendingOps();\n\n      var latest = pending[pending.length - 1];\n      var keys = keysToClear || (0, _keys.default)(latest);\n      (0, _forEach.default)(keys).call(keys, function (key) {\n        delete latest[key];\n      });\n    }\n  }, {\n    key: \"_getDirtyObjectAttributes\",\n    value: function ()\n    /*: AttributeMap*/\n    {\n      var attributes = this.attributes;\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      var objectCache = stateController.getObjectCache(this._getStateIdentifier());\n      var dirty = {};\n\n      for (var _attr3 in attributes) {\n        var val = attributes[_attr3];\n\n        if (val && (0, _typeof2.default)(val) === 'object' && !(val instanceof ParseObject) && !(val instanceof _ParseFile.default) && !(val instanceof _ParseRelation.default)) {\n          // Due to the way browsers construct maps, the key order will not change\n          // unless the object is changed\n          try {\n            var json = (0, _encode.default)(val, false, true);\n            var stringified = (0, _stringify.default)(json);\n\n            if (objectCache[_attr3] !== stringified) {\n              dirty[_attr3] = val;\n            }\n          } catch (e) {\n            // Error occurred, possibly by a nested unsaved pointer in a mutable container\n            // No matter how it happened, it indicates a change in the attribute\n            dirty[_attr3] = val;\n          }\n        }\n      }\n\n      return dirty;\n    }\n  }, {\n    key: \"_toFullJSON\",\n    value: function (seen\n    /*:: ?: Array<any>*/\n    , offline\n    /*:: ?: boolean*/\n    )\n    /*: AttributeMap*/\n    {\n      var json\n      /*: { [key: string]: mixed }*/\n      = this.toJSON(seen, offline);\n      json.__type = 'Object';\n      json.className = this.className;\n      return json;\n    }\n  }, {\n    key: \"_getSaveJSON\",\n    value: function ()\n    /*: AttributeMap*/\n    {\n      var pending = this._getPendingOps();\n\n      var dirtyObjects = this._getDirtyObjectAttributes();\n\n      var json = {};\n\n      for (var attr in dirtyObjects) {\n        var isDotNotation = false;\n\n        for (var i = 0; i < pending.length; i += 1) {\n          for (var field in pending[i]) {\n            // Dot notation operations are handled later\n            if ((0, _includes.default)(field).call(field, '.')) {\n              var fieldName = field.split('.')[0];\n\n              if (fieldName === attr) {\n                isDotNotation = true;\n                break;\n              }\n            }\n          }\n        }\n\n        if (!isDotNotation) {\n          json[attr] = new _ParseOp.SetOp(dirtyObjects[attr]).toJSON();\n        }\n      }\n\n      for (attr in pending[0]) {\n        json[attr] = pending[0][attr].toJSON();\n      }\n\n      return json;\n    }\n  }, {\n    key: \"_getSaveParams\",\n    value: function ()\n    /*: SaveParams*/\n    {\n      var method = this.id ? 'PUT' : 'POST';\n\n      var body = this._getSaveJSON();\n\n      var path = \"classes/\".concat(this.className);\n\n      if (this.id) {\n        path += \"/\".concat(this.id);\n      } else if (this.className === '_User') {\n        path = 'users';\n      }\n\n      return {\n        method: method,\n        body: body,\n        path: path\n      };\n    }\n  }, {\n    key: \"_finishFetch\",\n    value: function (serverData\n    /*: AttributeMap*/\n    ) {\n      if (!this.id && serverData.objectId) {\n        this.id = serverData.objectId;\n      }\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      stateController.initializeState(this._getStateIdentifier());\n      var decoded = {};\n\n      for (var _attr4 in serverData) {\n        if (_attr4 === 'ACL') {\n          decoded[_attr4] = new _ParseACL.default(serverData[_attr4]);\n        } else if (_attr4 !== 'objectId') {\n          decoded[_attr4] = (0, _decode.default)(serverData[_attr4]);\n\n          if (decoded[_attr4] instanceof _ParseRelation.default) {\n            decoded[_attr4]._ensureParentAndKey(this, _attr4);\n          }\n        }\n      }\n\n      if (decoded.createdAt && typeof decoded.createdAt === 'string') {\n        decoded.createdAt = (0, _parseDate.default)(decoded.createdAt);\n      }\n\n      if (decoded.updatedAt && typeof decoded.updatedAt === 'string') {\n        decoded.updatedAt = (0, _parseDate.default)(decoded.updatedAt);\n      }\n\n      if (!decoded.updatedAt && decoded.createdAt) {\n        decoded.updatedAt = decoded.createdAt;\n      }\n\n      stateController.commitServerChanges(this._getStateIdentifier(), decoded);\n    }\n  }, {\n    key: \"_setExisted\",\n    value: function (existed\n    /*: boolean*/\n    ) {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      var state = stateController.getState(this._getStateIdentifier());\n\n      if (state) {\n        state.existed = existed;\n      }\n    }\n  }, {\n    key: \"_migrateId\",\n    value: function (serverId\n    /*: string*/\n    ) {\n      if (this._localId && serverId) {\n        if (singleInstance) {\n          var stateController = _CoreManager.default.getObjectStateController();\n\n          var oldState = stateController.removeState(this._getStateIdentifier());\n          this.id = serverId;\n          delete this._localId;\n\n          if (oldState) {\n            stateController.initializeState(this._getStateIdentifier(), oldState);\n          }\n        } else {\n          this.id = serverId;\n          delete this._localId;\n        }\n      }\n    }\n  }, {\n    key: \"_handleSaveResponse\",\n    value: function (response\n    /*: AttributeMap*/\n    , status\n    /*: number*/\n    ) {\n      var changes = {};\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      var pending = stateController.popPendingState(this._getStateIdentifier());\n\n      for (var attr in pending) {\n        if (pending[attr] instanceof _ParseOp.RelationOp) {\n          changes[attr] = pending[attr].applyTo(undefined, this, attr);\n        } else if (!(attr in response) && !(0, _includes.default)(attr).call(attr, '.')) {\n          // Only SetOps and UnsetOps should not come back with results\n          changes[attr] = pending[attr].applyTo(undefined);\n        }\n      }\n\n      for (attr in response) {\n        if ((attr === 'createdAt' || attr === 'updatedAt') && typeof response[attr] === 'string') {\n          changes[attr] = (0, _parseDate.default)(response[attr]);\n        } else if (attr === 'ACL') {\n          changes[attr] = new _ParseACL.default(response[attr]);\n        } else if (attr !== 'objectId') {\n          var val = (0, _decode.default)(response[attr]);\n\n          if (val && (0, _getPrototypeOf.default)(val) === Object.prototype) {\n            changes[attr] = _objectSpread(_objectSpread({}, this.attributes[attr]), val);\n          } else {\n            changes[attr] = val;\n          }\n\n          if (changes[attr] instanceof _ParseOp.UnsetOp) {\n            changes[attr] = undefined;\n          }\n        }\n      }\n\n      if (changes.createdAt && !changes.updatedAt) {\n        changes.updatedAt = changes.createdAt;\n      }\n\n      this._migrateId(response.objectId);\n\n      if (status !== 201) {\n        this._setExisted(true);\n      }\n\n      stateController.commitServerChanges(this._getStateIdentifier(), changes);\n    }\n  }, {\n    key: \"_handleSaveError\",\n    value: function () {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      stateController.mergeFirstPendingState(this._getStateIdentifier());\n    }\n    /** Public methods * */\n\n  }, {\n    key: \"initialize\",\n    value: function () {// NOOP\n    }\n    /**\n     * Returns a JSON version of the object suitable for saving to Parse.\n     *\n     * @param seen\n     * @param offline\n     * @returns {object}\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function (seen\n    /*: Array<any> | void*/\n    , offline\n    /*:: ?: boolean*/\n    )\n    /*: AttributeMap*/\n    {\n      var _context;\n\n      var seenEntry = this.id ? (0, _concat.default)(_context = \"\".concat(this.className, \":\")).call(_context, this.id) : this;\n      seen = seen || [seenEntry];\n      var json = {};\n      var attrs = this.attributes;\n\n      for (var _attr5 in attrs) {\n        if ((_attr5 === 'createdAt' || _attr5 === 'updatedAt') && attrs[_attr5].toJSON) {\n          json[_attr5] = attrs[_attr5].toJSON();\n        } else {\n          json[_attr5] = (0, _encode.default)(attrs[_attr5], false, false, seen, offline);\n        }\n      }\n\n      var pending = this._getPendingOps();\n\n      for (var _attr6 in pending[0]) {\n        json[_attr6] = pending[0][_attr6].toJSON(offline);\n      }\n\n      if (this.id) {\n        json.objectId = this.id;\n      }\n\n      return json;\n    }\n    /**\n     * Determines whether this ParseObject is equal to another ParseObject\n     *\n     * @param {object} other - An other object ot compare\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"equals\",\n    value: function (other\n    /*: mixed*/\n    )\n    /*: boolean*/\n    {\n      if (this === other) {\n        return true;\n      }\n\n      return other instanceof ParseObject && this.className === other.className && this.id === other.id && typeof this.id !== 'undefined';\n    }\n    /**\n     * Returns true if this object has been modified since its last\n     * save/refresh.  If an attribute is specified, it returns true only if that\n     * particular attribute has been modified since the last save/refresh.\n     *\n     * @param {string} attr An attribute name (optional).\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"dirty\",\n    value: function (attr\n    /*:: ?: string*/\n    )\n    /*: boolean*/\n    {\n      if (!this.id) {\n        return true;\n      }\n\n      var pendingOps = this._getPendingOps();\n\n      var dirtyObjects = this._getDirtyObjectAttributes();\n\n      if (attr) {\n        if (dirtyObjects.hasOwnProperty(attr)) {\n          return true;\n        }\n\n        for (var i = 0; i < pendingOps.length; i++) {\n          if (pendingOps[i].hasOwnProperty(attr)) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n\n      if ((0, _keys.default)(pendingOps[0]).length !== 0) {\n        return true;\n      }\n\n      if ((0, _keys.default)(dirtyObjects).length !== 0) {\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Returns an array of keys that have been modified since last save/refresh\n     *\n     * @returns {string[]}\n     */\n\n  }, {\n    key: \"dirtyKeys\",\n    value: function ()\n    /*: Array<string>*/\n    {\n      var pendingOps = this._getPendingOps();\n\n      var keys = {};\n\n      for (var i = 0; i < pendingOps.length; i++) {\n        for (var _attr7 in pendingOps[i]) {\n          keys[_attr7] = true;\n        }\n      }\n\n      var dirtyObjects = this._getDirtyObjectAttributes();\n\n      for (var _attr8 in dirtyObjects) {\n        keys[_attr8] = true;\n      }\n\n      return (0, _keys.default)(keys);\n    }\n    /**\n     * Returns true if the object has been fetched.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isDataAvailable\",\n    value: function ()\n    /*: boolean*/\n    {\n      var serverData = this._getServerData();\n\n      return !!(0, _keys.default)(serverData).length;\n    }\n    /**\n     * Gets a Pointer referencing this Object.\n     *\n     * @returns {Pointer}\n     */\n\n  }, {\n    key: \"toPointer\",\n    value: function ()\n    /*: Pointer*/\n    {\n      if (!this.id) {\n        throw new Error('Cannot create a pointer to an unsaved ParseObject');\n      }\n\n      return {\n        __type: 'Pointer',\n        className: this.className,\n        objectId: this.id\n      };\n    }\n    /**\n     * Gets a Pointer referencing this Object.\n     *\n     * @returns {Pointer}\n     */\n\n  }, {\n    key: \"toOfflinePointer\",\n    value: function ()\n    /*: Pointer*/\n    {\n      if (!this._localId) {\n        throw new Error('Cannot create a offline pointer to a saved ParseObject');\n      }\n\n      return {\n        __type: 'Object',\n        className: this.className,\n        _localId: this._localId\n      };\n    }\n    /**\n     * Gets the value of an attribute.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @returns {*}\n     */\n\n  }, {\n    key: \"get\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: mixed*/\n    {\n      return this.attributes[attr];\n    }\n    /**\n     * Gets a relation on the given class for the attribute.\n     *\n     * @param {string} attr The attribute to get the relation for.\n     * @returns {Parse.Relation}\n     */\n\n  }, {\n    key: \"relation\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: ParseRelation*/\n    {\n      var value = this.get(attr);\n\n      if (value) {\n        if (!(value instanceof _ParseRelation.default)) {\n          throw new Error(\"Called relation() on non-relation field \".concat(attr));\n        }\n\n        value._ensureParentAndKey(this, attr);\n\n        return value;\n      }\n\n      return new _ParseRelation.default(this, attr);\n    }\n    /**\n     * Gets the HTML-escaped value of an attribute.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @returns {string}\n     */\n\n  }, {\n    key: \"escape\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: string*/\n    {\n      var val = this.attributes[attr];\n\n      if (val == null) {\n        return '';\n      }\n\n      if (typeof val !== 'string') {\n        if (typeof val.toString !== 'function') {\n          return '';\n        }\n\n        val = val.toString();\n      }\n\n      return (0, _escape2.default)(val);\n    }\n    /**\n     * Returns <code>true</code> if the attribute contains a value that is not\n     * null or undefined.\n     *\n     * @param {string} attr The string name of the attribute.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"has\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: boolean*/\n    {\n      var attributes = this.attributes;\n\n      if (attributes.hasOwnProperty(attr)) {\n        return attributes[attr] != null;\n      }\n\n      return false;\n    }\n    /**\n     * Sets a hash of model attributes on the object.\n     *\n     * <p>You can call it with an object containing keys and values, with one\n     * key and value, or dot notation.  For example:<pre>\n     *   gameTurn.set({\n     *     player: player1,\n     *     diceRoll: 2\n     *   }, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"currentPlayer\", player2, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"finished\", true);</pre></p>\n     *\n     *   game.set(\"player.score\", 10);</pre></p>\n     *\n     * @param {(string|object)} key The key to set.\n     * @param {(string|object)} value The value to give it.\n     * @param {object} options A set of options for the set.\n     *     The only supported option is <code>error</code>.\n     * @returns {(ParseObject|boolean)} true if the set succeeded.\n     */\n\n  }, {\n    key: \"set\",\n    value: function (key\n    /*: mixed*/\n    , value\n    /*: mixed*/\n    , options\n    /*:: ?: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      var changes = {};\n      var newOps = {};\n\n      if (key && (0, _typeof2.default)(key) === 'object') {\n        changes = key;\n        options = value;\n      } else if (typeof key === 'string') {\n        changes[key] = value;\n      } else {\n        return this;\n      }\n\n      options = options || {};\n      var readonly = [];\n\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = (0, _concat.default)(readonly).call(readonly, this.constructor.readOnlyAttributes());\n      }\n\n      for (var k in changes) {\n        if (k === 'createdAt' || k === 'updatedAt') {\n          // This property is read-only, but for legacy reasons we silently\n          // ignore it\n          continue;\n        }\n\n        if ((0, _indexOf.default)(readonly).call(readonly, k) > -1) {\n          throw new Error(\"Cannot modify readonly attribute: \".concat(k));\n        }\n\n        if (options.unset) {\n          newOps[k] = new _ParseOp.UnsetOp();\n        } else if (changes[k] instanceof _ParseOp.Op) {\n          newOps[k] = changes[k];\n        } else if (changes[k] && (0, _typeof2.default)(changes[k]) === 'object' && typeof changes[k].__op === 'string') {\n          newOps[k] = (0, _ParseOp.opFromJSON)(changes[k]);\n        } else if (k === 'objectId' || k === 'id') {\n          if (typeof changes[k] === 'string') {\n            this.id = changes[k];\n          }\n        } else if (k === 'ACL' && (0, _typeof2.default)(changes[k]) === 'object' && !(changes[k] instanceof _ParseACL.default)) {\n          newOps[k] = new _ParseOp.SetOp(new _ParseACL.default(changes[k]));\n        } else if (changes[k] instanceof _ParseRelation.default) {\n          var relation = new _ParseRelation.default(this, k);\n          relation.targetClassName = changes[k].targetClassName;\n          newOps[k] = new _ParseOp.SetOp(relation);\n        } else {\n          newOps[k] = new _ParseOp.SetOp(changes[k]);\n        }\n      }\n\n      var currentAttributes = this.attributes; // Only set nested fields if exists\n\n      var serverData = this._getServerData();\n\n      if (typeof key === 'string' && (0, _includes.default)(key).call(key, '.')) {\n        var field = key.split('.')[0];\n\n        if (!serverData[field]) {\n          return this;\n        }\n      } // Calculate new values\n\n\n      var newValues = {};\n\n      for (var _attr9 in newOps) {\n        if (newOps[_attr9] instanceof _ParseOp.RelationOp) {\n          newValues[_attr9] = newOps[_attr9].applyTo(currentAttributes[_attr9], this, _attr9);\n        } else if (!(newOps[_attr9] instanceof _ParseOp.UnsetOp)) {\n          newValues[_attr9] = newOps[_attr9].applyTo(currentAttributes[_attr9]);\n        }\n      } // Validate changes\n\n\n      if (!options.ignoreValidation) {\n        var validation = this.validate(newValues);\n\n        if (validation) {\n          if (typeof options.error === 'function') {\n            options.error(this, validation);\n          }\n\n          return false;\n        }\n      } // Consolidate Ops\n\n\n      var pendingOps = this._getPendingOps();\n\n      var last = pendingOps.length - 1;\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      for (var _attr10 in newOps) {\n        var nextOp = newOps[_attr10].mergeWith(pendingOps[last][_attr10]);\n\n        stateController.setPendingOp(this._getStateIdentifier(), _attr10, nextOp);\n      }\n\n      return this;\n    }\n    /**\n     * Remove an attribute from the model. This is a noop if the attribute doesn't\n     * exist.\n     *\n     * @param {string} attr The string name of an attribute.\n     * @param options\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"unset\",\n    value: function (attr\n    /*: string*/\n    , options\n    /*:: ?: { [opt: string]: mixed }*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      options = options || {};\n      options.unset = true;\n      return this.set(attr, null, options);\n    }\n    /**\n     * Atomically increments the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to increment by (optional).\n     * @returns {(ParseObject|boolean)}\n     */\n\n  }, {\n    key: \"increment\",\n    value: function (attr\n    /*: string*/\n    , amount\n    /*:: ?: number*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot increment by a non-numeric amount.');\n      }\n\n      return this.set(attr, new _ParseOp.IncrementOp(amount));\n    }\n    /**\n     * Atomically decrements the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to decrement by (optional).\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"decrement\",\n    value: function (attr\n    /*: string*/\n    , amount\n    /*:: ?: number*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot decrement by a non-numeric amount.');\n      }\n\n      return this.set(attr, new _ParseOp.IncrementOp(amount * -1));\n    }\n    /**\n     * Atomically add an object to the end of the array associated with a given\n     * key.\n     *\n     * @param attr {String} The key.\n     * @param item {} The item to add.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"add\",\n    value: function (attr\n    /*: string*/\n    , item\n    /*: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddOp([item]));\n    }\n    /**\n     * Atomically add the objects to the end of the array associated with a given\n     * key.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The items to add.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"addAll\",\n    value: function (attr\n    /*: string*/\n    , items\n    /*: Array<mixed>*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddOp(items));\n    }\n    /**\n     * Atomically add an object to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param attr {String} The key.\n     * @param item {} The object to add.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"addUnique\",\n    value: function (attr\n    /*: string*/\n    , item\n    /*: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddUniqueOp([item]));\n    }\n    /**\n     * Atomically add the objects to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The objects to add.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"addAllUnique\",\n    value: function (attr\n    /*: string*/\n    , items\n    /*: Array<mixed>*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.AddUniqueOp(items));\n    }\n    /**\n     * Atomically remove all instances of an object from the array associated\n     * with a given key.\n     *\n     * @param attr {String} The key.\n     * @param item {} The object to remove.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"remove\",\n    value: function (attr\n    /*: string*/\n    , item\n    /*: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.RemoveOp([item]));\n    }\n    /**\n     * Atomically remove all instances of the objects from the array associated\n     * with a given key.\n     *\n     * @param attr {String} The key.\n     * @param items {Object[]} The object to remove.\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"removeAll\",\n    value: function (attr\n    /*: string*/\n    , items\n    /*: Array<mixed>*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set(attr, new _ParseOp.RemoveOp(items));\n    }\n    /**\n     * Returns an instance of a subclass of Parse.Op describing what kind of\n     * modification has been performed on this field since the last time it was\n     * saved. For example, after calling object.increment(\"x\"), calling\n     * object.op(\"x\") would return an instance of Parse.Op.Increment.\n     *\n     * @param attr {String} The key.\n     * @returns {Parse.Op} The operation, or undefined if none.\n     */\n\n  }, {\n    key: \"op\",\n    value: function (attr\n    /*: string*/\n    )\n    /*: ?Op*/\n    {\n      var pending = this._getPendingOps();\n\n      for (var i = pending.length; i--;) {\n        if (pending[i][attr]) {\n          return pending[i][attr];\n        }\n      }\n    }\n    /**\n     * Creates a new model with identical attributes to this one.\n     *\n     * @returns {Parse.Object}\n     */\n\n  }, {\n    key: \"clone\",\n    value: function clone()\n    /*: any*/\n    {\n      var clone = new this.constructor();\n\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n\n      var attributes = this.attributes;\n\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        var readonly = this.constructor.readOnlyAttributes() || []; // Attributes are frozen, so we have to rebuild an object,\n        // rather than delete readonly keys\n\n        var copy = {};\n\n        for (var a in attributes) {\n          if ((0, _indexOf.default)(readonly).call(readonly, a) < 0) {\n            copy[a] = attributes[a];\n          }\n        }\n\n        attributes = copy;\n      }\n\n      if (clone.set) {\n        clone.set(attributes);\n      }\n\n      return clone;\n    }\n    /**\n     * Creates a new instance of this object. Not to be confused with clone()\n     *\n     * @returns {Parse.Object}\n     */\n\n  }, {\n    key: \"newInstance\",\n    value: function ()\n    /*: any*/\n    {\n      var clone = new this.constructor();\n\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n\n      clone.id = this.id;\n\n      if (singleInstance) {\n        // Just return an object with the right id\n        return clone;\n      }\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      if (stateController) {\n        stateController.duplicateState(this._getStateIdentifier(), clone._getStateIdentifier());\n      }\n\n      return clone;\n    }\n    /**\n     * Returns true if this object has never been saved to Parse.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isNew\",\n    value: function ()\n    /*: boolean*/\n    {\n      return !this.id;\n    }\n    /**\n     * Returns true if this object was created by the Parse server when the\n     * object might have already been there (e.g. in the case of a Facebook\n     * login)\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"existed\",\n    value: function ()\n    /*: boolean*/\n    {\n      if (!this.id) {\n        return false;\n      }\n\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      var state = stateController.getState(this._getStateIdentifier());\n\n      if (state) {\n        return state.existed;\n      }\n\n      return false;\n    }\n    /**\n     * Returns true if this object exists on the Server\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @returns {Promise<boolean>} A boolean promise that is fulfilled if object exists.\n     */\n\n  }, {\n    key: \"exists\",\n    value: function () {\n      var _exists = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options\n      /*:: ?: RequestOptions*/\n      ) {\n        var query;\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this.id) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", false);\n\n              case 2:\n                _context2.prev = 2;\n                query = new _ParseQuery.default(this.className);\n                _context2.next = 6;\n                return query.get(this.id, options);\n\n              case 6:\n                return _context2.abrupt(\"return\", true);\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](2);\n\n                if (!(_context2.t0.code === _ParseError.default.OBJECT_NOT_FOUND)) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", false);\n\n              case 13:\n                throw _context2.t0;\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n\n      return function () {\n        return _exists.apply(this, arguments);\n      };\n    }()\n    /**\n     * Checks if the model is currently in a valid state.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isValid\",\n    value: function ()\n    /*: boolean*/\n    {\n      return !this.validate(this.attributes);\n    }\n    /**\n     * You should not call this function directly unless you subclass\n     * <code>Parse.Object</code>, in which case you can override this method\n     * to provide additional validation on <code>set</code> and\n     * <code>save</code>.  Your implementation should return\n     *\n     * @param {object} attrs The current data to validate.\n     * @returns {Parse.Error|boolean} False if the data is valid.  An error object otherwise.\n     * @see Parse.Object#set\n     */\n\n  }, {\n    key: \"validate\",\n    value: function (attrs\n    /*: AttributeMap*/\n    )\n    /*: ParseError | boolean*/\n    {\n      if (attrs.hasOwnProperty('ACL') && !(attrs.ACL instanceof _ParseACL.default)) {\n        return new _ParseError.default(_ParseError.default.OTHER_CAUSE, 'ACL must be a Parse ACL.');\n      }\n\n      for (var _key in attrs) {\n        if (!/^[A-Za-z][0-9A-Za-z_.]*$/.test(_key)) {\n          return new _ParseError.default(_ParseError.default.INVALID_KEY_NAME);\n        }\n      }\n\n      return false;\n    }\n    /**\n     * Returns the ACL for this object.\n     *\n     * @returns {Parse.ACL} An instance of Parse.ACL.\n     * @see Parse.Object#get\n     */\n\n  }, {\n    key: \"getACL\",\n    value: function ()\n    /*: ?ParseACL*/\n    {\n      var acl = this.get('ACL');\n\n      if (acl instanceof _ParseACL.default) {\n        return acl;\n      }\n\n      return null;\n    }\n    /**\n     * Sets the ACL to be used for this object.\n     *\n     * @param {Parse.ACL} acl An instance of Parse.ACL.\n     * @param {object} options\n     * @returns {(ParseObject | boolean)} Whether the set passed validation.\n     * @see Parse.Object#set\n     */\n\n  }, {\n    key: \"setACL\",\n    value: function (acl\n    /*: ParseACL*/\n    , options\n    /*:: ?: mixed*/\n    )\n    /*: ParseObject | boolean*/\n    {\n      return this.set('ACL', acl, options);\n    }\n    /**\n     * Clears any (or specific) changes to this object made since the last call to save()\n     *\n     * @param {string} [keys] - specify which fields to revert\n     */\n\n  }, {\n    key: \"revert\",\n    value: function ()\n    /*: void*/\n    {\n      var keysToRevert;\n\n      for (var _len = arguments.length, keys = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        keys[_key2] = arguments[_key2];\n      }\n\n      if (keys.length) {\n        keysToRevert = [];\n\n        var _iterator = _createForOfIteratorHelper(keys),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _key3 = _step.value;\n\n            if (typeof _key3 === 'string') {\n              keysToRevert.push(_key3);\n            } else {\n              throw new Error('Parse.Object#revert expects either no, or a list of string, arguments.');\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n\n      this._clearPendingOps(keysToRevert);\n    }\n    /**\n     * Clears all attributes on a model\n     *\n     * @returns {(ParseObject | boolean)}\n     */\n\n  }, {\n    key: \"clear\",\n    value: function ()\n    /*: ParseObject | boolean*/\n    {\n      var attributes = this.attributes;\n      var erasable = {};\n      var readonly = ['createdAt', 'updatedAt'];\n\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = (0, _concat.default)(readonly).call(readonly, this.constructor.readOnlyAttributes());\n      }\n\n      for (var _attr11 in attributes) {\n        if ((0, _indexOf.default)(readonly).call(readonly, _attr11) < 0) {\n          erasable[_attr11] = true;\n        }\n      }\n\n      return this.set(erasable, {\n        unset: true\n      });\n    }\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>include: The name(s) of the key(s) to include. Can be a string, an array of strings,\n     *       or an array of array of strings.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeFind` trigger.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n\n  }, {\n    key: \"fetch\",\n    value: function (options\n    /*: RequestOptions*/\n    )\n    /*: Promise*/\n    {\n      options = options || {};\n      var fetchOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        fetchOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        fetchOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        fetchOptions.context = options.context;\n      }\n\n      if (options.hasOwnProperty('include')) {\n        fetchOptions.include = [];\n\n        if ((0, _isArray.default)(options.include)) {\n          var _context3;\n\n          (0, _forEach.default)(_context3 = options.include).call(_context3, function (key) {\n            if ((0, _isArray.default)(key)) {\n              var _context4;\n\n              fetchOptions.include = (0, _concat.default)(_context4 = fetchOptions.include).call(_context4, key);\n            } else {\n              fetchOptions.include.push(key);\n            }\n          });\n        } else {\n          fetchOptions.include.push(options.include);\n        }\n      }\n\n      var controller = _CoreManager.default.getObjectController();\n\n      return controller.fetch(this, true, fetchOptions);\n    }\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n\n  }, {\n    key: \"fetchWithInclude\",\n    value: function (keys\n    /*: String | Array<string | Array<string>>*/\n    , options\n    /*: RequestOptions*/\n    )\n    /*: Promise*/\n    {\n      options = options || {};\n      options.include = keys;\n      return this.fetch(options);\n    }\n    /**\n     * Set a hash of model attributes, and save the model to the server.\n     * updatedAt will be updated when the request returns.\n     * You can either call it as:<pre>\n     * object.save();</pre>\n     * or<pre>\n     * object.save(attrs);</pre>\n     * or<pre>\n     * object.save(null, options);</pre>\n     * or<pre>\n     * object.save(attrs, options);</pre>\n     * or<pre>\n     * object.save(key, value, options);</pre>\n     *\n     * For example, <pre>\n     * gameTurn.save({\n     * player: \"Jake Cutter\",\n     * diceRoll: 2\n     * }).then(function(gameTurnAgain) {\n     * // The save was successful.\n     * }, function(error) {\n     * // The save failed.  Error is an instance of Parse.Error.\n     * });</pre>\n     *\n     * @param {string | object | null} [arg1]\n     * Valid options are:<ul>\n     * <li>`Object` - Key/value pairs to update on the object.</li>\n     * <li>`String` Key - Key of attribute to update (requires arg2 to also be string)</li>\n     * <li>`null` - Passing null for arg1 allows you to save the object with options passed in arg2.</li>\n     * </ul>\n     * @param {string | object} [arg2]\n     * <ul>\n     * <li>`String` Value - If arg1 was passed as a key, arg2 is the value that should be set on that key.</li>\n     * <li>`Object` Options - Valid options are:\n     * <ul>\n     * <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     * be used for this request.\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * </li>\n     * </ul>\n     * @param {object} [arg3]\n     * Used to pass option parameters to method if arg1 and arg2 were both passed as strings.\n     * Valid options are:\n     * <ul>\n     * <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     * be used for this request.\n     * <li>sessionToken: A valid session token, used for making a request on\n     * behalf of a specific user.\n     * <li>cascadeSave: If `false`, nested objects will not be saved (default is `true`).\n     * <li>context: A dictionary that is accessible in Cloud Code `beforeSave` and `afterSave` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the save\n     * completes.\n     */\n\n  }, {\n    key: \"save\",\n    value: function (arg1\n    /*: ?string | { [attr: string]: mixed }*/\n    , arg2\n    /*: SaveOptions | mixed*/\n    , arg3\n    /*:: ?: SaveOptions*/\n    )\n    /*: Promise*/\n    {\n      var _this = this;\n\n      var attrs;\n      var options;\n\n      if ((0, _typeof2.default)(arg1) === 'object' || typeof arg1 === 'undefined') {\n        attrs = arg1;\n\n        if ((0, _typeof2.default)(arg2) === 'object') {\n          options = arg2;\n        }\n      } else {\n        attrs = {};\n        attrs[arg1] = arg2;\n        options = arg3;\n      }\n\n      if (attrs) {\n        var validation = this.validate(attrs);\n\n        if (validation) {\n          return _promise.default.reject(validation);\n        }\n\n        this.set(attrs, options);\n      }\n\n      options = options || {};\n      var saveOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = !!options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken') && typeof options.sessionToken === 'string') {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('installationId') && typeof options.installationId === 'string') {\n        saveOptions.installationId = options.installationId;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        saveOptions.context = options.context;\n      }\n\n      var controller = _CoreManager.default.getObjectController();\n\n      var unsaved = options.cascadeSave !== false ? (0, _unsavedChildren.default)(this) : null;\n      return controller.save(unsaved, saveOptions).then(function () {\n        return controller.save(_this, saveOptions);\n      });\n    }\n    /**\n     * Destroy this model on the server if it was already persisted.\n     *\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>context: A dictionary that is accessible in Cloud Code `beforeDelete` and `afterDelete` triggers.\n     * </ul>\n     * @returns {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function (options\n    /*: RequestOptions*/\n    )\n    /*: Promise*/\n    {\n      options = options || {};\n      var destroyOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        destroyOptions.context = options.context;\n      }\n\n      if (!this.id) {\n        return _promise.default.resolve();\n      }\n\n      return _CoreManager.default.getObjectController().destroy(this, destroyOptions);\n    }\n    /**\n     * Asynchronously stores the object and every object it points to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await object.pin();\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPin()</code>\n     *\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     */\n\n  }, {\n    key: \"pin\",\n    value: function ()\n    /*: Promise<void>*/\n    {\n      return ParseObject.pinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, [this]);\n    }\n    /**\n     * Asynchronously removes the object and every object it points to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * <pre>\n     * await object.unPin();\n     * </pre>\n     *\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     */\n\n  }, {\n    key: \"unPin\",\n    value: function ()\n    /*: Promise<void>*/\n    {\n      return ParseObject.unPinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, [this]);\n    }\n    /**\n     * Asynchronously returns if the object is pinned\n     *\n     * <pre>\n     * const isPinned = await object.isPinned();\n     * </pre>\n     *\n     * @returns {Promise<boolean>} A boolean promise that is fulfilled if object is pinned.\n     */\n\n  }, {\n    key: \"isPinned\",\n    value: function () {\n      var _isPinned = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var localDatastore, objectKey, pin;\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                localDatastore = _CoreManager.default.getLocalDatastore();\n\n                if (localDatastore.isEnabled) {\n                  _context5.next = 3;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", _promise.default.reject('Parse.enableLocalDatastore() must be called first'));\n\n              case 3:\n                objectKey = localDatastore.getKeyForObject(this);\n                _context5.next = 6;\n                return localDatastore.fromPinWithName(objectKey);\n\n              case 6:\n                pin = _context5.sent;\n                return _context5.abrupt(\"return\", pin.length > 0);\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _isPinned.apply(this, arguments);\n      };\n    }()\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore, recursively.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await object.pinWithName(name);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPinWithName(name)</code>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     */\n\n  }, {\n    key: \"pinWithName\",\n    value: function (name\n    /*: string*/\n    )\n    /*: Promise<void>*/\n    {\n      return ParseObject.pinAllWithName(name, [this]);\n    }\n    /**\n     * Asynchronously removes the object and every object it points to in the local datastore, recursively.\n     *\n     * <pre>\n     * await object.unPinWithName(name);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     */\n\n  }, {\n    key: \"unPinWithName\",\n    value: function (name\n    /*: string*/\n    )\n    /*: Promise<void>*/\n    {\n      return ParseObject.unPinAllWithName(name, [this]);\n    }\n    /**\n     * Asynchronously loads data from the local datastore into this object.\n     *\n     * <pre>\n     * await object.fetchFromLocalDatastore();\n     * </pre>\n     *\n     * You can create an unfetched pointer with <code>Parse.Object.createWithoutData()</code>\n     * and then call <code>fetchFromLocalDatastore()</code> on it.\n     *\n     * @returns {Promise} A promise that is fulfilled when the fetch completes.\n     */\n\n  }, {\n    key: \"fetchFromLocalDatastore\",\n    value: function () {\n      var _fetchFromLocalDatastore = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        var localDatastore, objectKey, pinned, result;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                localDatastore = _CoreManager.default.getLocalDatastore();\n\n                if (localDatastore.isEnabled) {\n                  _context6.next = 3;\n                  break;\n                }\n\n                throw new Error('Parse.enableLocalDatastore() must be called first');\n\n              case 3:\n                objectKey = localDatastore.getKeyForObject(this);\n                _context6.next = 6;\n                return localDatastore._serializeObject(objectKey);\n\n              case 6:\n                pinned = _context6.sent;\n\n                if (pinned) {\n                  _context6.next = 9;\n                  break;\n                }\n\n                throw new Error('Cannot fetch an unsaved ParseObject');\n\n              case 9:\n                result = ParseObject.fromJSON(pinned);\n\n                this._finishFetch(result.toJSON());\n\n                return _context6.abrupt(\"return\", this);\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function () {\n        return _fetchFromLocalDatastore.apply(this, arguments);\n      };\n    }()\n    /** Static methods * */\n\n  }], [{\n    key: \"_clearAllState\",\n    value: function () {\n      var stateController = _CoreManager.default.getObjectStateController();\n\n      stateController.clearAllState();\n    }\n    /**\n     * Fetches the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAll([object1, object2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     *   <li>include: The name(s) of the key(s) to include. Can be a string, an array of strings,\n     *       or an array of array of strings.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"fetchAll\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    ) {\n      var options\n      /*: RequestOptions*/\n      = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var queryOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('include')) {\n        queryOptions.include = ParseObject.handleIncludeOptions(options);\n      }\n\n      return _CoreManager.default.getObjectController().fetch(list, true, queryOptions);\n    }\n    /**\n     * Fetches the given list of Parse.Object.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllWithInclude([object1, object2, ...], [pointer1, pointer2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"fetchAllWithInclude\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    , keys\n    /*: String | Array<string | Array<string>>*/\n    , options\n    /*: RequestOptions*/\n    ) {\n      options = options || {};\n      options.include = keys;\n      return ParseObject.fetchAll(list, options);\n    }\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * Includes nested Parse.Objects for the provided key. You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     *\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeededWithInclude([object1, object2, ...], [pointer1, pointer2, ...])\n     *    .then((list) => {\n     *      // All the objects were fetched.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {string | Array<string | Array<string>>} keys The name(s) of the key(s) to include.\n     * @param {object} options\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"fetchAllIfNeededWithInclude\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    , keys\n    /*: String | Array<string | Array<string>>*/\n    , options\n    /*: RequestOptions*/\n    ) {\n      options = options || {};\n      options.include = keys;\n      return ParseObject.fetchAllIfNeeded(list, options);\n    }\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeeded([object1, ...])\n     *    .then((list) => {\n     *      // Objects were fetched and updated.\n     *    }, (error) => {\n     *      // An error occurred while fetching one of the objects.\n     *    });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"fetchAllIfNeeded\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    , options) {\n      options = options || {};\n      var queryOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('include')) {\n        queryOptions.include = ParseObject.handleIncludeOptions(options);\n      }\n\n      return _CoreManager.default.getObjectController().fetch(list, false, queryOptions);\n    }\n  }, {\n    key: \"handleIncludeOptions\",\n    value: function (options) {\n      var include = [];\n\n      if ((0, _isArray.default)(options.include)) {\n        var _context7;\n\n        (0, _forEach.default)(_context7 = options.include).call(_context7, function (key) {\n          if ((0, _isArray.default)(key)) {\n            include = (0, _concat.default)(include).call(include, key);\n          } else {\n            include.push(key);\n          }\n        });\n      } else {\n        include.push(options.include);\n      }\n\n      return include;\n    }\n    /**\n     * Destroy the given list of models on the server if it was already persisted.\n     *\n     * <p>Unlike saveAll, if an error occurs while deleting an individual model,\n     * this method will continue trying to delete the rest of the models if\n     * possible, except in the case of a fatal error like a connection error.\n     *\n     * <p>In particular, the Parse.Error object returned in the case of error may\n     * be one of two types:\n     *\n     * <ul>\n     * <li>A Parse.Error.AGGREGATE_ERROR. This object's \"errors\" property is an\n     * array of other Parse.Error objects. Each error object in this array\n     * has an \"object\" property that references the object that could not be\n     * deleted (for instance, because that object could not be found).</li>\n     * <li>A non-aggregate Parse.Error. This indicates a serious error that\n     * caused the delete operation to be aborted partway through (for\n     * instance, a connection failure in the middle of the delete).</li>\n     * </ul>\n     *\n     * <pre>\n     * Parse.Object.destroyAll([object1, object2, ...])\n     * .then((list) => {\n     * // All the objects were deleted.\n     * }, (error) => {\n     * // An error occurred while deleting one or more of the objects.\n     * // If this is an aggregate error, then we can inspect each error\n     * // object individually to determine the reason why a particular\n     * // object was not deleted.\n     * if (error.code === Parse.Error.AGGREGATE_ERROR) {\n     * for (var i = 0; i < error.errors.length; i++) {\n     * console.log(\"Couldn't delete \" + error.errors[i].object.id +\n     * \"due to \" + error.errors[i].message);\n     * }\n     * } else {\n     * console.log(\"Delete aborted because of \" + error.message);\n     * }\n     * });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Promise} A promise that is fulfilled when the destroyAll\n     * completes.\n     */\n\n  }, {\n    key: \"destroyAll\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    ) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var destroyOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('batchSize') && typeof options.batchSize === 'number') {\n        destroyOptions.batchSize = options.batchSize;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        destroyOptions.context = options.context;\n      }\n\n      return _CoreManager.default.getObjectController().destroy(list, destroyOptions);\n    }\n    /**\n     * Saves the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     * Parse.Object.saveAll([object1, object2, ...])\n     * .then((list) => {\n     * // All the objects were saved.\n     * }, (error) => {\n     * // An error occurred while saving one of the objects.\n     * });\n     * </pre>\n     *\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {object} options\n     * @static\n     * @returns {Parse.Object[]}\n     */\n\n  }, {\n    key: \"saveAll\",\n    value: function (list\n    /*: Array<ParseObject>*/\n    ) {\n      var options\n      /*: RequestOptions*/\n      = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var saveOptions = {};\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = options.useMasterKey;\n      }\n\n      if (options.hasOwnProperty('sessionToken')) {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n\n      if (options.hasOwnProperty('batchSize') && typeof options.batchSize === 'number') {\n        saveOptions.batchSize = options.batchSize;\n      }\n\n      if (options.hasOwnProperty('context') && (0, _typeof2.default)(options.context) === 'object') {\n        saveOptions.context = options.context;\n      }\n\n      return _CoreManager.default.getObjectController().save(list, saveOptions);\n    }\n    /**\n     * Creates a reference to a subclass of Parse.Object with the given id. This\n     * does not exist on Parse.Object, only on subclasses.\n     *\n     * <p>A shortcut for: <pre>\n     *  var Foo = Parse.Object.extend(\"Foo\");\n     *  var pointerToFoo = new Foo();\n     *  pointerToFoo.id = \"myObjectId\";\n     * </pre>\n     *\n     * @param {string} id The ID of the object to create a reference to.\n     * @static\n     * @returns {Parse.Object} A Parse.Object reference.\n     */\n\n  }, {\n    key: \"createWithoutData\",\n    value: function (id\n    /*: string*/\n    ) {\n      var obj = new this();\n      obj.id = id;\n      return obj;\n    }\n    /**\n     * Creates a new instance of a Parse Object from a JSON representation.\n     *\n     * @param {object} json The JSON map of the Object's data\n     * @param {boolean} override In single instance mode, all old server data\n     *   is overwritten if this is set to true\n     * @static\n     * @returns {Parse.Object} A Parse.Object reference\n     */\n\n  }, {\n    key: \"fromJSON\",\n    value: function (json\n    /*: any*/\n    , override\n    /*:: ?: boolean*/\n    ) {\n      if (!json.className) {\n        throw new Error('Cannot create an object without a className');\n      }\n\n      var constructor = classMap[json.className];\n      var o = constructor ? new constructor() : new ParseObject(json.className);\n      var otherAttributes = {};\n\n      for (var _attr12 in json) {\n        if (_attr12 !== 'className' && _attr12 !== '__type') {\n          otherAttributes[_attr12] = json[_attr12];\n        }\n      }\n\n      if (override) {\n        // id needs to be set before clearServerData can work\n        if (otherAttributes.objectId) {\n          o.id = otherAttributes.objectId;\n        }\n\n        var preserved = null;\n\n        if (typeof o._preserveFieldsOnFetch === 'function') {\n          preserved = o._preserveFieldsOnFetch();\n        }\n\n        o._clearServerData();\n\n        if (preserved) {\n          o._finishFetch(preserved);\n        }\n      }\n\n      o._finishFetch(otherAttributes);\n\n      if (json.objectId) {\n        o._setExisted(true);\n      }\n\n      return o;\n    }\n    /**\n     * Registers a subclass of Parse.Object with a specific class name.\n     * When objects of that class are retrieved from a query, they will be\n     * instantiated with this subclass.\n     * This is only necessary when using ES6 subclassing.\n     *\n     * @param {string} className The class name of the subclass\n     * @param {Function} constructor The subclass\n     */\n\n  }, {\n    key: \"registerSubclass\",\n    value: function (className\n    /*: string*/\n    , constructor\n    /*: any*/\n    ) {\n      if (typeof className !== 'string') {\n        throw new TypeError('The first argument must be a valid class name.');\n      }\n\n      if (typeof constructor === 'undefined') {\n        throw new TypeError('You must supply a subclass constructor.');\n      }\n\n      if (typeof constructor !== 'function') {\n        throw new TypeError('You must register the subclass constructor. ' + 'Did you attempt to register an instance of the subclass?');\n      }\n\n      classMap[className] = constructor;\n\n      if (!constructor.className) {\n        constructor.className = className;\n      }\n    }\n    /**\n     * Creates a new subclass of Parse.Object for the given Parse class name.\n     *\n     * <p>Every extension of a Parse class will inherit from the most recent\n     * previous extension of that class. When a Parse.Object is automatically\n     * created by parsing JSON, it will use the most recent extension of that\n     * class.</p>\n     *\n     * <p>You should call either:<pre>\n     *     var MyClass = Parse.Object.extend(\"MyClass\", {\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre>\n     * or, for Backbone compatibility:<pre>\n     *     var MyClass = Parse.Object.extend({\n     *         className: \"MyClass\",\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre></p>\n     *\n     * @param {string} className The name of the Parse class backing this model.\n     * @param {object} protoProps Instance properties to add to instances of the\n     *     class returned from this method.\n     * @param {object} classProps Class properties to add the class returned from\n     *     this method.\n     * @returns {Parse.Object} A new subclass of Parse.Object.\n     */\n\n  }, {\n    key: \"extend\",\n    value: function (className\n    /*: any*/\n    , protoProps\n    /*: any*/\n    , classProps\n    /*: any*/\n    ) {\n      if (typeof className !== 'string') {\n        if (className && typeof className.className === 'string') {\n          return ParseObject.extend(className.className, className, protoProps);\n        }\n\n        throw new Error(\"Parse.Object.extend's first argument should be the className.\");\n      }\n\n      var adjustedClassName = className;\n\n      if (adjustedClassName === 'User' && _CoreManager.default.get('PERFORM_USER_REWRITE')) {\n        adjustedClassName = '_User';\n      }\n\n      var parentProto = ParseObject.prototype;\n\n      if (this.hasOwnProperty('__super__') && this.__super__) {\n        parentProto = this.prototype;\n      } else if (classMap[adjustedClassName]) {\n        parentProto = classMap[adjustedClassName].prototype;\n      }\n\n      var ParseObjectSubclass = function (attributes, options) {\n        this.className = adjustedClassName;\n        this._objCount = objectCount++; // Enable legacy initializers\n\n        if (typeof this.initialize === 'function') {\n          this.initialize.apply(this, arguments);\n        }\n\n        if (attributes && (0, _typeof2.default)(attributes) === 'object') {\n          if (!this.set(attributes || {}, options)) {\n            throw new Error(\"Can't create an invalid Parse Object\");\n          }\n        }\n      };\n\n      ParseObjectSubclass.className = adjustedClassName;\n      ParseObjectSubclass.__super__ = parentProto;\n      ParseObjectSubclass.prototype = (0, _create.default)(parentProto, {\n        constructor: {\n          value: ParseObjectSubclass,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n\n      if (protoProps) {\n        for (var prop in protoProps) {\n          if (prop !== 'className') {\n            (0, _defineProperty3.default)(ParseObjectSubclass.prototype, prop, {\n              value: protoProps[prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n\n      if (classProps) {\n        for (var _prop in classProps) {\n          if (_prop !== 'className') {\n            (0, _defineProperty3.default)(ParseObjectSubclass, _prop, {\n              value: classProps[_prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n\n      ParseObjectSubclass.extend = function (name, protoProps, classProps) {\n        if (typeof name === 'string') {\n          return ParseObject.extend.call(ParseObjectSubclass, name, protoProps, classProps);\n        }\n\n        return ParseObject.extend.call(ParseObjectSubclass, adjustedClassName, name, protoProps);\n      };\n\n      ParseObjectSubclass.createWithoutData = ParseObject.createWithoutData;\n      classMap[adjustedClassName] = ParseObjectSubclass;\n      return ParseObjectSubclass;\n    }\n    /**\n     * Enable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * This is disabled by default in server environments, since it can lead to\n     * security issues.\n     *\n     * @static\n     */\n\n  }, {\n    key: \"enableSingleInstance\",\n    value: function () {\n      singleInstance = true;\n\n      _CoreManager.default.setObjectStateController(SingleInstanceStateController);\n    }\n    /**\n     * Disable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * When disabled, you can have two instances of the same object in memory\n     * without them sharing attributes.\n     *\n     * @static\n     */\n\n  }, {\n    key: \"disableSingleInstance\",\n    value: function () {\n      singleInstance = false;\n\n      _CoreManager.default.setObjectStateController(UniqueInstanceStateController);\n    }\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await Parse.Object.pinAll([...]);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPin()</code>\n     *\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     * @static\n     */\n\n  }, {\n    key: \"pinAll\",\n    value: function (objects\n    /*: Array<ParseObject>*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return ParseObject.pinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, objects);\n    }\n    /**\n     * Asynchronously stores the objects and every object they point to in the local datastore, recursively.\n     *\n     * If those other objects have not been fetched from Parse, they will not be stored.\n     * However, if they have changed data, all the changes will be retained.\n     *\n     * <pre>\n     * await Parse.Object.pinAllWithName(name, [obj1, obj2, ...]);\n     * </pre>\n     *\n     * To retrieve object:\n     * <code>query.fromLocalDatastore()</code> or <code>query.fromPinWithName(name)</code>\n     *\n     * @param {string} name Name of Pin.\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the pin completes.\n     * @static\n     */\n\n  }, {\n    key: \"pinAllWithName\",\n    value: function (name\n    /*: string*/\n    , objects\n    /*: Array<ParseObject>*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return localDatastore._handlePinAllWithName(name, objects);\n    }\n    /**\n     * Asynchronously removes the objects and every object they point to in the local datastore,\n     * recursively, using a default pin name: _default.\n     *\n     * <pre>\n     * await Parse.Object.unPinAll([...]);\n     * </pre>\n     *\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n\n  }, {\n    key: \"unPinAll\",\n    value: function (objects\n    /*: Array<ParseObject>*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return ParseObject.unPinAllWithName(_LocalDatastoreUtils.DEFAULT_PIN, objects);\n    }\n    /**\n     * Asynchronously removes the objects and every object they point to in the local datastore, recursively.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllWithName(name, [obj1, obj2, ...]);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @param {Array} objects A list of <code>Parse.Object</code>.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n\n  }, {\n    key: \"unPinAllWithName\",\n    value: function (name\n    /*: string*/\n    , objects\n    /*: Array<ParseObject>*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return localDatastore._handleUnPinAllWithName(name, objects);\n    }\n    /**\n     * Asynchronously removes all objects in the local datastore using a default pin name: _default.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllObjects();\n     * </pre>\n     *\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n\n  }, {\n    key: \"unPinAllObjects\",\n    value: function ()\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return localDatastore.unPinWithName(_LocalDatastoreUtils.DEFAULT_PIN);\n    }\n    /**\n     * Asynchronously removes all objects with the specified pin name.\n     * Deletes the pin name also.\n     *\n     * <pre>\n     * await Parse.Object.unPinAllObjectsWithName(name);\n     * </pre>\n     *\n     * @param {string} name Name of Pin.\n     * @returns {Promise} A promise that is fulfilled when the unPin completes.\n     * @static\n     */\n\n  }, {\n    key: \"unPinAllObjectsWithName\",\n    value: function (name\n    /*: string*/\n    )\n    /*: Promise<void>*/\n    {\n      var localDatastore = _CoreManager.default.getLocalDatastore();\n\n      if (!localDatastore.isEnabled) {\n        return _promise.default.reject('Parse.enableLocalDatastore() must be called first');\n      }\n\n      return localDatastore.unPinWithName(_LocalDatastoreUtils.PIN_PREFIX + name);\n    }\n  }]);\n  return ParseObject;\n}();\n\nvar DefaultController = {\n  fetch: function (target\n  /*: ParseObject | Array<ParseObject>*/\n  , forceFetch\n  /*: boolean*/\n  , options\n  /*: RequestOptions*/\n  )\n  /*: Promise<Array<void> | ParseObject>*/\n  {\n    var localDatastore = _CoreManager.default.getLocalDatastore();\n\n    if ((0, _isArray.default)(target)) {\n      if (target.length < 1) {\n        return _promise.default.resolve([]);\n      }\n\n      var objs = [];\n      var ids = [];\n      var className = null;\n      var results = [];\n      var error = null;\n      (0, _forEach.default)(target).call(target, function (el) {\n        if (error) {\n          return;\n        }\n\n        if (!className) {\n          // eslint-disable-next-line prefer-destructuring\n          className = el.className;\n        }\n\n        if (className !== el.className) {\n          error = new _ParseError.default(_ParseError.default.INVALID_CLASS_NAME, 'All objects should be of the same class');\n        }\n\n        if (!el.id) {\n          error = new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'All objects must have an ID');\n        }\n\n        if (forceFetch || !el.isDataAvailable()) {\n          ids.push(el.id);\n          objs.push(el);\n        }\n\n        results.push(el);\n      });\n\n      if (error) {\n        return _promise.default.reject(error);\n      }\n\n      var query = new _ParseQuery.default(className);\n      query.containedIn('objectId', ids);\n\n      if (options && options.include) {\n        query.include(options.include);\n      }\n\n      query._limit = ids.length;\n      return (0, _find.default)(query).call(query, options).then( /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(objects) {\n          var idMap, i, obj, _i, _obj, id, _iterator2, _step2, object;\n\n          return _regenerator.default.wrap(function (_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  idMap = {};\n                  (0, _forEach.default)(objects).call(objects, function (o) {\n                    idMap[o.id] = o;\n                  });\n                  i = 0;\n\n                case 3:\n                  if (!(i < objs.length)) {\n                    _context8.next = 11;\n                    break;\n                  }\n\n                  obj = objs[i];\n\n                  if (!(!obj || !obj.id || !idMap[obj.id])) {\n                    _context8.next = 8;\n                    break;\n                  }\n\n                  if (!forceFetch) {\n                    _context8.next = 8;\n                    break;\n                  }\n\n                  return _context8.abrupt(\"return\", _promise.default.reject(new _ParseError.default(_ParseError.default.OBJECT_NOT_FOUND, 'All objects must exist on the server.')));\n\n                case 8:\n                  i++;\n                  _context8.next = 3;\n                  break;\n\n                case 11:\n                  if (!singleInstance) {\n                    // If single instance objects are disabled, we need to replace the\n                    for (_i = 0; _i < results.length; _i++) {\n                      _obj = results[_i];\n\n                      if (_obj && _obj.id && idMap[_obj.id]) {\n                        id = _obj.id;\n\n                        _obj._finishFetch(idMap[id].toJSON());\n\n                        results[_i] = idMap[id];\n                      }\n                    }\n                  }\n\n                  _iterator2 = _createForOfIteratorHelper(results);\n                  _context8.prev = 13;\n\n                  _iterator2.s();\n\n                case 15:\n                  if ((_step2 = _iterator2.n()).done) {\n                    _context8.next = 21;\n                    break;\n                  }\n\n                  object = _step2.value;\n                  _context8.next = 19;\n                  return localDatastore._updateObjectIfPinned(object);\n\n                case 19:\n                  _context8.next = 15;\n                  break;\n\n                case 21:\n                  _context8.next = 26;\n                  break;\n\n                case 23:\n                  _context8.prev = 23;\n                  _context8.t0 = _context8[\"catch\"](13);\n\n                  _iterator2.e(_context8.t0);\n\n                case 26:\n                  _context8.prev = 26;\n\n                  _iterator2.f();\n\n                  return _context8.finish(26);\n\n                case 29:\n                  return _context8.abrupt(\"return\", _promise.default.resolve(results));\n\n                case 30:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee4, null, [[13, 23, 26, 29]]);\n        }));\n\n        return function () {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n\n    if (target instanceof ParseObject) {\n      var _context9;\n\n      if (!target.id) {\n        return _promise.default.reject(new _ParseError.default(_ParseError.default.MISSING_OBJECT_ID, 'Object does not have an ID'));\n      }\n\n      var RESTController = _CoreManager.default.getRESTController();\n\n      var params = {};\n\n      if (options && options.include) {\n        params.include = options.include.join();\n      }\n\n      return RESTController.request('GET', (0, _concat.default)(_context9 = \"classes/\".concat(target.className, \"/\")).call(_context9, target._getId()), params, options).then( /*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(response) {\n          return _regenerator.default.wrap(function (_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  target._clearPendingOps();\n\n                  target._clearServerData();\n\n                  target._finishFetch(response);\n\n                  _context10.next = 5;\n                  return localDatastore._updateObjectIfPinned(target);\n\n                case 5:\n                  return _context10.abrupt(\"return\", target);\n\n                case 6:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee5);\n        }));\n\n        return function () {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n\n    return _promise.default.resolve();\n  },\n  destroy: function (target\n  /*: ParseObject | Array<ParseObject>*/\n  , options\n  /*: RequestOptions*/\n  )\n  /*: Promise<Array<void> | ParseObject>*/\n  {\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n      var batchSize, localDatastore, RESTController, batches, deleteCompleted, errors, _context14;\n\n      return _regenerator.default.wrap(function (_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n              batchSize = options && options.batchSize ? options.batchSize : _CoreManager.default.get('REQUEST_BATCH_SIZE');\n              localDatastore = _CoreManager.default.getLocalDatastore();\n              RESTController = _CoreManager.default.getRESTController();\n\n              if (!(0, _isArray.default)(target)) {\n                _context16.next = 13;\n                break;\n              }\n\n              if (!(target.length < 1)) {\n                _context16.next = 6;\n                break;\n              }\n\n              return _context16.abrupt(\"return\", _promise.default.resolve([]));\n\n            case 6:\n              batches = [[]];\n              (0, _forEach.default)(target).call(target, function (obj) {\n                if (!obj.id) {\n                  return;\n                }\n\n                batches[batches.length - 1].push(obj);\n\n                if (batches[batches.length - 1].length >= batchSize) {\n                  batches.push([]);\n                }\n              });\n\n              if (batches[batches.length - 1].length === 0) {\n                // If the last batch is empty, remove it\n                batches.pop();\n              }\n\n              deleteCompleted = _promise.default.resolve();\n              errors = [];\n              (0, _forEach.default)(batches).call(batches, function (batch) {\n                deleteCompleted = deleteCompleted.then(function () {\n                  return RESTController.request('POST', 'batch', {\n                    requests: (0, _map.default)(batch).call(batch, function (obj) {\n                      var _context11, _context12;\n\n                      return {\n                        method: 'DELETE',\n                        path: (0, _concat.default)(_context11 = (0, _concat.default)(_context12 = \"\".concat(getServerUrlPath(), \"classes/\")).call(_context12, obj.className, \"/\")).call(_context11, obj._getId()),\n                        body: {}\n                      };\n                    })\n                  }, options).then(function (results) {\n                    for (var i = 0; i < results.length; i++) {\n                      if (results[i] && results[i].hasOwnProperty('error')) {\n                        var err = new _ParseError.default(results[i].error.code, results[i].error.error);\n                        err.object = batch[i];\n                        errors.push(err);\n                      }\n                    }\n                  });\n                });\n              });\n              return _context16.abrupt(\"return\", deleteCompleted.then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n                var aggregate, _iterator3, _step3, object;\n\n                return _regenerator.default.wrap(function (_context13) {\n                  while (1) {\n                    switch (_context13.prev = _context13.next) {\n                      case 0:\n                        if (!errors.length) {\n                          _context13.next = 4;\n                          break;\n                        }\n\n                        aggregate = new _ParseError.default(_ParseError.default.AGGREGATE_ERROR);\n                        aggregate.errors = errors;\n                        return _context13.abrupt(\"return\", _promise.default.reject(aggregate));\n\n                      case 4:\n                        _iterator3 = _createForOfIteratorHelper(target);\n                        _context13.prev = 5;\n\n                        _iterator3.s();\n\n                      case 7:\n                        if ((_step3 = _iterator3.n()).done) {\n                          _context13.next = 13;\n                          break;\n                        }\n\n                        object = _step3.value;\n                        _context13.next = 11;\n                        return localDatastore._destroyObjectIfPinned(object);\n\n                      case 11:\n                        _context13.next = 7;\n                        break;\n\n                      case 13:\n                        _context13.next = 18;\n                        break;\n\n                      case 15:\n                        _context13.prev = 15;\n                        _context13.t0 = _context13[\"catch\"](5);\n\n                        _iterator3.e(_context13.t0);\n\n                      case 18:\n                        _context13.prev = 18;\n\n                        _iterator3.f();\n\n                        return _context13.finish(18);\n\n                      case 21:\n                        return _context13.abrupt(\"return\", _promise.default.resolve(target));\n\n                      case 22:\n                      case \"end\":\n                        return _context13.stop();\n                    }\n                  }\n                }, _callee6, null, [[5, 15, 18, 21]]);\n              }))));\n\n            case 13:\n              if (!(target instanceof ParseObject)) {\n                _context16.next = 15;\n                break;\n              }\n\n              return _context16.abrupt(\"return\", RESTController.request('DELETE', (0, _concat.default)(_context14 = \"classes/\".concat(target.className, \"/\")).call(_context14, target._getId()), {}, options).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n                return _regenerator.default.wrap(function (_context15) {\n                  while (1) {\n                    switch (_context15.prev = _context15.next) {\n                      case 0:\n                        _context15.next = 2;\n                        return localDatastore._destroyObjectIfPinned(target);\n\n                      case 2:\n                        return _context15.abrupt(\"return\", _promise.default.resolve(target));\n\n                      case 3:\n                      case \"end\":\n                        return _context15.stop();\n                    }\n                  }\n                }, _callee7);\n              }))));\n\n            case 15:\n              return _context16.abrupt(\"return\", _promise.default.resolve(target));\n\n            case 16:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, _callee8);\n    }))();\n  },\n  save: function (target\n  /*: ParseObject | Array<ParseObject | ParseFile>*/\n  , options\n  /*: RequestOptions*/\n  ) {\n    var batchSize = options && options.batchSize ? options.batchSize : _CoreManager.default.get('REQUEST_BATCH_SIZE');\n\n    var localDatastore = _CoreManager.default.getLocalDatastore();\n\n    var mapIdForPin = {};\n\n    var RESTController = _CoreManager.default.getRESTController();\n\n    var stateController = _CoreManager.default.getObjectStateController();\n\n    options = options || {};\n    options.returnStatus = options.returnStatus || true;\n\n    if ((0, _isArray.default)(target)) {\n      if (target.length < 1) {\n        return _promise.default.resolve([]);\n      }\n\n      var unsaved = (0, _concat.default)(target).call(target);\n\n      for (var i = 0; i < target.length; i++) {\n        if (target[i] instanceof ParseObject) {\n          unsaved = (0, _concat.default)(unsaved).call(unsaved, (0, _unsavedChildren.default)(target[i], true));\n        }\n      }\n\n      unsaved = (0, _unique.default)(unsaved);\n      var filesSaved\n      /*: Array<ParseFile>*/\n      = [];\n      var pending\n      /*: Array<ParseObject>*/\n      = [];\n      (0, _forEach.default)(unsaved).call(unsaved, function (el) {\n        if (el instanceof _ParseFile.default) {\n          filesSaved.push(el.save(options));\n        } else if (el instanceof ParseObject) {\n          pending.push(el);\n        }\n      });\n      return _promise.default.all(filesSaved).then(function () {\n        var objectError = null;\n        return (0, _promiseUtils.continueWhile)(function () {\n          return pending.length > 0;\n        }, function () {\n          var batch = [];\n          var nextPending = [];\n          (0, _forEach.default)(pending).call(pending, function (el) {\n            if (batch.length < batchSize && (0, _canBeSerialized.default)(el)) {\n              batch.push(el);\n            } else {\n              nextPending.push(el);\n            }\n          });\n          pending = nextPending;\n\n          if (batch.length < 1) {\n            return _promise.default.reject(new _ParseError.default(_ParseError.default.OTHER_CAUSE, 'Tried to save a batch with a cycle.'));\n          } // Queue up tasks for each object in the batch.\n          // When every task is ready, the API request will execute\n\n\n          var batchReturned = new _promiseUtils.resolvingPromise();\n          var batchReady = [];\n          var batchTasks = [];\n          (0, _forEach.default)(batch).call(batch, function (obj, index) {\n            var ready = new _promiseUtils.resolvingPromise();\n            batchReady.push(ready);\n            stateController.pushPendingState(obj._getStateIdentifier());\n            batchTasks.push(stateController.enqueueTask(obj._getStateIdentifier(), function () {\n              ready.resolve();\n              return batchReturned.then(function (responses) {\n                if (responses[index].hasOwnProperty('success')) {\n                  var objectId = responses[index].success.objectId;\n                  var status = responses[index]._status;\n                  delete responses[index]._status;\n                  mapIdForPin[objectId] = obj._localId;\n\n                  obj._handleSaveResponse(responses[index].success, status);\n                } else {\n                  if (!objectError && responses[index].hasOwnProperty('error')) {\n                    var serverError = responses[index].error;\n                    objectError = new _ParseError.default(serverError.code, serverError.error); // Cancel the rest of the save\n\n                    pending = [];\n                  }\n\n                  obj._handleSaveError();\n                }\n              });\n            }));\n          });\n          (0, _promiseUtils.when)(batchReady).then(function () {\n            // Kick off the batch request\n            return RESTController.request('POST', 'batch', {\n              requests: (0, _map.default)(batch).call(batch, function (obj) {\n                var params = obj._getSaveParams();\n\n                params.path = getServerUrlPath() + params.path;\n                return params;\n              })\n            }, options);\n          }).then(batchReturned.resolve, function (error) {\n            batchReturned.reject(new _ParseError.default(_ParseError.default.INCORRECT_TYPE, error.message));\n          });\n          return (0, _promiseUtils.when)(batchTasks);\n        }).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {\n          var _iterator4, _step4, object;\n\n          return _regenerator.default.wrap(function (_context17) {\n            while (1) {\n              switch (_context17.prev = _context17.next) {\n                case 0:\n                  if (!objectError) {\n                    _context17.next = 2;\n                    break;\n                  }\n\n                  return _context17.abrupt(\"return\", _promise.default.reject(objectError));\n\n                case 2:\n                  _iterator4 = _createForOfIteratorHelper(target);\n                  _context17.prev = 3;\n\n                  _iterator4.s();\n\n                case 5:\n                  if ((_step4 = _iterator4.n()).done) {\n                    _context17.next = 13;\n                    break;\n                  }\n\n                  object = _step4.value;\n                  _context17.next = 9;\n                  return localDatastore._updateLocalIdForObject(mapIdForPin[object.id], object);\n\n                case 9:\n                  _context17.next = 11;\n                  return localDatastore._updateObjectIfPinned(object);\n\n                case 11:\n                  _context17.next = 5;\n                  break;\n\n                case 13:\n                  _context17.next = 18;\n                  break;\n\n                case 15:\n                  _context17.prev = 15;\n                  _context17.t0 = _context17[\"catch\"](3);\n\n                  _iterator4.e(_context17.t0);\n\n                case 18:\n                  _context17.prev = 18;\n\n                  _iterator4.f();\n\n                  return _context17.finish(18);\n\n                case 21:\n                  return _context17.abrupt(\"return\", _promise.default.resolve(target));\n\n                case 22:\n                case \"end\":\n                  return _context17.stop();\n              }\n            }\n          }, _callee9, null, [[3, 15, 18, 21]]);\n        })));\n      });\n    }\n\n    if (target instanceof ParseObject) {\n      // generate _localId in case if cascadeSave=false\n      target._getId();\n\n      var localId = target._localId; // copying target lets Flow guarantee the pointer isn't modified elsewhere\n\n      var targetCopy = target;\n\n      var task = function () {\n        var params = targetCopy._getSaveParams();\n\n        return RESTController.request(params.method, params.path, params.body, options).then(function (response) {\n          var status = response._status;\n          delete response._status;\n\n          targetCopy._handleSaveResponse(response, status);\n        }, function (error) {\n          targetCopy._handleSaveError();\n\n          return _promise.default.reject(error);\n        });\n      };\n\n      stateController.pushPendingState(target._getStateIdentifier());\n      return stateController.enqueueTask(target._getStateIdentifier(), task).then( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n        return _regenerator.default.wrap(function (_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                _context18.next = 2;\n                return localDatastore._updateLocalIdForObject(localId, target);\n\n              case 2:\n                _context18.next = 4;\n                return localDatastore._updateObjectIfPinned(target);\n\n              case 4:\n                return _context18.abrupt(\"return\", target);\n\n              case 5:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee10);\n      })), function (error) {\n        return _promise.default.reject(error);\n      });\n    }\n\n    return _promise.default.resolve();\n  }\n};\n\n_CoreManager.default.setObjectController(DefaultController);\n\nvar _default = ParseObject;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}