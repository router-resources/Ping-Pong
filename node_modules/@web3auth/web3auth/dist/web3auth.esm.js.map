{"version":3,"file":"web3auth.esm.js","sources":["../src/config.ts","../src/default.ts","../src/utils.ts","../src/modalManager.ts"],"sourcesContent":[null,null,null,null],"names":["defaultSolanaDappModalConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","adapters","SOLANA_ADAPTERS","TORUS_SOLANA","label","showOnModal","showOnMobile","showOnDesktop","OPENLOGIN","PHANTOM","defaultEvmDappModalConfig","EIP155","EVM_ADAPTERS","TORUS_EVM","METAMASK","WALLET_CONNECT_V1","defaultSolanaWalletModalConfig","defaultEvmWalletModalConfig","OPENLOGIN_PROVIDERS","LOGIN_PROVIDER","GOOGLE","FACEBOOK","TWITTER","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","WEIBO","WECHAT","EMAIL_PASSWORDLESS","getDefaultAdapterModule","params","name","customChainConfig","clientId","Object","values","includes","Error","finalChainConfig","getChainConfig","chainId","WALLET_ADAPTERS","TorusWalletAdapter","adapter","chainConfig","SolanaWalletAdapter","MetamaskAdapter","PhantomAdapter","WalletConnectV1Adapter","OpenloginAdapter","getOpenloginDefaultOptions","defaultOptions","adapterSettings","getAdapterSocialLogins","adapterName","loginMethodsConfig","finalLoginMethodsConfig","forEach","loginMethod","currentLoginMethodConfig","log","debug","enableAll","setLevel","Web3Auth","Web3AuthCore","constructor","options","providedChainConfig","authMode","modalConfig","loginModal","LoginModal","theme","uiConfig","appLogo","version","adapterListener","subscribeToLoginModalEvents","initModal","checkInitRequirements","allAdapters","Set","keys","walletAdapters","adapterConfigurationPromises","map","adapterConfig","ad","type","ADAPTER_CATEGORY","IN_APP","EXTERNAL","cachedAdapter","setAdapterSettings","chainConfigProxy","coreOptions","setChainConfig","adapterNames","Promise","all","hasInAppWallets","some","loginMethods","method","initPromises","subscribeToAdapterEvents","status","ADAPTER_STATUS","NOT_READY","init","autoConnect","initializeInAppWallet","error","READY","hasExternalWallets","initExternalWalletContainer","initExternalWalletAdapters","showExternalWalletsOnly","connect","provider","open","resolve","reject","once","ADAPTER_EVENTS","CONNECTED","ERRORED","err","externalWalletsInitialized","adaptersConfig","adaptersData","adapterPromises","adapterData","adapterInitResults","finalAdaptersConfig","result","addWalletLogins","info","addSocialLogins","loginMethodsOrder","on","LOGIN_MODAL_EVENTS","LOGIN","connectTo","loginParams","INIT_EXTERNAL_WALLETS","DISCONNECT","logout","MODAL_VISIBILITY","visibility","emit","walletConnectStatus"],"mappings":"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"}