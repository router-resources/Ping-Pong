{"version":3,"file":"ethereumProvider.esm.js","sources":["../src/rpc/walletMidddleware.ts","../src/rpc/ethRpcMiddlewares.ts","../src/rpc/jrpcClient.ts","../src/providers/injectedProviders/walletConnectUtils.ts","../src/providers/injectedProviders/WalletConnectProvider.ts","../src/providers/privateKeyProviders/ethPrivatekeyUtils.ts","../src/providers/privateKeyProviders/EthereumPrivateKeyProvider.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["resemblesAddress","str","length","createWalletMiddleware","getAccounts","getPrivateKey","processDecryptMessage","processEncryptionPublicKey","processEthSignMessage","processPersonalMessage","processTransaction","processSignTransaction","processTypedMessage","processTypedMessageV3","processTypedMessageV4","Error","validateAndNormalizeKeyholder","address","req","accounts","normalizedAccounts","map","_address","toLowerCase","normalizedAddress","includes","ethErrors","rpc","invalidParams","message","lookupAccounts","res","result","lookupDefaultAccount","sendTransaction","methodNotSupported","txParams","params","from","signTransaction","ethSign","extraParams","msgParams","data","signTypedData","version","signTypedDataV3","signTypedDataV4","personalSign","firstParam","secondParam","warning","encryptionPublicKey","decryptMessage","ciphertext","fetchPrivateKey","createScaffoldMiddleware","eth_accounts","createAsyncMiddleware","eth_private_key","eth_coinbase","eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt","createEthMiddleware","providerHandlers","ethMiddleware","mergeMiddleware","eth_syncing","createChainSwitchMiddleware","addChain","switchChain","addNewChain","chainParams","undefined","chainId","rpcUrls","nativeCurrency","updateChain","wallet_addEthereumChain","wallet_switchEthereumChain","createAccountMiddleware","updatePrivatekey","updateAccount","accountParams","privateKey","wallet_updateAccount","createChainIdMiddleware","next","end","method","createProviderConfigMiddleware","providerConfig","createJsonRpcClient","rpcTarget","fetchMiddleware","createFetchMiddleware","networkMiddleware","getProviderHandlers","connector","_","signMessage","signPersonalMessage","log","debug","WalletConnectProvider","BaseProvider","constructor","config","state","chainConfig","chainNamespace","CHAIN_NAMESPACES","EIP155","enable","provider","custom","code","setupProvider","_providerEngineProxy","request","onConnectorStateUpdate","setupEngine","currentChainConfig","getChainConfig","ticker","tickerName","update","Number","parseInt","name","symbol","networkId","rpcUrl","configure","lookupNetwork","connected","WalletLoginError","notConnectedError","connectedHexChainId","isHexStrict","toString","WalletInitializationError","rpcConnectionError","emit","engine","JRPCEngine","push","providerFromEngine","updateProviderEngineProxy","on","error","payload","connectedChainId","providerFactory","getCommonConfiguration","supportsEIP1559","displayName","hardfork","Hardfork","London","Berlin","customChainParams","Common","privKey","getProviderEngineProxy","privateToAddress","Buffer","providerEngineProxy","common","maxFeePerGas","maxPriorityFeePerGas","unsignedEthTx","TransactionFactory","fromTxData","signedTx","sign","serialize","txHash","rawMessageSig","privKeyBuffer","sig","SignTypedDataVersion","V1","V3","V4","info","getEncryptionPublicKey","stripped","stripHexPrefix","buff","decrypted","decrypt","encryptedData","JSON","parse","EthereumPrivateKeyProvider","bind","chainSwitchMiddleware","getChainSwitchMiddleware","getAccountMiddleware","existingKey","network","chainDisconnected","chainSwitchHandlers","chainName","blockExplorerUrls","blockExplorer","accountHandlers"],"mappings":";;;;;;;;;;;;;;;;AA6BA,SAASA,gBAAT,CAA0BC,GAA1B;AACE;AACA,SAAOA,GAAG,CAACC,MAAJ,KAAe,IAAI,KAAK,CAA/B;AACD;;SAgBeC;MAAuB;AACrCC,IAAAA,WADqC;AAErCC,IAAAA,aAFqC;AAGrCC,IAAAA,qBAHqC;AAIrCC,IAAAA,0BAJqC;AAKrCC,IAAAA,qBALqC;AAMrCC,IAAAA,sBANqC;AAOrCC,IAAAA,kBAPqC;AAQrCC,IAAAA,sBARqC;AASrCC,IAAAA,mBATqC;AAUrCC,IAAAA,qBAVqC;AAWrCC,IAAAA;AAXqC;;AAarC,MAAI,CAACV,WAAL,EAAkB;AAChB,UAAM,IAAIW,KAAJ,CAAU,8BAAV,CAAN;AACD;AAGD;AACA;;AAEA;;;;;;;;AAMA,iBAAeC,6BAAf,CAA6CC,OAA7C,EAA8DC,GAA9D;AACE,QAAI,OAAOD,OAAP,KAAmB,QAAnB,IAA+BA,OAAO,CAACf,MAAR,GAAiB,CAApD,EAAuD;AACrD;AACA,YAAMiB,QAAQ,GAAa,MAAMf,WAAW,CAACc,GAAD,CAA5C;AACA,YAAME,kBAAkB,GAAaD,QAAQ,CAACE,GAAT,CAAcC,QAAD,IAAcA,QAAQ,CAACC,WAAT,EAA3B,CAArC;AACA,YAAMC,iBAAiB,GAAWP,OAAO,CAACM,WAAR,EAAlC;;AAEA,UAAIH,kBAAkB,CAACK,QAAnB,CAA4BD,iBAA5B,CAAJ,EAAoD;AAClD,eAAOA,iBAAP;AACD;AACF;;AACD,UAAME,SAAS,CAACC,GAAV,CAAcC,aAAd,CAA4B;AAChCC,MAAAA,OAAO;AADyB,KAA5B,CAAN;AAGD;AAGD;AACA;;;AAEA,iBAAeC,cAAf,CAA8BZ,GAA9B,EAAyDa,GAAzD;AACEA,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAM5B,WAAW,CAACc,GAAD,CAA9B;AACD;;AAED,iBAAee,oBAAf,CAAoCf,GAApC,EAA+Da,GAA/D;AACE,UAAMZ,QAAQ,GAAG,MAAMf,WAAW,CAACc,GAAD,CAAlC;AACAa,IAAAA,GAAG,CAACC,MAAJ,GAAab,QAAQ,CAAC,CAAD,CAAR,IAAe,IAA5B;AACD;AAGD;AACA;;;AAEA,iBAAee,eAAf,CAA+BhB,GAA/B,EAA0Da,GAA1D;AACE,QAAI,CAACrB,kBAAL,EAAyB;AACvB,YAAMgB,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AAED,UAAMC,QAAQ,GAAuBlB,GAAG,CAACmB,MAAJ,CAAmC,CAAnC,KAAyC;AAC5EC,MAAAA,IAAI,EAAE;AADsE,KAA9E;AAGAF,IAAAA,QAAQ,CAACE,IAAT,GAAgB,MAAMtB,6BAA6B,CAACoB,QAAQ,CAACE,IAAV,EAA0BpB,GAA1B,CAAnD;AACAa,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMtB,kBAAkB,CAAC0B,QAAD,EAAWlB,GAAX,CAArC;AACD;;AAED,iBAAeqB,eAAf,CAA+BrB,GAA/B,EAA0Da,GAA1D;AACE,QAAI,CAACpB,sBAAL,EAA6B;AAC3B,YAAMe,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AAED,UAAMC,QAAQ,GAAuBlB,GAAG,CAACmB,MAAJ,CAAmC,CAAnC,KAAyC;AAC5EC,MAAAA,IAAI,EAAE;AADsE,KAA9E;AAGAF,IAAAA,QAAQ,CAACE,IAAT,GAAgB,MAAMtB,6BAA6B,CAACoB,QAAQ,CAACE,IAAV,EAA0BpB,GAA1B,CAAnD;AACAa,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMrB,sBAAsB,CAACyB,QAAD,EAAWlB,GAAX,CAAzC;AACD;AAGD;AACA;;;AAEA,iBAAesB,OAAf,CAAuBtB,GAAvB,EAAkDa,GAAlD;AACE,QAAI,CAACvB,qBAAL,EAA4B;AAC1B,YAAMkB,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AAED,UAAMlB,OAAO,GAAW,MAAMD,6BAA6B,CAAEE,GAAG,CAACmB,MAAJ,CAAwB,CAAxB,CAAF,EAA8BnB,GAA9B,CAA3D;AACA,UAAMW,OAAO,GAAYX,GAAG,CAACmB,MAAJ,CAAwB,CAAxB,CAAzB;AACA,UAAMI,WAAW,GAA6BvB,GAAG,CAACmB,MAAJ,CAAyC,CAAzC,KAA+C,EAA7F;;AACA,UAAMK,SAAS,uCACVD,WADU;AAEbH,MAAAA,IAAI,EAAErB,OAFO;AAGb0B,MAAAA,IAAI,EAAEd;AAHO,MAAf;;AAMAE,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMxB,qBAAqB,CAACkC,SAAD,EAAYxB,GAAZ,CAAxC;AACD;;AAED,iBAAe0B,aAAf,CAA6B1B,GAA7B,EAAwDa,GAAxD;AACE,QAAI,CAACnB,mBAAL,EAA0B;AACxB,YAAMc,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AAED,UAAMN,OAAO,GAAiBX,GAAG,CAACmB,MAAJ,CAA6B,CAA7B,CAA9B;AACA,UAAMpB,OAAO,GAAW,MAAMD,6BAA6B,CAAEE,GAAG,CAACmB,MAAJ,CAAwB,CAAxB,CAAF,EAA8BnB,GAA9B,CAA3D;AACA,UAAM2B,OAAO,GAAG,IAAhB;AACA,UAAMJ,WAAW,GAA6BvB,GAAG,CAACmB,MAAJ,CAAyC,CAAzC,KAA+C,EAA7F;;AACA,UAAMK,SAAS,uCACVD,WADU;AAEbH,MAAAA,IAAI,EAAErB,OAFO;AAGb0B,MAAAA,IAAI,EAAEd;AAHO,MAAf;;AAMAE,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMpB,mBAAmB,CAAC8B,SAAD,EAAYxB,GAAZ,EAAiB2B,OAAjB,CAAtC;AACD;;AAED,iBAAeC,eAAf,CAA+B5B,GAA/B,EAA0Da,GAA1D;AACE,QAAI,CAAClB,qBAAL,EAA4B;AAC1B,YAAMa,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AAED,UAAMlB,OAAO,GAAW,MAAMD,6BAA6B,CAAEE,GAAG,CAACmB,MAAJ,CAAwB,CAAxB,CAAF,EAA8BnB,GAA9B,CAA3D;AACA,UAAMW,OAAO,GAAgCX,GAAG,CAACmB,MAAJ,CAA4C,CAA5C,CAA7C;AACA,UAAMQ,OAAO,GAAG,IAAhB;AACA,UAAMH,SAAS,GAAmD;AAChEC,MAAAA,IAAI,EAAEd,OAD0D;AAEhES,MAAAA,IAAI,EAAErB,OAF0D;AAGhE4B,MAAAA;AAHgE,KAAlE;AAMAd,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMnB,qBAAqB,CAAC6B,SAAD,EAAYxB,GAAZ,EAAiB2B,OAAjB,CAAxC;AACD;;AAED,iBAAeE,eAAf,CAA+B7B,GAA/B,EAA0Da,GAA1D;AACE,QAAI,CAACjB,qBAAL,EAA4B;AAC1B,YAAMY,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AAED,UAAMlB,OAAO,GAAW,MAAMD,6BAA6B,CAAEE,GAAG,CAACmB,MAAJ,CAAwB,CAAxB,CAAF,EAA8BnB,GAA9B,CAA3D;AACA,UAAMW,OAAO,GAAgCX,GAAG,CAACmB,MAAJ,CAA4C,CAA5C,CAA7C;AACA,UAAMQ,OAAO,GAAG,IAAhB;AACA,UAAMH,SAAS,GAAmD;AAChEC,MAAAA,IAAI,EAAEd,OAD0D;AAEhES,MAAAA,IAAI,EAAErB,OAF0D;AAGhE4B,MAAAA;AAHgE,KAAlE;AAMAd,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMlB,qBAAqB,CAAC4B,SAAD,EAAYxB,GAAZ,EAAiB2B,OAAjB,CAAxC;AACD;;AAED,iBAAeG,YAAf,CAA4B9B,GAA5B,EAAuDa,GAAvD;AACE,QAAI,CAACtB,sBAAL,EAA6B;AAC3B,YAAMiB,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;;AAGD,UAAMc,UAAU,GAAY/B,GAAG,CAACmB,MAAJ,CAAwB,CAAxB,CAA5B;AACA,UAAMa,WAAW,GAAYhC,GAAG,CAACmB,MAAJ,CAAwB,CAAxB,CAA7B;;AAEA,UAAMI,WAAW,GAA6BvB,GAAG,CAACmB,MAAJ,CAAyC,CAAzC,KAA+C,EAA7F;AAGA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAIpB,OAAJ,EAAqBY,OAArB;;AACA,QAAI7B,gBAAgB,CAACiD,UAAD,CAAhB,IAAgC,CAACjD,gBAAgB,CAACkD,WAAD,CAArD,EAAoE;AAClE,UAAIC,OAAO,yDAAX;AACAA,MAAAA,OAAO,mEAAP;AACAA,MAAAA,OAAO,4CAAP;AACAA,MAAAA,OAAO,uEAAP;AACCpB,MAAAA,GAAW,CAACoB,OAAZ,GAAsBA,OAAtB;AAEDlC,MAAAA,OAAO,GAAGgC,UAAV;AACApB,MAAAA,OAAO,GAAGqB,WAAV;AACD,KATD,MASO;AACLrB,MAAAA,OAAO,GAAGoB,UAAV;AACAhC,MAAAA,OAAO,GAAGiC,WAAV;AACD;;AACDjC,IAAAA,OAAO,GAAG,MAAMD,6BAA6B,CAACC,OAAD,EAAUC,GAAV,CAA7C;;AAEA,UAAMwB,SAAS,uCACVD,WADU;AAEbH,MAAAA,IAAI,EAAErB,OAFO;AAGb0B,MAAAA,IAAI,EAAEd;AAHO,MAAf;;;AAOAE,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMvB,sBAAsB,CAACiC,SAAD,EAAYxB,GAAZ,CAAzC;AACD;;AAED,iBAAekC,mBAAf,CAAmClC,GAAnC,EAA8Da,GAA9D;AACE,QAAI,CAACxB,0BAAL,EAAiC;AAC/B,YAAMmB,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AAED,UAAMlB,OAAO,GAAW,MAAMD,6BAA6B,CAAEE,GAAG,CAACmB,MAAJ,CAAsB,CAAtB,CAAF,EAA4BnB,GAA5B,CAA3D;AAEAa,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMzB,0BAA0B,CAACU,OAAD,EAAUC,GAAV,CAA7C;AACD;;AAED,iBAAemC,cAAf,CAA8BnC,GAA9B,EAAyDa,GAAzD;AACE,QAAI,CAACzB,qBAAL,EAA4B;AAC1B,YAAMoB,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AAED,UAAMmB,UAAU,GAAYpC,GAAG,CAACmB,MAAJ,CAAsB,CAAtB,CAA5B;AACA,UAAMpB,OAAO,GAAW,MAAMD,6BAA6B,CAAEE,GAAG,CAACmB,MAAJ,CAAsB,CAAtB,CAAF,EAA4BnB,GAA5B,CAA3D;AACA,UAAMuB,WAAW,GAA6BvB,GAAG,CAACmB,MAAJ,CAAyC,CAAzC,KAA+C,EAA7F;;AACA,UAAMK,SAAS,uCACVD,WADU;AAEbH,MAAAA,IAAI,EAAErB,OAFO;AAGb0B,MAAAA,IAAI,EAAEW;AAHO,MAAf;;AAMAvB,IAAAA,GAAG,CAACC,MAAJ,GAAa1B,qBAAqB,CAACoC,SAAD,EAAYxB,GAAZ,CAAlC;AACD;;AAED,iBAAeqC,eAAf,CAA+BrC,GAA/B,EAA0Da,GAA1D;AACE,QAAI,CAAC1B,aAAL,EAAoB;AAClB,YAAMqB,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;;AACDJ,IAAAA,GAAG,CAACC,MAAJ,GAAa3B,aAAa,CAACa,GAAD,CAA1B;AACD;;AAED,SAAOsC,wBAAwB,CAAC;AAC9B;AACAC,IAAAA,YAAY,EAAEC,qBAAqB,CAAC5B,cAAD,CAFL;AAG9B6B,IAAAA,eAAe,EAAED,qBAAqB,CAACH,eAAD,CAHR;AAI9BK,IAAAA,YAAY,EAAEF,qBAAqB,CAACzB,oBAAD,CAJL;AAK9B;AACA4B,IAAAA,mBAAmB,EAAEH,qBAAqB,CAACxB,eAAD,CANZ;AAO9B4B,IAAAA,mBAAmB,EAAEJ,qBAAqB,CAACnB,eAAD,CAPZ;AAQ9B;AACAwB,IAAAA,QAAQ,EAAEL,qBAAqB,CAAClB,OAAD,CATD;AAU9BwB,IAAAA,iBAAiB,EAAEN,qBAAqB,CAACd,aAAD,CAVV;AAW9BqB,IAAAA,oBAAoB,EAAEP,qBAAqB,CAACZ,eAAD,CAXb;AAY9BoB,IAAAA,oBAAoB,EAAER,qBAAqB,CAACX,eAAD,CAZb;AAa9BoB,IAAAA,aAAa,EAAET,qBAAqB,CAACV,YAAD,CAbN;AAc9BoB,IAAAA,0BAA0B,EAAEV,qBAAqB,CAACN,mBAAD,CAdnB;AAe9BiB,IAAAA,WAAW,EAAEX,qBAAqB,CAACL,cAAD;AAfJ,GAAD,CAA/B;AAiBD;;SC/ReiB,oBAAoBC;AAClC,QAAM;AACJnE,IAAAA,WADI;AAEJC,IAAAA,aAFI;AAGJK,IAAAA,kBAHI;AAIJF,IAAAA,qBAJI;AAKJI,IAAAA,mBALI;AAMJC,IAAAA,qBANI;AAOJC,IAAAA,qBAPI;AAQJL,IAAAA,sBARI;AASJF,IAAAA,0BATI;AAUJD,IAAAA;AAVI,MAWFiE,gBAXJ;AAYA,QAAMC,aAAa,GAAGC,eAAe,CAAC,CACpCjB,wBAAwB,CAAC;AACvBkB,IAAAA,WAAW,EAAE;AADU,GAAD,CADY,EAIpCvE,sBAAsB,CAAC;AACrBC,IAAAA,WADqB;AAErBC,IAAAA,aAFqB;AAGrBK,IAAAA,kBAHqB;AAIrBF,IAAAA,qBAJqB;AAKrBI,IAAAA,mBALqB;AAMrBC,IAAAA,qBANqB;AAOrBC,IAAAA,qBAPqB;AAQrBL,IAAAA,sBARqB;AASrBF,IAAAA,0BATqB;AAUrBD,IAAAA;AAVqB,GAAD,CAJc,CAAD,CAArC;AAiBA,SAAOkE,aAAP;AACD;SAmBeG;MAA4B;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ;;AAC1C,iBAAeC,WAAf,CAA2B5D,GAA3B,EAA0Ea,GAA1E;;;AACE,UAAMgD,WAAW,GAAG,eAAA7D,GAAG,CAACmB,MAAJ,oDAAYnC,MAAZ,GAAqBgB,GAAG,CAACmB,MAAJ,CAAW,CAAX,CAArB,GAAqC2C,SAAzD;AACA,QAAI,CAACD,WAAL,EAAkB,MAAMrD,SAAS,CAACC,GAAV,CAAcC,aAAd,CAA4B,sBAA5B,CAAN;AAClB,QAAI,CAACmD,WAAW,CAACE,OAAjB,EAA0B,MAAMvD,SAAS,CAACC,GAAV,CAAcC,aAAd,CAA4B,gCAA5B,CAAN;AAC1B,QAAI,CAACmD,WAAW,CAACG,OAAb,IAAwBH,WAAW,CAACG,OAAZ,CAAoBhF,MAApB,KAA+B,CAA3D,EAA8D,MAAMwB,SAAS,CAACC,GAAV,CAAcC,aAAd,CAA4B,gCAA5B,CAAN;AAC9D,QAAI,CAACmD,WAAW,CAACI,cAAjB,EAAiC,MAAMzD,SAAS,CAACC,GAAV,CAAcC,aAAd,CAA4B,uCAA5B,CAAN;AAEjCG,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAM4C,QAAQ,CAACG,WAAD,CAA3B;AACD;;AACD,iBAAeK,WAAf,CAA2BlE,GAA3B,EAAoEa,GAApE;;;AACE,UAAMgD,WAAW,GAAG,gBAAA7D,GAAG,CAACmB,MAAJ,sDAAYnC,MAAZ,GAAqBgB,GAAG,CAACmB,MAAJ,CAAW,CAAX,CAArB,GAAqC2C,SAAzD;AACA,QAAI,CAACD,WAAL,EAAkB,MAAMrD,SAAS,CAACC,GAAV,CAAcC,aAAd,CAA4B,iBAA5B,CAAN;AAClBG,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAM6C,WAAW,CAACE,WAAD,CAA9B;AACD;;AAED,SAAOvB,wBAAwB,CAAC;AAC9B6B,IAAAA,uBAAuB,EAAE3B,qBAAqB,CAACoB,WAAD,CADhB;AAE9BQ,IAAAA,0BAA0B,EAAE5B,qBAAqB,CAAC0B,WAAD;AAFnB,GAAD,CAA/B;AAID;SAOeG;MAAwB;AAAEC,IAAAA;AAAF;;AACtC,iBAAeC,aAAf,CAA6BvE,GAA7B,EAAyEa,GAAzE;;;AACE,UAAM2D,aAAa,GAAG,gBAAAxE,GAAG,CAACmB,MAAJ,sDAAYnC,MAAZ,GAAqBgB,GAAG,CAACmB,MAAJ,CAAW,CAAX,CAArB,GAAqC2C,SAA3D;AACA,QAAI,EAACU,aAAD,aAACA,aAAD,eAACA,aAAa,CAAEC,UAAhB,CAAJ,EAAgC,MAAMjE,SAAS,CAACC,GAAV,CAAcC,aAAd,CAA4B,oBAA5B,CAAN;AAChCG,IAAAA,GAAG,CAACC,MAAJ,GAAa,MAAMwD,gBAAgB,CAACE,aAAD,CAAnC;AACD;;AAED,SAAOlC,wBAAwB,CAAC;AAC9BoC,IAAAA,oBAAoB,EAAElC,qBAAqB,CAAC+B,aAAD;AADb,GAAD,CAA/B;AAGD;;SChGeI,wBAAwBZ;AACtC,SAAO,CAAC/D,GAAD,EAA4Ba,GAA5B,EAAuD+D,IAAvD,EAAqFC,GAArF;AACL,QAAI7E,GAAG,CAAC8E,MAAJ,KAAe,aAAnB,EAAkC;AAChCjE,MAAAA,GAAG,CAACC,MAAJ,GAAaiD,OAAb;AACA,aAAOc,GAAG,EAAV;AACD;;AACD,WAAOD,IAAI,EAAX;AACD,GAND;AAOD;SAEeG,+BAA+BC;AAC7C,SAAO,CAAChF,GAAD,EAA4Ba,GAA5B,EAAkE+D,IAAlE,EAAgGC,GAAhG;AACL,QAAI7E,GAAG,CAAC8E,MAAJ,KAAe,qBAAnB,EAA0C;AACxCjE,MAAAA,GAAG,CAACC,MAAJ,GAAakE,cAAb;AACA,aAAOH,GAAG,EAAV;AACD;;AACD,WAAOD,IAAI,EAAX;AACD,GAND;AAOD;SAEeK,oBAAoBD;AAIlC,QAAM;AAAEjB,IAAAA,OAAF;AAAWmB,IAAAA;AAAX,MAAyBF,cAA/B;AACA,QAAMG,eAAe,GAAGC,qBAAqB,CAAC;AAAEF,IAAAA;AAAF,GAAD,CAA7C;AACA,QAAMG,iBAAiB,GAAG9B,eAAe,CAAC,CAACoB,uBAAuB,CAACZ,OAAD,CAAxB,EAAmCgB,8BAA8B,CAACC,cAAD,CAAjE,EAAmFG,eAAnF,CAAD,CAAzC;AACA,SAAO;AAAEE,IAAAA,iBAAF;AAAqBF,IAAAA;AAArB,GAAP;AACD;;SCvBeG;MAAoB;AAAEC,IAAAA;AAAF;AAClC,SAAO;AACLpG,IAAAA,aAAa,EAAE;AACb,YAAMqB,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD,KAHI;AAIL/B,IAAAA,WAAW,EAAE,MAAOsG,CAAP;AACX,YAAM;AAAEvF,QAAAA;AAAF,UAAesF,SAArB;;AACA,UAAItF,QAAQ,IAAIA,QAAQ,CAACjB,MAAzB,EAAiC;AAC/B,eAAOiB,QAAP;AACD;;AACD,YAAM,IAAIJ,KAAJ,CAAU,wBAAV,CAAN;AACD,KAVI;AAWLL,IAAAA,kBAAkB,EAAE,OAAO0B,QAAP,EAAoCsE,CAApC;AAClB,YAAM1E,MAAM,GAAG,MAAMyE,SAAS,CAACvE,eAAV,CAA0BE,QAA1B,CAArB;AACA,aAAOJ,MAAP;AACD,KAdI;AAeLrB,IAAAA,sBAAsB,EAAE,OAAOyB,QAAP,EAAoCsE,CAApC;AACtB,YAAM1E,MAAM,GAAG,MAAMyE,SAAS,CAAClE,eAAV,CAA0BH,QAA1B,CAArB;AACA,aAAOJ,MAAP;AACD,KAlBI;AAmBLxB,IAAAA,qBAAqB,EAAE,OAAOkC,SAAP,EAAyCgE,CAAzC;AACrB,YAAM1E,MAAM,GAAG,MAAMyE,SAAS,CAACE,WAAV,CAAsB,CAACjE,SAAS,CAACJ,IAAX,EAAiBI,SAAS,CAACC,IAA3B,CAAtB,CAArB;AACA,aAAOX,MAAP;AACD,KAtBI;AAuBLvB,IAAAA,sBAAsB,EAAE,OAAOiC,SAAP,EAAyCgE,CAAzC;AACtB,YAAM1E,MAAM,GAAG,MAAMyE,SAAS,CAACG,mBAAV,CAA8B,CAAClE,SAAS,CAACC,IAAX,EAAiBD,SAAS,CAACJ,IAA3B,CAA9B,CAArB;AACA,aAAON,MAAP;AACD,KA1BI;AA2BLpB,IAAAA,mBAAmB,EAAE,OAAO8B,SAAP,EAA8CgE,CAA9C;AACnBG,MAAAA,GAAG,CAACC,KAAJ,CAAU,qBAAV,EAAiCpE,SAAjC;AACA,YAAMV,MAAM,GAAG,MAAMyE,SAAS,CAAC7D,aAAV,CAAwB,CAACF,SAAS,CAACJ,IAAX,EAAiBI,SAAS,CAACC,IAA3B,CAAxB,CAArB;AACA,aAAOX,MAAP;AACD,KA/BI;AAgCLnB,IAAAA,qBAAqB,EAAE,MAAO6F,CAAP;AACrB,YAAMhF,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD,KAlCI;AAmCLrB,IAAAA,qBAAqB,EAAE,MAAO4F,CAAP;AACrB,YAAMhF,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD,KArCI;AAsCL5B,IAAAA,0BAA0B,EAAE,MAAOmG,CAAP;AAC1B,YAAMhF,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD,KAxCI;AAyCL7B,IAAAA,qBAAqB,EAAGoG,CAAD;AACrB,YAAMhF,SAAS,CAACC,GAAV,CAAcQ,kBAAd,EAAN;AACD;AA3CI,GAAP;AA6CD;;;;;MCpCY4E,8BAA8BC;AAGzCC,EAAAA;QAAY;AAAEC,MAAAA,MAAF;AAAUC,MAAAA,KAAV;AAAiBV,MAAAA;AAAjB;AACV,UAAM;AACJS,MAAAA,MAAM,EAAE;AAAEE,QAAAA,WAAW,sCAAOF,MAAM,CAACE,WAAd;AAA2BC,UAAAA,cAAc,EAAEC,gBAAgB,CAACC;AAA5D;AAAb,OADJ;AAEJJ,MAAAA,KAAK,sCAAQA,KAAK,IAAI,EAAjB;AAAsBlC,QAAAA,OAAO,EAAE,SAA/B;AAA0C9D,QAAAA,QAAQ,EAAE;AAApD;AAFD,KAAN;;uCAHqC;;AAOrC,SAAKsF,SAAL,GAAiBA,SAAS,IAAI,IAA9B;AACD;;AAWkB,QAANe,MAAM;AACjB,QAAI,CAAC,KAAKf,SAAV,EACE,MAAM/E,SAAS,CAAC+F,QAAV,CAAmBC,MAAnB,CAA0B;AAAE7F,MAAAA,OAAO,EAAE,4EAAX;AAAyF8F,MAAAA,IAAI,EAAE;AAA/F,KAA1B,CAAN;AACF,UAAM,KAAKC,aAAL,CAAmB,KAAKnB,SAAxB,CAAN;AACA,WAAO,KAAKoB,oBAAL,CAA0BC,OAA1B,CAAkC;AAAE9B,MAAAA,MAAM,EAAE;AAAV,KAAlC,CAAP;AACD;;AAEyB,QAAb4B,aAAa,CAACnB,SAAD;AACxB,SAAKsB,sBAAL,CAA4BtB,SAA5B;AACA,UAAM,KAAKuB,WAAL,CAAiBvB,SAAjB,CAAN;AACD;;AAEuB,QAAX5B,WAAW;QAAC;AAAEI,MAAAA;AAAF;AACvB,UAAMgD,kBAAkB,GAAG,KAAKC,cAAL,CAAoBjD,OAApB,CAA3B;AACA,UAAM;AAAEkD,MAAAA,MAAF;AAAUC,MAAAA,UAAV;AAAsBhC,MAAAA;AAAtB,QAAoC6B,kBAA1C;AACA,SAAKI,MAAL,CAAY;AACVpD,MAAAA,OAAO,EAAE;AADC,KAAZ;AAGA,UAAM,KAAKwB,SAAL,CAAerB,WAAf,CAA2B;AAC/BH,MAAAA,OAAO,EAAEqD,MAAM,CAACC,QAAP,CAAgBtD,OAAhB,EAAyB,EAAzB,CADsB;AAE/BE,MAAAA,cAAc,EAAE;AACdqD,QAAAA,IAAI,EAAEJ,UADQ;AAEdK,QAAAA,MAAM,EAAEN;AAFM,OAFe;AAM/BO,MAAAA,SAAS,EAAEJ,MAAM,CAACC,QAAP,CAAgBtD,OAAhB,EAAyB,EAAzB,CANoB;AAO/B0D,MAAAA,MAAM,EAAEvC;AAPuB,KAA3B,CAAN;AASA,SAAKwC,SAAL,CAAe;AAAExB,MAAAA,WAAW,EAAEa;AAAf,KAAf;AACA,UAAM,KAAKY,aAAL,CAAmB,KAAKpC,SAAxB,CAAN;AACD;;AAE4B,QAAboC,aAAa,CAACpC,SAAD;AAC3B,QAAI,CAACA,SAAS,CAACqC,SAAf,EAA0B,MAAMC,gBAAgB,CAACC,iBAAjB,CAAmC,2CAAnC,CAAN;AAC1B,QAAI,CAAC,KAAKvB,QAAV,EAAoB,MAAM/F,SAAS,CAAC+F,QAAV,CAAmBC,MAAnB,CAA0B;AAAE7F,MAAAA,OAAO,EAAE,6BAAX;AAA0C8F,MAAAA,IAAI,EAAE;AAAhD,KAA1B,CAAN;AACpB,UAAM;AAAE1C,MAAAA;AAAF,QAAc,KAAKiC,MAAL,CAAYE,WAAhC;AACA,UAAM6B,mBAAmB,GAAGC,WAAW,CAACzC,SAAS,CAACxB,OAAV,CAAkBkE,QAAlB,EAAD,CAAX,GAA4C1C,SAAS,CAACxB,OAAtD,eAAqEwB,SAAS,CAACxB,OAAV,CAAkBkE,QAAlB,CAA2B,EAA3B,CAArE,CAA5B;AACA,QAAIlE,OAAO,KAAKgE,mBAAhB,EACE,MAAMG,yBAAyB,CAACC,kBAA1B,4CAAiFJ,mBAAjF,yBAAmHhE,OAAnH,EAAN;AAEF,SAAKoD,MAAL,CAAY;AAAEpD,MAAAA,OAAO,EAAEgE;AAAX,KAAZ;AACA,SAAKxB,QAAL,CAAc6B,IAAd,CAAmB,SAAnB,EAA8B;AAAErE,MAAAA;AAAF,KAA9B;AACA,SAAKwC,QAAL,CAAc6B,IAAd,CAAmB,cAAnB,EAAmC,KAAKnC,KAAL,CAAWlC,OAA9C;AACA,WAAOgE,mBAAP;AACD;;AAEwB,QAAXjB,WAAW,CAACvB,SAAD;AACvB,UAAMlC,gBAAgB,GAAGiC,qBAAmB,CAAC;AAAEC,MAAAA;AAAF,KAAD,CAA5C;AACA,SAAK4B,MAAL,CAAY;AACVlH,MAAAA,QAAQ,EAAEsF,SAAS,CAACtF,QAAV,IAAsB;AADtB,KAAZ;AAGA,UAAMqD,aAAa,GAAGF,mBAAmB,CAACC,gBAAD,CAAzC;AACA,UAAMgF,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACA,UAAM;AAAEjD,MAAAA;AAAF,QAAwBJ,mBAAmB,CAAC,KAAKe,MAAL,CAAYE,WAAb,CAAjD;AACAmC,IAAAA,MAAM,CAACE,IAAP,CAAYjF,aAAZ;AACA+E,IAAAA,MAAM,CAACE,IAAP,CAAYlD,iBAAZ;AACA,UAAMkB,QAAQ,GAAGiC,kBAAkB,CAACH,MAAD,CAAnC;AACA,SAAKI,yBAAL,CAA+BlC,QAA/B;AACA,UAAM,KAAKoB,aAAL,CAAmBpC,SAAnB,CAAN;AACD;;AAEmC,QAAtBsB,sBAAsB,CAACtB,SAAD;AAClCA,IAAAA,SAAS,CAACmD,EAAV,CAAa,gBAAb,EAA+B,OAAOC,KAAP,EAA4BC,OAA5B;AAC7B,UAAI,CAAC,KAAKrC,QAAV,EAAoB,MAAMsB,gBAAgB,CAACC,iBAAjB,CAAmC,2CAAnC,CAAN;;AACpB,UAAIa,KAAJ,EAAW;AACT,aAAKpC,QAAL,CAAc6B,IAAd,CAAmB,OAAnB,EAA4BO,KAA5B;AACA;AACD;;AACD,YAAM;AAAE1I,QAAAA,QAAF;AAAY8D,QAAAA,OAAO,EAAE8E,gBAArB;AAAuCpB,QAAAA;AAAvC,UAAkDmB,OAAxD;;AAEA,UAAI3I,QAAQ,SAAR,IAAAA,QAAQ,WAAR,IAAAA,QAAQ,CAAEjB,MAAV,IAAoB,KAAKiH,KAAL,CAAWhG,QAAX,CAAoB,CAApB,MAA2BA,QAAQ,CAAC,CAAD,CAA3D,EAAgE;AAC9D,aAAKkH,MAAL,CAAY;AACVlH,UAAAA;AADU,SAAZ,EAD8D;;AAK9D,aAAKsG,QAAL,CAAc6B,IAAd,CAAmB,iBAAnB,EAAsCnI,QAAtC;AACD;;AACD,YAAM8H,mBAAmB,GAAGC,WAAW,CAACa,gBAAD,CAAX,GAAgCA,gBAAhC,eAAwDA,gBAAgB,CAACZ,QAAjB,CAA0B,EAA1B,CAAxD,CAA5B;;AAEA,UAAIY,gBAAgB,IAAI,KAAK5C,KAAL,CAAWlC,OAAX,KAAuBgE,mBAA/C,EAAoE;AAClE;AACA,aAAKL,SAAL,CAAe;AACbxB,UAAAA,WAAW,sCAAO,KAAKF,MAAL,CAAYE,WAAnB;AAAgCnC,YAAAA,OAAO,EAAEgE,mBAAzC;AAA8D7C,YAAAA,SAAS,EAAEuC;AAAzE;AADE,SAAf;AAGA,cAAM,KAAKX,WAAL,CAAiBvB,SAAjB,CAAN;AACD;AACF,KAxBD;AAyBD;;;;gBA1GUM,8CAWyB,MAAO1E,MAAP;AAIlC,QAAM2H,eAAe,GAAG,IAAIjD,qBAAJ,CAA0B;AAAEG,IAAAA,MAAM,EAAE;AAAEE,MAAAA,WAAW,EAAE/E,MAAM,CAAC+E;AAAtB;AAAV,GAA1B,CAAxB;AACA,QAAM4C,eAAe,CAACpC,aAAhB,CAA8BvF,MAAM,CAACoE,SAArC,CAAN;AACA,SAAOuD,eAAP;AACD;;ACdH,eAAeC,sBAAf,CAAsCC,eAAtC,EAAgE9C,WAAhE;AACE,QAAM;AAAE+C,IAAAA,WAAW,EAAE3B,IAAf;AAAqBvD,IAAAA;AAArB,MAAiCmC,WAAvC;AACA,QAAMgD,QAAQ,GAAGF,eAAe,GAAGG,QAAQ,CAACC,MAAZ,GAAqBD,QAAQ,CAACE,MAA9D;AAEA,QAAMC,iBAAiB,GAAG;AACxBhC,IAAAA,IADwB;AAExBvD,IAAAA,OAAO,EAAEA,OAAO,KAAK,SAAZ,GAAwB,CAAxB,GAA4BsD,QAAQ,CAACtD,OAAD,EAAU,EAAV,CAFrB;AAGxByD,IAAAA,SAAS,EAAEzD,OAAO,KAAK,SAAZ,GAAwB,CAAxB,GAA4BqD,MAAM,CAACC,QAAP,CAAgBtD,OAAhB,EAAyB,EAAzB,CAHf;AAIxBmF,IAAAA;AAJwB,GAA1B;AAOA,SAAOK,MAAM,CAAC/C,MAAP,CAAc8C,iBAAd,CAAP;AACD;;SAEehE;MAAoB;AAClCkE,IAAAA,OADkC;AAElCtD,IAAAA,WAFkC;AAGlCuD,IAAAA;AAHkC;AASlC,SAAO;AACLvK,IAAAA,WAAW,EAAE,MAAOsG,CAAP,IAAmC,aAAMkE,gBAAgB,CAACC,MAAM,CAACvI,IAAP,CAAYoI,OAAZ,EAAqB,KAArB,CAAD,CAAhB,CAA8CvB,QAA9C,CAAuD,KAAvD,CAAN,EAD3C;AAEL9I,IAAAA,aAAa,EAAE,MAAOqG,CAAP,IAAmCgE,OAF7C;AAGLhK,IAAAA,kBAAkB,EAAE,OAAO0B,QAAP,EAAoCsE,CAApC;AAClB,YAAMoE,mBAAmB,GAAGH,sBAAsB,EAAlD;AACA,UAAI,CAACG,mBAAL,EAA0B,MAAMpJ,SAAS,CAAC+F,QAAV,CAAmBC,MAAnB,CAA0B;AAAE7F,QAAAA,OAAO,EAAE,6BAAX;AAA0C8F,QAAAA,IAAI,EAAE;AAAhD,OAA1B,CAAN;AAC1B,YAAMoD,MAAM,GAAG,MAAMd,sBAAsB,CAAC,CAAC,CAAC7H,QAAQ,CAAC4I,YAAX,IAA2B,CAAC,CAAC5I,QAAQ,CAAC6I,oBAAvC,EAA6D7D,WAA7D,CAA3C;AACA,YAAM8D,aAAa,GAAGC,kBAAkB,CAACC,UAAnB,CAA8BhJ,QAA9B,EAAwC;AAAE2I,QAAAA;AAAF,OAAxC,CAAtB;AACA,YAAMM,QAAQ,GAAGH,aAAa,CAACI,IAAd,CAAmBT,MAAM,CAACvI,IAAP,CAAYoI,OAAZ,EAAqB,KAArB,CAAnB,EAAgDa,SAAhD,EAAjB;AACA,YAAMC,MAAM,GAAG,MAAMV,mBAAmB,CAAChD,OAApB,CAA8C;AACjE9B,QAAAA,MAAM,EAAE,wBADyD;AAEjE3D,QAAAA,MAAM,EAAE,aAAMgJ,QAAQ,CAAClC,QAAT,CAAkB,KAAlB,CAAN;AAFyD,OAA9C,CAArB;AAIA,aAAOqC,MAAP;AACD,KAdI;AAeL7K,IAAAA,sBAAsB,EAAE,OAAOyB,QAAP,EAAoCsE,CAApC;AACtB,YAAMqE,MAAM,GAAG,MAAMd,sBAAsB,CAAC,CAAC,CAAC7H,QAAQ,CAAC4I,YAAX,IAA2B,CAAC,CAAC5I,QAAQ,CAAC6I,oBAAvC,EAA6D7D,WAA7D,CAA3C;AACA,YAAM8D,aAAa,GAAGC,kBAAkB,CAACC,UAAnB,CAA8BhJ,QAA9B,EAAwC;AAAE2I,QAAAA;AAAF,OAAxC,CAAtB;AACA,YAAMM,QAAQ,GAAGH,aAAa,CAACI,IAAd,CAAmBT,MAAM,CAACvI,IAAP,CAAYoI,OAAZ,EAAqB,KAArB,CAAnB,EAAgDa,SAAhD,EAAjB;AACA,yBAAYF,QAAQ,CAAClC,QAAT,CAAkB,KAAlB,CAAZ;AACD,KApBI;AAqBL3I,IAAAA,qBAAqB,EAAE,OAAOkC,SAAP,EAAyCgE,CAAzC;AACrB,YAAM+E,aAAa,GAAG9E,WAAW,CAAC+D,OAAD,EAAUhI,SAAS,CAACC,IAApB,CAAjC;AACA,aAAO8I,aAAP;AACD,KAxBI;AAyBLhL,IAAAA,sBAAsB,EAAE,OAAOiC,SAAP,EAAyCgE,CAAzC;AACtB,YAAMgF,aAAa,GAAGb,MAAM,CAACvI,IAAP,CAAYoI,OAAZ,EAAqB,KAArB,CAAtB;AACA,YAAMiB,GAAG,GAAG3I,YAAY,CAAC;AAAE2C,QAAAA,UAAU,EAAE+F,aAAd;AAA6B/I,QAAAA,IAAI,EAAED,SAAS,CAACC;AAA7C,OAAD,CAAxB;AACA,aAAOgJ,GAAP;AACD,KA7BI;AA8BL/K,IAAAA,mBAAmB,EAAE,OAAO8B,SAAP,EAA8CgE,CAA9C;AACnBG,MAAAA,GAAG,CAACC,KAAJ,CAAU,qBAAV,EAAiCpE,SAAjC;AACA,YAAMgJ,aAAa,GAAGb,MAAM,CAACvI,IAAP,CAAYoI,OAAZ,EAAqB,KAArB,CAAtB;AACA,YAAMiB,GAAG,GAAG/I,aAAa,CAAC;AAAE+C,QAAAA,UAAU,EAAE+F,aAAd;AAA6B/I,QAAAA,IAAI,EAAED,SAAS,CAACC,IAA7C;AAAmDE,QAAAA,OAAO,EAAE+I,oBAAoB,CAACC;AAAjF,OAAD,CAAzB;AACA,aAAOF,GAAP;AACD,KAnCI;AAoCL9K,IAAAA,qBAAqB,EAAE,OAAO6B,SAAP,EAAkEgE,CAAlE;AACrBG,MAAAA,GAAG,CAACC,KAAJ,CAAU,uBAAV,EAAmCpE,SAAnC;AACA,YAAMgJ,aAAa,GAAGb,MAAM,CAACvI,IAAP,CAAYoI,OAAZ,EAAqB,KAArB,CAAtB;AACA,YAAMiB,GAAG,GAAG/I,aAAa,CAAC;AAAE+C,QAAAA,UAAU,EAAE+F,aAAd;AAA6B/I,QAAAA,IAAI,EAAED,SAAS,CAACC,IAA7C;AAAmDE,QAAAA,OAAO,EAAE+I,oBAAoB,CAACE;AAAjF,OAAD,CAAzB;AACA,aAAOH,GAAP;AACD,KAzCI;AA0CL7K,IAAAA,qBAAqB,EAAE,OAAO4B,SAAP,EAAkEgE,CAAlE;AACrBG,MAAAA,GAAG,CAACC,KAAJ,CAAU,uBAAV,EAAmCpE,SAAnC;AACA,YAAMgJ,aAAa,GAAGb,MAAM,CAACvI,IAAP,CAAYoI,OAAZ,EAAqB,KAArB,CAAtB;AACA,YAAMiB,GAAG,GAAG/I,aAAa,CAAC;AAAE+C,QAAAA,UAAU,EAAE+F,aAAd;AAA6B/I,QAAAA,IAAI,EAAED,SAAS,CAACC,IAA7C;AAAmDE,QAAAA,OAAO,EAAE+I,oBAAoB,CAACG;AAAjF,OAAD,CAAzB;AACA,aAAOJ,GAAP;AACD,KA/CI;AAgDLpL,IAAAA,0BAA0B,EAAE,OAAOU,OAAP,EAAwByF,CAAxB;AAC1BG,MAAAA,GAAG,CAACmF,IAAJ,CAAS,4BAAT,EAAuC/K,OAAvC;AACA,aAAOgL,sBAAsB,CAACvB,OAAD,CAA7B;AACD,KAnDI;AAoDLpK,IAAAA,qBAAqB,EAAE,CAACoC,SAAD,EAAmCgE,CAAnC;AACrBG,MAAAA,GAAG,CAACmF,IAAJ,CAAS,uBAAT,EAAkCtJ,SAAlC;AACA,YAAMwJ,QAAQ,GAAGC,cAAc,CAACzJ,SAAS,CAACC,IAAX,CAA/B;AACA,YAAMyJ,IAAI,GAAGvB,MAAM,CAACvI,IAAP,CAAY4J,QAAZ,EAAsB,KAAtB,CAAb;AACA,YAAMG,SAAS,GAAGC,OAAO,CAAC;AAAEC,QAAAA,aAAa,EAAEC,IAAI,CAACC,KAAL,CAAWL,IAAI,CAACjD,QAAL,CAAc,MAAd,CAAX,CAAjB;AAAwExD,QAAAA,UAAU,EAAE+E;AAApF,OAAD,CAAzB;AACA,aAAO2B,SAAP;AACD;AA1DI,GAAP;AA4DD;;;;;MCjFYK,mCAAmC1F;AAC9CC,EAAAA;QAAY;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV;AACV,UAAM;AAAED,MAAAA,MAAM,EAAE;AAAEE,QAAAA,WAAW,kCAAOF,MAAM,CAACE,WAAd;AAA2BC,UAAAA,cAAc,EAAEC,gBAAgB,CAACC;AAA5D;AAAb,OAAV;AAA+FJ,MAAAA;AAA/F,KAAN;AACD;;AAWkB,QAANK,MAAM;AACjB,QAAI,CAAC,KAAKL,KAAL,CAAWxB,UAAhB,EACE,MAAMjE,SAAS,CAAC+F,QAAV,CAAmBC,MAAnB,CAA0B;AAAE7F,MAAAA,OAAO,EAAE,2EAAX;AAAwF8F,MAAAA,IAAI,EAAE;AAA9F,KAA1B,CAAN;AACF,UAAM,KAAKC,aAAL,CAAmB,KAAKT,KAAL,CAAWxB,UAA9B,CAAN;AACA,WAAO,KAAKkC,oBAAL,CAA0BC,OAA1B,CAAkC;AAAE9B,MAAAA,MAAM,EAAE;AAAV,KAAlC,CAAP;AACD;;AAEyB,QAAb4B,aAAa,CAAC8C,OAAD;AACxB,UAAMnG,gBAAgB,GAAGiC,mBAAmB,CAAC;AAC3CkE,MAAAA,OAD2C;AAE3CtD,MAAAA,WAAW,EAAE,KAAKF,MAAL,CAAYE,WAFkB;AAG3CuD,MAAAA,sBAAsB,EAAE,KAAKA,sBAAL,CAA4BgC,IAA5B,CAAiC,IAAjC;AAHmB,KAAD,CAA5C;AAKA,UAAMnI,aAAa,GAAGF,mBAAmB,CAACC,gBAAD,CAAzC;AACA,UAAMqI,qBAAqB,GAAG,KAAKC,wBAAL,EAA9B;AACA,UAAMtD,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AAEA,UAAM;AAAEjD,MAAAA;AAAF,QAAwBJ,mBAAmB,CAAC,KAAKe,MAAL,CAAYE,WAAb,CAAjD;AACAmC,IAAAA,MAAM,CAACE,IAAP,CAAYjF,aAAZ;AACA+E,IAAAA,MAAM,CAACE,IAAP,CAAYmD,qBAAZ;AACArD,IAAAA,MAAM,CAACE,IAAP,CAAY,KAAKqD,oBAAL,EAAZ;AACAvD,IAAAA,MAAM,CAACE,IAAP,CAAYlD,iBAAZ;AACA,UAAMkB,QAAQ,GAAGiC,kBAAkB,CAACH,MAAD,CAAnC;AACA,SAAKI,yBAAL,CAA+BlC,QAA/B;AACA,UAAM,KAAKoB,aAAL,EAAN;AACD;;AAEyB,QAAbpD,aAAa,CAACpD,MAAD;AACxB,QAAI,CAAC,KAAKwF,oBAAV,EAAgC,MAAMnG,SAAS,CAAC+F,QAAV,CAAmBC,MAAnB,CAA0B;AAAE7F,MAAAA,OAAO,EAAE,6BAAX;AAA0C8F,MAAAA,IAAI,EAAE;AAAhD,KAA1B,CAAN;AAChC,UAAMoF,WAAW,GAAG,MAAM,KAAKlF,oBAAL,CAA0BC,OAA1B,CAAmD;AAAE9B,MAAAA,MAAM,EAAE;AAAV,KAAnD,CAA1B;;AACA,QAAI+G,WAAW,KAAK1K,MAAM,CAACsD,UAA3B,EAAuC;AACrC,YAAM,KAAKiC,aAAL,CAAmBvF,MAAM,CAACsD,UAA1B,CAAN;;AACA,WAAKkC,oBAAL,CAA0ByB,IAA1B,CAA+B,iBAA/B,EAAkD;AAChDnI,QAAAA,QAAQ,EAAE,MAAM,KAAK0G,oBAAL,CAA0BC,OAA1B,CAAqD;AAAE9B,UAAAA,MAAM,EAAE;AAAV,SAArD;AADgC,OAAlD;AAGD;AACF;;AAEuB,QAAXnB,WAAW,CAACxC,MAAD;AACtB,QAAI,CAAC,KAAKwF,oBAAV,EAAgC,MAAMnG,SAAS,CAAC+F,QAAV,CAAmBC,MAAnB,CAA0B;AAAE7F,MAAAA,OAAO,EAAE,6BAAX;AAA0C8F,MAAAA,IAAI,EAAE;AAAhD,KAA1B,CAAN;AAChC,UAAMP,WAAW,GAAG,KAAKc,cAAL,CAAoB7F,MAAM,CAAC4C,OAA3B,CAApB;AACA,SAAKoD,MAAL,CAAY;AACVpD,MAAAA,OAAO,EAAE;AADC,KAAZ;AAGA,SAAK2D,SAAL,CAAe;AAAExB,MAAAA;AAAF,KAAf;AACA,UAAMsD,OAAO,GAAG,MAAM,KAAK7C,oBAAL,CAA0BC,OAA1B,CAAmD;AAAE9B,MAAAA,MAAM,EAAE;AAAV,KAAnD,CAAtB;AACA,UAAM,KAAK4B,aAAL,CAAmB8C,OAAnB,CAAN;AACD;;AAE4B,QAAb7B,aAAa;AAC3B,QAAI,CAAC,KAAKpB,QAAV,EAAoB,MAAM/F,SAAS,CAAC+F,QAAV,CAAmBC,MAAnB,CAA0B;AAAE7F,MAAAA,OAAO,EAAE,6BAAX;AAA0C8F,MAAAA,IAAI,EAAE;AAAhD,KAA1B,CAAN;AACpB,UAAM;AAAE1C,MAAAA;AAAF,QAAc,KAAKiC,MAAL,CAAYE,WAAhC;AACA,QAAI,CAACnC,OAAL,EAAc,MAAMvD,SAAS,CAACC,GAAV,CAAcC,aAAd,CAA4B,yCAA5B,CAAN;AACd,UAAMoL,OAAO,GAAG,MAAM,KAAKnF,oBAAL,CAA0BC,OAA1B,CAAoD;AACxE9B,MAAAA,MAAM,EAAE,aADgE;AAExE3D,MAAAA,MAAM,EAAE;AAFgE,KAApD,CAAtB;AAKA,QAAIkG,QAAQ,CAACtD,OAAD,EAAU,EAAV,CAAR,KAA0BsD,QAAQ,CAACyE,OAAD,EAAU,EAAV,CAAtC,EAAqD,MAAMtL,SAAS,CAAC+F,QAAV,CAAmBwF,iBAAnB,4CAAyED,OAAzE,EAAN;AACrDnG,IAAAA,GAAG,CAACC,KAAJ,CAAU,eAAV,EAA2B,KAAKW,QAAhC,EAA0CxC,OAA1C,EAAmD,KAAKkC,KAAL,CAAWlC,OAA9D;;AAEA,QAAI,KAAKkC,KAAL,CAAWlC,OAAX,KAAuBA,OAA3B,EAAoC;AAClC,WAAKwC,QAAL,CAAc6B,IAAd,CAAmB,cAAnB,EAAmCrE,OAAnC;AACA,WAAKwC,QAAL,CAAc6B,IAAd,CAAmB,SAAnB,EAA8B;AAAErE,QAAAA;AAAF,OAA9B;AACD;;AACD,SAAKoD,MAAL,CAAY;AAAEpD,MAAAA;AAAF,KAAZ;AACA,WAAO+H,OAAP;AACD;;AAEOH,EAAAA,wBAAwB;AAC9B,UAAMK,mBAAmB,GAAyB;AAChDtI,MAAAA,QAAQ,EAAE,MAAOvC,MAAP;AACR,cAAM;AAAE4C,UAAAA,OAAF;AAAWkI,UAAAA,SAAX;AAAsBjI,UAAAA,OAAtB;AAA+BkI,UAAAA,iBAA/B;AAAkDjI,UAAAA;AAAlD,YAAqE9C,MAA3E;AACA,aAAKuC,QAAL,CAAc;AACZyC,UAAAA,cAAc,EAAE,QADJ;AAEZpC,UAAAA,OAFY;AAGZkD,UAAAA,MAAM,EAAE,CAAAhD,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEsD,MAAhB,KAA0B,KAHtB;AAIZL,UAAAA,UAAU,EAAE,CAAAjD,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEqD,IAAhB,KAAwB,OAJxB;AAKZ2B,UAAAA,WAAW,EAAEgD,SALD;AAMZ/G,UAAAA,SAAS,EAAElB,OAAO,CAAC,CAAD,CANN;AAOZmI,UAAAA,aAAa,EAAE,CAAAD,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAG,CAAH,CAAjB,KAA0B;AAP7B,SAAd;AASD,OAZ+C;AAahDvI,MAAAA,WAAW,EAAE,MAAOxC,MAAP;AACX,cAAM;AAAE4C,UAAAA;AAAF,YAAc5C,MAApB;AACA,cAAM,KAAKwC,WAAL,CAAiB;AAAEI,UAAAA;AAAF,SAAjB,CAAN;AACD;AAhB+C,KAAlD;AAkBA,UAAM2H,qBAAqB,GAAGjI,2BAA2B,CAACuI,mBAAD,CAAzD;AACA,WAAON,qBAAP;AACD;;AAEOE,EAAAA,oBAAoB;AAC1B,UAAMQ,eAAe,GAAqB;AACxC9H,MAAAA,gBAAgB,EAAE,MAAOnD,MAAP;AAChB,cAAM;AAAEsD,UAAAA;AAAF,YAAiBtD,MAAvB;AACA,cAAM,KAAKoD,aAAL,CAAmB;AAAEE,UAAAA;AAAF,SAAnB,CAAN;AACD;AAJuC,KAA1C;AAMA,WAAOJ,uBAAuB,CAAC+H,eAAD,CAA9B;AACD;;;;gBAlHUZ,mDAKyB,MAAOrK,MAAP;AAIlC,QAAM2H,eAAe,GAAG,IAAI0C,0BAAJ,CAA+B;AAAExF,IAAAA,MAAM,EAAE;AAAEE,MAAAA,WAAW,EAAE/E,MAAM,CAAC+E;AAAtB;AAAV,GAA/B,CAAxB;AACA,QAAM4C,eAAe,CAACpC,aAAhB,CAA8BvF,MAAM,CAACqI,OAArC,CAAN;AACA,SAAOV,eAAP;AACD;;;;"}