{"version":3,"file":"walletConnectV1Adapter.esm.js","sources":["../src/walletConnectV1adapter.ts"],"sourcesContent":[null],"names":["WalletConnectV1Adapter","BaseAdapter","constructor","options","WALLET_ADAPTERS","WALLET_CONNECT_V1","ADAPTER_NAMESPACES","EIP155","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","uri","adapterOptions","chainConfig","connected","connector","provider","wcProvider","_","Error","init","checkInitializationRequirements","getChainConfig","getWalletConnectInstance","WalletConnectProvider","config","emit","ADAPTER_EVENTS","READY","status","rehydrated","onConnectHandler","accounts","chainId","toString","connect","checkConnectionRequirements","WalletInitializationError","notReady","CONNECTING","adapterSettings","qrcodeModal","createNewSession","adapter","Promise","resolve","reject","on","error","payload","ERRORED","params","log","Web3AuthError","WalletLoginError","connectionError","message","getUserInfo","notConnectedError","disconnect","cleanup","killSession","DISCONNECTED","opts","forceNewSession","pending","createSession","parseInt","debug","err","updateAdapterData","off","catch","invalidParams","connectedChainId","isHexStrict","fromCode","setupProvider","subscribeEvents","CONNECTED","reconnected","walletConnectOptions","bridge","WalletConnect"],"mappings":"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"}